# متطلبات نظام إدارة شركة التوزيع
## Sales Distribution Management System Requirements

---

## 1. نظام إدارة المندوبين (Sales Representatives Management)

### أ. أنظمة الرواتب والحوافز المتعددة

#### الراتب الأساسي
- راتب ثابت قابل للتخصيص (مثال: 1,000,000 دينار عراقي)
- إمكانية تحديد راتب مختلف لكل مندوب
- ربط الراتب بنسبة إنجاز قابلة للتخصيص (مثال: 80% للحصول على الراتب كاملاً)

#### النظام الأول: الأهداف المحددة لكل صنف/مورد
**المتطلبات:**
- تحديد أهداف مخصصة لكل مندوب حسب:
  - نوع المنتج (منظفات، مواد غذائية، حفاضات، إلخ)
  - المورد/الشركة (مثال: شركة جيهان، شركة الروان)
  - الكمية المستهدفة (بالكراتين)
- عرض تفصيلي يوضح:
  - الهدف المحدد
  - الكمية المحققة فعلياً
  - الكمية المتبقية
  - النسبة المئوية للإنجاز
- عزل وتصنيف المبيعات حسب:
  - نوع المنتج
  - المورد
  - حتى لو كان المورد يزود أنواعاً متعددة
- تسجيل كل منتج باسم المورد لتمكين تتبع:
  - أرباح كل مندوب من كل مورد
  - مبيعات كل مندوب لكل منتج

#### النظام الثاني: الهدف الكلي "المشكل"
**المتطلبات:**
- تحديد هدف كلي بعدد كراتين محدد (مثال: 6000 كرتون)
- مبلغ ثابت لكل كرتون مباع (مثال: 250-300 دينار عراقي)
- حساب تلقائي للمبلغ المستحق
- خيارات مرونة:
  - هدف شامل لجميع المنتجات
  - أهداف محددة لكل منتج على حدة
- هدف النظام: تشجيع بيع جميع الأنواع لتجنب:
  - تراكم البضائع
  - انتهاء الصلاحية

#### النظام الثالث: نظام العمولة
**المتطلبات:**
- السماح للمندوب بتحديد سعر البيع أعلى من سعر الشراء
- حساب العمولة = الفرق بين سعر البيع وسعر الشراء
- مثال: شراء بـ1000 دينار، بيع بـ1100 دينار = عمولة 100 دينار
- خيار تفعيل/إلغاء هذا النظام حسب سياسة الشركة

### ب. حساب الأداء والإنجاز

#### نظام النسب المئوية
- حساب دقيق للنسبة المئوية لتحقيق الهدف
- مرونة في تحديد النسبة المطلوبة للراتب الكامل (مثال: 80%)
- **مهم جداً**: حساب كامل المستحقات حتى لو تجاوز 100%
  - مثال: إنجاز 115% = استحقاق كامل للـ115% وليس التوقف عند 100%

#### تتبع الأداء التفصيلي
- عرض واضح لما باعه المندوب:
  - المنتجات الأكثر مبيعاً
  - المنتجات الأقل مبيعاً
  - الأداء حسب المورد
  - الأداء حسب نوع المنتج

### ج. التقرير الشهري للمندوب (مفصل ودقيق)

#### البيانات المالية
1. **مبلغ السلعة الكلي** الذي باعه المندوب
2. **البضاعة المرتجعة** من العملاء (قيمة وكمية)
3. **مبلغ البضاعة الصافي** بعد خصم المرتجعات
4. **النقد الواصل** (المبلغ النقدي الفعلي الذي جلبه المندوب)
5. **ديون العملاء** المرتبطة بالمندوب

#### البيانات الكمية
1. **العدد الكلي للكراتين** المباعة
2. **عدد الكراتين المرتجعة**
3. **عدد الفواتير** التي أصدرها خلال الشهر

#### تحليل الأداء حسب الأصناف
- لكل صنف منتج:
  - الهدف المحدد
  - الكمية المحققة
  - النسبة المئوية للإنجاز
  - الكمية المتبقية من الهدف
- مثال: "المواد الغذائية: الهدف 1500، المحقق 1355، النسبة 90.3%، المتبقي 145"

---

## 2. نظام إدارة العملاء (Customer Management)

### متطلبات أساسية
- ربط كل عميل بمندوب محدد
- تتبع ديون كل عميل
- تسجيل المدفوعات النقدية والديون المتبقية
- إدراج ديون العملاء في التقرير الشهري للمندوب

### تتبع المعاملات المالية
- المبالغ المستلمة نقداً
- المبالغ المتبقية كديون
- تاريخ كل معاملة
- حالة السداد لكل فاتورة

---

## 3. نظام إدارة المخزن المتقدم (Advanced Inventory Management)

### أ. تسجيل وتصنيف المنتجات

#### المعلومات الأساسية
- **اسم المنتج** (باللغة العربية والإنجليزية إذا لزم)
- **المورد/الشركة** التي جاء منها المنتج
- **نوع المنتج** (منظفات، مواد غذائية، حفاضات، إلخ)
- **الكمية بالكراتين**
- **الوزن** (إجمالي ووزن الكرتون الواحد)
- **الباركود** (الرقم والخطوط)
- **سعر الشراء** من المورد
- **سعر البيع** المقترح/المحدد

#### تواريخ مهمة
- **تاريخ دخول المنتج** للمخزن
- **تاريخ انتهاء الصلاحية**
- **تاريخ النفاذ** (انتهاء الكمية من المخزن)

### ب. تتبع حالة المخزون

#### المراقبة المستمرة
- **الكميات المتبقية** من كل منتج في الوقت الفعلي
- **المنتجات قليلة المبيعات** (تحليل البيانات)
- **المنتجات المرتجعة** (أسباب الإرجاع)
- **المنتجات قريبة انتهاء الصلاحية**
- **المنتجات النافذة** التي تحتاج إعادة طلب

#### تقارير للمشتريات
- **كشف خاص لكل مورد** يوضح:
  - المواد الموجودة حالياً
  - المواد النافذة (المخلّصة)
  - الكميات المتبقية
  - تاريخ الشراء الأخير
  - تاريخ النفاذ المتوقع
- **توجيهات لقسم المشتريات** بناءً على البيانات

### ج. نظام الباركود

#### المتطلبات التقنية
- **الباركود رقمي**: أرقام قابلة للقراءة
- **الباركود الخطي**: خطوط قابلة للقراءة بالليزر
- **التوافق**: قراءة بالليزر أو تطبيقات الموبايل
- **الطباعة**: إمكانية طباعة الباركود على الفواتير
- **التكامل**: ربط الباركود بمعلومات المنتج في النظام

### د. قيمة المخزون

#### الحسابات المالية
- حساب **القيمة الإجمالية للمخزون** (كجزء من رأس المال)
- تقييم المخزون حسب:
  - سعر الشراء (التكلفة)
  - سعر البيع المتوقع
- **تقارير قيمة المخزون الشهرية**

---

## 4. نظام الرواتب المتقدم (Advanced Payroll System)

### الراتب الأساسي
- **الراتب الثابت**: قابل للتخصيص (مثال: 1,000,000 دينار عراقي)
- **نسبة الاستحقاق**: تحديد نسبة إنجاز للحصول على الراتب كاملاً (مثال: 80%)

### حساب الرواتب حسب الأهداف
- **المرونة في النسب**: عدم التوقف عند 100% من الهدف
- **الحساب التلقائي**: للمستحقات حسب الخطة المختارة
- **التقارير المفصلة**: راتب + حوافز + عمولات

### المصروفات الإدارية
- **تسجيل رواتب الموظفين** كجزء من مصروفات الشركة
- **خصم الرواتب** من الأرباح الإجمالية
- **تقارير المصروفات الشهرية**

---

## 5. النظام المالي الشامل (Comprehensive Financial System)

### أ. إدارة رأس المال (Capital Management)

#### مكونات رأس المال
- **قيمة البضاعة في المخزن** (حسب سعر الشراء)
- **الديون في السوق**:
  - ديون العملاء على المندوبين
  - ديون مباشرة على الشركة
- **النقد المتوفر**:
  - في الخزينة
  - في الحسابات البنكية

#### الحفظ والتتبع التاريخي
- **الحفظ الشهري لرأس المال** (snapshot شهري)
- **إمكانية الرجوع لأي تاريخ** (مثال: 1/1/2025)
- **مقارنة التطور** عبر فترات زمنية (7-8 أشهر)
- **تحليل اتجاهات رأس المال** (نمو/انخفاض)

### ب. إدارة الأرباح (Profit Management)

#### مصادر الأرباح الثلاثة
1. **أرباح الموردين/الشركات**:
   - ملخص مفصل لأرباح كل مورد
   - الفرق بين سعر الشراء وسعر البيع
   - حجم المبيعات لكل مورد

2. **أرباح المندوبين**:
   - الأرباح المحققة من مبيعات كل مندوب
   - العمولات والحوافز

3. **مبيعات أرض المكتب**:
   - المبيعات المباشرة من المكتب
   - المبيعات لعملاء مباشرين

#### الحسابات المالية
- **مجموع الأرباح الإجمالية**
- **المصروفات العامة**:
  - رواتب الموظفين
  - الإيجار
  - مصروفات أخرى (كهرباء، مياه، صيانة، إلخ)
- **صافي الربح** = الأرباح الإجمالية - المصروفات

#### إدارة الخسائر (منفصلة عن المصروفات)
- **تسجيل الخسائر الفعلية**:
  - مثال: شراء منتج بـ1,000,000 دينار وبيعه بـ500,000 دينار
  - أسباب الخسارة: انتهاء صلاحية، تلف، إلخ
- **التمييز بين الخسائر والمصروفات**
- **تقارير الخسائر الشهرية**

### ج. تقييم أداء الموردين "نظام البورصة" (Supplier Performance Evaluation)

#### التحليل الشهري
- **مراقبة ارتفاع وانخفاض مبيعات** كل مورد شهرياً
- **مؤشرات الأداء**:
  - حجم المبيعات
  - معدل دوران المخزون
  - المرتجعات
  - الأرباح المحققة

#### التقارير التفصيلية
- **تقرير لكل مورد**:
  - عدد المنتجات المسحوبة من المخزن
  - كمية المبيعات لكل منتج شهرياً
  - اتجاهات المبيعات (صاعدة/هابطة)
- **مساعدة في اتخاذ قرارات الشراء المستقبلية**

#### نظام التقييم والتصنيف
- **تصنيف الموردين** حسب الأداء
- **تحديد أفضل وأسوأ المنتجات** مبيعاً
- **توصيات للمشتريات** بناءً على البيانات

---

## 6. المرونة والخصائص التقنية (Flexibility & Technical Features)

### أ. مرونة النظام

#### قابلية التخصيص
- **تغيير سياسات المندوبين** دون تعديل البرمجة
- **تعديل النسب والمعايير** من واجهة الإدارة
- **إضافة خطط حوافز جديدة** بسهولة
- **تخصيص التقارير** حسب احتياجات المستخدم

#### المعادلات الحسابية
- **دقة عالية في الحسابات** (أولوية قصوى)
- **التحقق من صحة المعادلات** تلقائياً
- **شفافية الحسابات** (إظهار كيفية الوصول للنتيجة)

### ب. استيراد وتصدير البيانات

#### استيراد من Excel
- **قوائم المنتجات**:
  - أسماء المنتجات
  - أسماء الشركات/الموردين
  - الأعداد والكميات
  - الأوزان
  - أرقام الباركود
  - الأسعار
- **قوائم العملاء والمندوبين**
- **البيانات المالية الأولية**

#### تصدير التقارير
- **تصدير لـ Excel** لجميع التقارير
- **تصدير لـ PDF** للطباعة
- **إمكانية الطباعة المباشرة**

### ج. الواجهات والتجربة

#### واجهة المستخدم
- **تصميم عربي كامل** (RTL)
- **واجهات منفصلة**:
  - لوحة تحكم الإدارة
  - واجهة المندوبين
  - واجهة المشتريات
- **استجابة على جميع الأجهزة** (موبايل، تابلت، كمبيوتر)

#### الأمان والصلاحيات
- **نظام صلاحيات متقدم**:
  - مدير عام
  - مدير مبيعات
  - محاسب
  - مندوب
- **تشفير البيانات الحساسة**
- **نسخ احتياطية تلقائية**

---

## 7. التقارير والإحصائيات المطلوبة

### تقارير المندوبين
1. **التقرير الشهري الشامل** (كما هو مفصل أعلاه)
2. **تقرير الأداء اليومي**
3. **تقرير مقارنة الأهداف مع الإنجاز**
4. **تقرير توزيع المبيعات حسب المورد**

### تقارير المخزون
1. **تقرير حالة المخزون الحالية**
2. **تقرير المنتجات قريبة انتهاء الصلاحية**
3. **تقرير المنتجات بطيئة الحركة**
4. **تقرير لكل مورد منفصل**

### التقارير المالية
1. **تقرير رأس المال الشهري**
2. **تقرير الأرباح والخسائر**
3. **تقرير المصروفات**
4. **تقرير المقارنات الشهرية**

### تقارير الموردين
1. **تقرير أداء الموردين "البورصة"**
2. **تقرير أفضل وأسوأ المنتجات**
3. **تقرير توصيات الشراء**

---

## 8. الأولويات في التطوير

### المرحلة الأولى (الأساسية)
1. نظام إدارة المنتجات والمخزون
2. نظام إدارة المندوبين والعملاء
3. نظام الفواتير الأساسي
4. حسابات الأرباح الأساسية

### المرحلة الثانية (المتقدمة)
1. أنظمة الحوافز المتعددة
2. التقارير المفصلة
3. نظام البورصة للموردين
4. النظام المالي الشامل

### المرحلة الثالثة (التحسينات)
1. استيراد/تصدير البيانات
2. التحليلات المتقدمة
3. التنبيهات التلقائية
4. تحسينات الأداء والأمان

---

## 9. المتطلبات التقنية

### البيئة التقنية
- **Laravel 11+** (Backend)
- **React 18+** with Inertia.js (Frontend)
- **MySQL 8+** (Database)
- **Tailwind CSS** (Styling)

### الخدمات المطلوبة
- **نظام المصادقة** المتقدم
- **نظام الإشعارات**
- **نظام النسخ الاحتياطي**
- **نظام السجلات والمراجعة** (Audit Logs)

### الأداء والقابلية للتوسع
- **تحسين قواعد البيانات** للاستعلامات المعقدة
- **تخزين مؤقت** للتقارير الثقيلة
- **فهرسة البيانات** للبحث السريع

---

هذه هي المتطلبات الشاملة والمفصلة للنظام. كل نقطة تحتاج تخطيط وتنفيذ دقيق لضمان نجاح المشروع وتلبية جميع احتياجات العمل.
