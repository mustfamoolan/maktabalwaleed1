import{r as d,j as e,H as j,L as m,a as b}from"./app-DLu82VbL.js";import{A as f}from"./AdminLayout-TR3F2rdb.js";import{m as w,J as N,K as v,n as F,h as k,L as $,s as C,i as X,j as _,f as S,M as L}from"./index-UdTL3sIO.js";/* empty css            */const H=({preparer:a})=>{const[r,u]=d.useState({name:a.name||"",phone:a.phone||"",password:"",salary:a.salary||"",is_active:a.is_active??!0,notes:a.notes||""}),[s,x]=d.useState({}),[h,n]=d.useState(!1),g=o=>{o.preventDefault(),n(!0);const t={...r};t.password||delete t.password,b.put(`/admin/preparers/${a.id}`,t,{onSuccess:()=>{},onError:i=>{x(i),n(!1)},onFinish:()=>{n(!1)}})},l=o=>{const{name:t,value:i,type:p,checked:y}=o.target;u(c=>({...c,[t]:p==="checkbox"?y:i})),s[t]&&x(c=>({...c,[t]:null}))};return e.jsxs(f,{title:`تعديل المجهز: ${a.name}`,children:[e.jsx(j,{title:`تعديل المجهز: ${a.name}`}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsx(m,{href:"/admin/preparers",className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(w,{className:"w-4 h-4"})}),e.jsx("div",{className:"p-2 bg-yellow-500 rounded-lg",children:e.jsx(N,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"تعديل بيانات المجهز"}),e.jsxs("p",{className:"text-gray-600",children:[a.name," - ID: ",a.id]})]})]}),e.jsxs(m,{href:`/admin/preparers/${a.id}`,className:"inline-flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"إلغاء"]})]})}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(F,{className:"inline w-4 h-4 ml-1"}),"اسم المجهز *"]}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:l,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${s.name?"border-red-500":"border-gray-300"}`,placeholder:"أدخل اسم المجهز الكامل",required:!0}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(k,{className:"inline w-4 h-4 ml-1"}),"رقم الهاتف *"]}),e.jsx("input",{type:"text",name:"phone",value:r.phone,onChange:l,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${s.phone?"border-red-500":"border-gray-300"}`,placeholder:"07XX XXX XXXX",required:!0}),s.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx($,{className:"inline w-4 h-4 ml-1"}),"كلمة المرور الجديدة"]}),e.jsx("input",{type:"password",name:"password",value:r.password,onChange:l,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${s.password?"border-red-500":"border-gray-300"}`,placeholder:"اتركه فارغاً إذا لم تريد تغيير كلمة المرور",minLength:"6"}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"اترك هذا الحقل فارغاً إذا لم تريد تغيير كلمة المرور الحالية"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(C,{className:"inline w-4 h-4 ml-1"}),"الراتب الأساسي (د.ع)"]}),e.jsx("input",{type:"number",name:"salary",value:r.salary,onChange:l,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${s.salary?"border-red-500":"border-gray-300"}`,placeholder:"0.00",min:"0",step:"0.01"}),s.salary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.salary})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:r.is_active,onChange:l,className:"sr-only"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`block w-14 h-8 rounded-full transition-colors ${r.is_active?"bg-green-500":"bg-gray-300"}`}),e.jsx("div",{className:`absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${r.is_active?"transform translate-x-6":""}`})]}),e.jsx("span",{className:"mr-3 text-sm font-medium text-gray-700",children:r.is_active?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"inline w-4 h-4 ml-1 text-green-500"}),"المجهز نشط"]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"inline w-4 h-4 ml-1 text-gray-400"}),"المجهز غير نشط"]})})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(S,{className:"inline w-4 h-4 ml-1"}),"ملاحظات"]}),e.jsx("textarea",{name:"notes",value:r.notes,onChange:l,rows:"3",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${s.notes?"border-red-500":"border-gray-300"}`,placeholder:"أي ملاحظات إضافية عن المجهز..."}),s.notes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.notes})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-200",children:[e.jsx(m,{href:`/admin/preparers/${a.id}`,className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:h,className:"inline-flex items-center px-6 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري التحديث..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"حفظ التغييرات"]})})]})]})]})})]})};export{H as default};
