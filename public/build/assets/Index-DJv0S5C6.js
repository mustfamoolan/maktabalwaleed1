import{r,j as e,H as k,L as j,a as i}from"./app-nFOrUbza.js";import{A as F}from"./AdminLayout-BM2bZjzS.js";import{F as u,a as _,b as C,c as b,d as N,e as T,f as L,g as A,h as D,i as U,j as E,k as H,l as M}from"./index-CQIIe2w9.js";/* empty css            */const z=({customers:t,representatives:y,filters:l,stats:a})=>{const[d,h]=r.useState(l.search||""),[c,m]=r.useState(l.representative_id||""),[n,g]=r.useState(l.status||""),[x,p]=r.useState(l.has_location||""),[R,$]=r.useState(!1),v=()=>{const s={};d&&(s.search=d),c&&(s.representative_id=c),n!==""&&(s.status=n),x!==""&&(s.has_location=x),i.get(route("admin.customers.index"),s,{preserveState:!0,preserveScroll:!0})},f=()=>{h(""),m(""),g(""),p(""),i.get(route("admin.customers.index"))},w=s=>{i.post(route("admin.customers.toggle-status",s),{},{preserveScroll:!0})},S=(s,o)=>{confirm(`هل أنت متأكد من حذف العميل "${o}"؟`)&&i.delete(route("admin.customers.destroy",s),{preserveScroll:!0})};return e.jsxs(F,{title:"إدارة العملاء",children:[e.jsx(k,{title:"إدارة العملاء"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"إدارة العملاء"}),e.jsx("p",{className:"opacity-90",children:"عرض ومتابعة جميع عملاء المندوبين"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:a.total}),e.jsx("div",{className:"text-sm opacity-90",children:"إجمالي العملاء"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(u,{className:"w-6 h-6 text-white"})})}),e.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"إجمالي العملاء"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"w-6 h-6 text-white"})})}),e.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"عملاء نشطون"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.active})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center",children:e.jsx(C,{className:"w-6 h-6 text-white"})})}),e.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"غير نشطين"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.inactive})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(b,{className:"w-6 h-6 text-white"})})}),e.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"مع مواقع"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.with_location})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(N,{className:"w-5 h-5 mr-3"}),"البحث والفلترة"]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البحث"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:d,onChange:s=>h(s.target.value),placeholder:"البحث في العملاء...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المندوب"}),e.jsxs("select",{value:c,onChange:s=>m(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"جميع المندوبين"}),y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحالة"}),e.jsxs("select",{value:n,onChange:s=>g(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"جميع الحالات"}),e.jsx("option",{value:"1",children:"نشط"}),e.jsx("option",{value:"0",children:"غير نشط"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الموقع"}),e.jsxs("select",{value:x,onChange:s=>p(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"الكل"}),e.jsx("option",{value:"1",children:"مع موقع"}),e.jsx("option",{value:"0",children:"بدون موقع"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(T,{className:"w-4 h-4"}),"تطبيق الفلاتر"]}),e.jsx("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"مسح الفلاتر"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["قائمة العملاء (",t.data.length,")"]})}),t.data.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(u,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"لا توجد عملاء"}),e.jsx("p",{className:"text-gray-600",children:"لم يتم العثور على عملاء بالمعايير المحددة"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العميل"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المندوب"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الهاتف"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الموقع"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الإضافة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),s.notes&&e.jsxs("div",{className:"text-sm text-gray-500 truncate max-w-40",children:[e.jsx(L,{className:"inline w-3 h-3 ml-1"}),s.notes]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"w-4 h-4 text-blue-500 ml-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.representative?.name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.phone?e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"w-3 h-3 text-green-500 ml-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.phone})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"غير محدد"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.latitude&&s.longitude?e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"w-3 h-3 text-red-500 ml-2"}),e.jsx("span",{className:"text-sm text-green-600",children:"موجود"})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"غير محدد"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>w(s.id),className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium transition-colors ${s.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[s.is_active?e.jsx(U,{className:"w-3 h-3"}):e.jsx(E,{className:"w-3 h-3"}),s.is_active?"نشط":"غير نشط"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString("ar-SA")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{href:route("admin.customers.show",s.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"عرض التفاصيل",children:e.jsx(H,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>S(s.id,s.name),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"حذف",children:e.jsx(M,{className:"w-4 h-4"})})]})})]},s.id))})]})}),t.links&&t.links.length>3&&e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["عرض ",t.from," إلى ",t.to," من ",t.total," عميل"]}),e.jsx("div",{className:"flex gap-1",children:t.links.map((s,o)=>e.jsx(j,{href:s.url||"#",className:`px-3 py-1 text-sm rounded ${s.active?"bg-blue-600 text-white":s.url?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},o))})]})})]})]})]})};export{z as default};
