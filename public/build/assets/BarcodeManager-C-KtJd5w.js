import{g as br,r as de,j as z}from"./app-nFOrUbza.js";var Ie={},be={},je={},Et;function le(){if(Et)return je;Et=1,Object.defineProperty(je,"__esModule",{value:!0});function A(S,d){if(!(S instanceof d))throw new TypeError("Cannot call a class as a function")}var x=function S(d,p){A(this,S),this.data=d,this.text=p.text||d,this.options=p};return je.default=x,je}var bt;function Mr(){if(bt)return be;bt=1,Object.defineProperty(be,"__esModule",{value:!0}),be.CODE39=void 0;var A=function(){function l(s,h){for(var v=0;v<h.length;v++){var _=h[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(s,_.key,_)}}return function(s,h,v){return h&&l(s.prototype,h),v&&l(s,v),s}}(),x=le(),S=d(x);function d(l){return l&&l.__esModule?l:{default:l}}function p(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}function c(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:l}function i(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(l,s):l.__proto__=s)}var f=function(l){i(s,l);function s(h,v){return p(this,s),h=h.toUpperCase(),v.mod43&&(h+=r(u(h))),c(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,h,v))}return A(s,[{key:"encode",value:function(){for(var v=e("*"),_=0;_<this.data.length;_++)v+=e(this.data[_])+"0";return v+=e("*"),{data:v,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),s}(S.default),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],t=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function e(l){return n(o(l))}function n(l){return t[l].toString(2)}function r(l){return a[l]}function o(l){return a.indexOf(l)}function u(l){for(var s=0,h=0;h<l.length;h++)s+=o(l[h]);return s=s%43,s}return be.CODE39=f,be}var he={},Ne={},ke={},te={},Ot;function Te(){if(Ot)return te;Ot=1,Object.defineProperty(te,"__esModule",{value:!0});var A;function x(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var S=te.SET_A=0,d=te.SET_B=1,p=te.SET_C=2;te.SHIFT=98;var c=te.START_A=103,i=te.START_B=104,f=te.START_C=105;return te.MODULO=103,te.STOP=106,te.FNC1=207,te.SET_BY_CODE=(A={},x(A,c,S),x(A,i,d),x(A,f,p),A),te.SWAP={101:S,100:d,99:p},te.A_START_CHAR="Ð",te.B_START_CHAR="Ñ",te.C_START_CHAR="Ò",te.A_CHARS="[\0-_È-Ï]",te.B_CHARS="[ -È-Ï]",te.C_CHARS="(Ï*[0-9]{2}Ï*)",te.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],te}var wt;function _t(){if(wt)return ke;wt=1,Object.defineProperty(ke,"__esModule",{value:!0});var A=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=le(),S=p(x),d=Te();function p(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){f(e,t);function e(n,r){c(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return o.bytes=n.split("").map(function(u){return u.charCodeAt(0)}),o}return A(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,o=r.shift()-105,u=d.SET_BY_CODE[o];if(u===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(d.FNC1);var l=e.next(r,1,u);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(o)+l.result+e.getBar((l.checksum+o)%d.MODULO)+e.getBar(d.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return d.BARS[r]?d.BARS[r].toString():""}},{key:"correctIndex",value:function(r,o){if(o===d.SET_A){var u=r.shift();return u<32?u+64:u-32}else return o===d.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,o,u){if(!r.length)return{result:"",checksum:0};var l=void 0,s=void 0;if(r[0]>=200){s=r.shift()-105;var h=d.SWAP[s];h!==void 0?l=e.next(r,o+1,h):((u===d.SET_A||u===d.SET_B)&&s===d.SHIFT&&(r[0]=u===d.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),l=e.next(r,o+1,u))}else s=e.correctIndex(r,u),l=e.next(r,o+1,u);var v=e.getBar(s),_=s*o;return{result:v+l.result,checksum:_+l.checksum}}}]),e}(S.default);return ke.default=a,ke}var Le={},Rt;function Pr(){if(Rt)return Le;Rt=1,Object.defineProperty(Le,"__esModule",{value:!0});var A=Te(),x=function(f){return f.match(new RegExp("^"+A.A_CHARS+"*"))[0].length},S=function(f){return f.match(new RegExp("^"+A.B_CHARS+"*"))[0].length},d=function(f){return f.match(new RegExp("^"+A.C_CHARS+"*"))[0]};function p(i,f){var a=f?A.A_CHARS:A.B_CHARS,t=i.match(new RegExp("^("+a+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(t)return t[1]+"Ì"+c(i.substring(t[1].length));var e=i.match(new RegExp("^"+a+"+"))[0];return e.length===i.length?i:e+String.fromCharCode(f?205:206)+p(i.substring(e.length),!f)}function c(i){var f=d(i),a=f.length;if(a===i.length)return i;i=i.substring(a);var t=x(i)>=S(i);return f+String.fromCharCode(t?206:205)+p(i,t)}return Le.default=function(i){var f=void 0,a=d(i).length;if(a>=2)f=A.C_START_CHAR+c(i);else{var t=x(i)>S(i);f=(t?A.A_START_CHAR:A.B_START_CHAR)+p(i,t)}return f.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(e,n){return"Ë"+n})},Le}var St;function Ir(){if(St)return Ne;St=1,Object.defineProperty(Ne,"__esModule",{value:!0});var A=_t(),x=p(A),S=Pr(),d=p(S);function p(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){f(e,t);function e(n,r){if(c(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,d.default)(n),r));else var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i(o)}return e}(x.default);return Ne.default=a,Ne}var Be={},At;function jr(){if(At)return Be;At=1,Object.defineProperty(Be,"__esModule",{value:!0});var A=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=_t(),S=p(x),d=Te();function p(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){f(e,t);function e(n,r){return c(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,d.A_START_CHAR+n,r))}return A(e,[{key:"valid",value:function(){return new RegExp("^"+d.A_CHARS+"+$").test(this.data)}}]),e}(S.default);return Be.default=a,Be}var ze={},Ct;function Nr(){if(Ct)return ze;Ct=1,Object.defineProperty(ze,"__esModule",{value:!0});var A=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=_t(),S=p(x),d=Te();function p(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){f(e,t);function e(n,r){return c(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,d.B_START_CHAR+n,r))}return A(e,[{key:"valid",value:function(){return new RegExp("^"+d.B_CHARS+"+$").test(this.data)}}]),e}(S.default);return ze.default=a,ze}var qe={},Tt;function kr(){if(Tt)return qe;Tt=1,Object.defineProperty(qe,"__esModule",{value:!0});var A=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=_t(),S=p(x),d=Te();function p(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){f(e,t);function e(n,r){return c(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,d.C_START_CHAR+n,r))}return A(e,[{key:"valid",value:function(){return new RegExp("^"+d.C_CHARS+"+$").test(this.data)}}]),e}(S.default);return qe.default=a,qe}var Dt;function Lr(){if(Dt)return he;Dt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.CODE128C=he.CODE128B=he.CODE128A=he.CODE128=void 0;var A=Ir(),x=a(A),S=jr(),d=a(S),p=Nr(),c=a(p),i=kr(),f=a(i);function a(t){return t&&t.__esModule?t:{default:t}}return he.CODE128=x.default,he.CODE128A=d.default,he.CODE128B=c.default,he.CODE128C=f.default,he}var ae={},Ue={},ve={},Mt;function De(){return Mt||(Mt=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.SIDE_BIN="101",ve.MIDDLE_BIN="01010",ve.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},ve.EAN2_STRUCTURE=["LL","LG","GL","GG"],ve.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],ve.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),ve}var Fe={},Ge={},Pt;function Me(){if(Pt)return Ge;Pt=1,Object.defineProperty(Ge,"__esModule",{value:!0});var A=De(),x=function(d,p,c){var i=d.split("").map(function(a,t){return A.BINARIES[p[t]]}).map(function(a,t){return a?a[d[t]]:""});if(c){var f=d.length-1;i=i.map(function(a,t){return t<f?a+c:a})}return i.join("")};return Ge.default=x,Ge}var It;function Or(){if(It)return Fe;It=1,Object.defineProperty(Fe,"__esModule",{value:!0});var A=function(){function n(r,o){for(var u=0;u<o.length;u++){var l=o[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,o,u){return o&&n(r.prototype,o),u&&n(r,u),r}}(),x=De(),S=Me(),d=i(S),p=le(),c=i(p);function i(n){return n&&n.__esModule?n:{default:n}}function f(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function a(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function t(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var e=function(n){t(r,n);function r(o,u){f(this,r);var l=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,o,u));return l.fontSize=!u.flat&&u.fontSize>u.width*10?u.width*10:u.fontSize,l.guardHeight=u.height+l.fontSize/2+u.textMargin,l}return A(r,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(u,l){return this.text.substr(u,l)}},{key:"leftEncode",value:function(u,l){return(0,d.default)(u,l)}},{key:"rightText",value:function(u,l){return this.text.substr(u,l)}},{key:"rightEncode",value:function(u,l){return(0,d.default)(u,l)}},{key:"encodeGuarded",value:function(){var u={fontSize:this.fontSize},l={height:this.guardHeight};return[{data:x.SIDE_BIN,options:l},{data:this.leftEncode(),text:this.leftText(),options:u},{data:x.MIDDLE_BIN,options:l},{data:this.rightEncode(),text:this.rightText(),options:u},{data:x.SIDE_BIN,options:l}]}},{key:"encodeFlat",value:function(){var u=[x.SIDE_BIN,this.leftEncode(),x.MIDDLE_BIN,this.rightEncode(),x.SIDE_BIN];return{data:u.join(""),text:this.text}}}]),r}(c.default);return Fe.default=e,Fe}var jt;function Br(){if(jt)return Ue;jt=1,Object.defineProperty(Ue,"__esModule",{value:!0});var A=function(){function n(r,o){for(var u=0;u<o.length;u++){var l=o[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,o,u){return o&&n(r.prototype,o),u&&n(r,u),r}}(),x=function n(r,o,u){r===null&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,o);if(l===void 0){var s=Object.getPrototypeOf(r);return s===null?void 0:n(s,o,u)}else{if("value"in l)return l.value;var h=l.get;return h===void 0?void 0:h.call(u)}},S=De(),d=Or(),p=c(d);function c(n){return n&&n.__esModule?n:{default:n}}function i(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function f(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function a(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var t=function(r){var o=r.substr(0,12).split("").map(function(u){return+u}).reduce(function(u,l,s){return s%2?u+l*3:u+l},0);return(10-o%10)%10},e=function(n){a(r,n);function r(o,u){i(this,r),o.search(/^[0-9]{12}$/)!==-1&&(o+=t(o));var l=f(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,o,u));return l.lastChar=u.lastChar,l}return A(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===t(this.data)}},{key:"leftText",value:function(){return x(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var u=this.data.substr(1,6),l=S.EAN13_STRUCTURE[this.data[0]];return x(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftEncode",this).call(this,u,l)}},{key:"rightText",value:function(){return x(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var u=this.data.substr(7,6);return x(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightEncode",this).call(this,u,"RRRRRR")}},{key:"encodeGuarded",value:function(){var u=x(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(u.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(u.push({data:"00"}),u.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),u}}]),r}(p.default);return Ue.default=e,Ue}var $e={},Nt;function zr(){if(Nt)return $e;Nt=1,Object.defineProperty($e,"__esModule",{value:!0});var A=function(){function e(n,r){for(var o=0;o<r.length;o++){var u=r[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}return function(n,r,o){return r&&e(n.prototype,r),o&&e(n,o),n}}(),x=function e(n,r,o){n===null&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,r);if(u===void 0){var l=Object.getPrototypeOf(n);return l===null?void 0:e(l,r,o)}else{if("value"in u)return u.value;var s=u.get;return s===void 0?void 0:s.call(o)}},S=Or(),d=p(S);function p(e){return e&&e.__esModule?e:{default:e}}function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function f(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var a=function(n){var r=n.substr(0,7).split("").map(function(o){return+o}).reduce(function(o,u,l){return l%2?o+u:o+u*3},0);return(10-r%10)%10},t=function(e){f(n,e);function n(r,o){return c(this,n),r.search(/^[0-9]{7}$/)!==-1&&(r+=a(r)),i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,o))}return A(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===a(this.data)}},{key:"leftText",value:function(){return x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var o=this.data.substr(0,4);return x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,o,"LLLL")}},{key:"rightText",value:function(){return x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var o=this.data.substr(4,4);return x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,o,"RRRR")}}]),n}(d.default);return $e.default=t,$e}var He={},kt;function qr(){if(kt)return He;kt=1,Object.defineProperty(He,"__esModule",{value:!0});var A=function(){function r(o,u){for(var l=0;l<u.length;l++){var s=u[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,u,l){return u&&r(o.prototype,u),l&&r(o,l),o}}(),x=De(),S=Me(),d=i(S),p=le(),c=i(p);function i(r){return r&&r.__esModule?r:{default:r}}function f(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function a(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function t(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var e=function(o){var u=o.split("").map(function(l){return+l}).reduce(function(l,s,h){return h%2?l+s*9:l+s*3},0);return u%10},n=function(r){t(o,r);function o(u,l){return f(this,o),a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u,l))}return A(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var l=x.EAN5_STRUCTURE[e(this.data)];return{data:"1011"+(0,d.default)(this.data,l,"01"),text:this.text}}}]),o}(c.default);return He.default=n,He}var Ve={},Lt;function Ur(){if(Lt)return Ve;Lt=1,Object.defineProperty(Ve,"__esModule",{value:!0});var A=function(){function n(r,o){for(var u=0;u<o.length;u++){var l=o[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,o,u){return o&&n(r.prototype,o),u&&n(r,u),r}}(),x=De(),S=Me(),d=i(S),p=le(),c=i(p);function i(n){return n&&n.__esModule?n:{default:n}}function f(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function a(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function t(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var e=function(n){t(r,n);function r(o,u){return f(this,r),a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,o,u))}return A(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var u=x.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,d.default)(this.data,u,"01"),text:this.text}}}]),r}(c.default);return Ve.default=e,Ve}var Oe={},Bt;function wr(){if(Bt)return Oe;Bt=1,Object.defineProperty(Oe,"__esModule",{value:!0});var A=function(){function n(r,o){for(var u=0;u<o.length;u++){var l=o[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}return function(r,o,u){return o&&n(r.prototype,o),u&&n(r,u),r}}();Oe.checksum=e;var x=Me(),S=c(x),d=le(),p=c(d);function c(n){return n&&n.__esModule?n:{default:n}}function i(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function f(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function a(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var t=function(n){a(r,n);function r(o,u){i(this,r),o.search(/^[0-9]{11}$/)!==-1&&(o+=e(o));var l=f(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,o,u));return l.displayValue=u.displayValue,u.fontSize>u.width*10?l.fontSize=u.width*10:l.fontSize=u.fontSize,l.guardHeight=u.height+l.fontSize/2+u.textMargin,l}return A(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==e(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var u="";return u+="101",u+=(0,S.default)(this.data.substr(0,6),"LLLLLL"),u+="01010",u+=(0,S.default)(this.data.substr(6,6),"RRRRRR"),u+="101",{data:u,text:this.text}}},{key:"guardedEncoding",value:function(){var u=[];return this.displayValue&&u.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),u.push({data:"101"+(0,S.default)(this.data[0],"L"),options:{height:this.guardHeight}}),u.push({data:(0,S.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),u.push({data:"01010",options:{height:this.guardHeight}}),u.push({data:(0,S.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),u.push({data:(0,S.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&u.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),u}}]),r}(p.default);function e(n){var r=0,o;for(o=1;o<11;o+=2)r+=parseInt(n[o]);for(o=0;o<11;o+=2)r+=parseInt(n[o])*3;return(10-r%10)%10}return Oe.default=t,Oe}var We={},zt;function Fr(){if(zt)return We;zt=1,Object.defineProperty(We,"__esModule",{value:!0});var A=function(){function u(l,s){for(var h=0;h<s.length;h++){var v=s[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(l,v.key,v)}}return function(l,s,h){return s&&u(l.prototype,s),h&&u(l,h),l}}(),x=Me(),S=i(x),d=le(),p=i(d),c=wr();function i(u){return u&&u.__esModule?u:{default:u}}function f(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function a(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:u}function t(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}var e=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],n=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],r=function(u){t(l,u);function l(s,h){f(this,l);var v=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s,h));if(v.isValid=!1,s.search(/^[0-9]{6}$/)!==-1)v.middleDigits=s,v.upcA=o(s,"0"),v.text=h.text||""+v.upcA[0]+s+v.upcA[v.upcA.length-1],v.isValid=!0;else if(s.search(/^[01][0-9]{7}$/)!==-1)if(v.middleDigits=s.substring(1,s.length-1),v.upcA=o(v.middleDigits,s[0]),v.upcA[v.upcA.length-1]===s[s.length-1])v.isValid=!0;else return a(v);else return a(v);return v.displayValue=h.displayValue,h.fontSize>h.width*10?v.fontSize=h.width*10:v.fontSize=h.fontSize,v.guardHeight=h.height+v.fontSize/2+h.textMargin,v}return A(l,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var h="";return h+="101",h+=this.encodeMiddleDigits(),h+="010101",{data:h,text:this.text}}},{key:"guardedEncoding",value:function(){var h=[];return this.displayValue&&h.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),h.push({data:"101",options:{height:this.guardHeight}}),h.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),h.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&h.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),h}},{key:"encodeMiddleDigits",value:function(){var h=this.upcA[0],v=this.upcA[this.upcA.length-1],_=n[parseInt(v)][parseInt(h)];return(0,S.default)(this.middleDigits,_)}}]),l}(p.default);function o(u,l){for(var s=parseInt(u[u.length-1]),h=e[s],v="",_=0,g=0;g<h.length;g++){var b=h[g];b==="X"?v+=u[_++]:v+=b}return v=""+l+v,""+v+(0,c.checksum)(v)}return We.default=r,We}var qt;function Gr(){if(qt)return ae;qt=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.UPCE=ae.UPC=ae.EAN2=ae.EAN5=ae.EAN8=ae.EAN13=void 0;var A=Br(),x=r(A),S=zr(),d=r(S),p=qr(),c=r(p),i=Ur(),f=r(i),a=wr(),t=r(a),e=Fr(),n=r(e);function r(o){return o&&o.__esModule?o:{default:o}}return ae.EAN13=x.default,ae.EAN8=d.default,ae.EAN5=c.default,ae.EAN2=f.default,ae.UPC=t.default,ae.UPCE=n.default,ae}var ge={},Xe={},me={},Ut;function $r(){return Ut||(Ut=1,Object.defineProperty(me,"__esModule",{value:!0}),me.START_BIN="1010",me.END_BIN="11101",me.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),me}var Ft;function Rr(){if(Ft)return Xe;Ft=1,Object.defineProperty(Xe,"__esModule",{value:!0});var A=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=$r(),S=le(),d=p(S);function p(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){f(e,t);function e(){return c(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,o=this.data.match(/.{2}/g).map(function(u){return r.encodePair(u)}).join("");return{data:x.START_BIN+o+x.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var o=x.BINARIES[r[1]];return x.BINARIES[r[0]].split("").map(function(u,l){return(u==="1"?"111":"1")+(o[l]==="1"?"000":"0")}).join("")}}]),e}(d.default);return Xe.default=a,Xe}var Ye={},Gt;function Hr(){if(Gt)return Ye;Gt=1,Object.defineProperty(Ye,"__esModule",{value:!0});var A=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=Rr(),S=d(x);function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function i(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,o,u){return r+o*(3-u%2*2)},0);return Math.ceil(n/10)*10-n},a=function(t){i(e,t);function e(n,r){return p(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=f(n)),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return A(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),e}(S.default);return Ye.default=a,Ye}var $t;function Vr(){if($t)return ge;$t=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.ITF14=ge.ITF=void 0;var A=Rr(),x=p(A),S=Hr(),d=p(S);function p(c){return c&&c.__esModule?c:{default:c}}return ge.ITF=x.default,ge.ITF14=d.default,ge}var ce={},Qe={},Ht;function Pe(){if(Ht)return Qe;Ht=1,Object.defineProperty(Qe,"__esModule",{value:!0});var A=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=le(),S=d(x);function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function i(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){i(e,t);function e(n,r){return p(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return A(e,[{key:"encode",value:function(){for(var r="110",o=0;o<this.data.length;o++){var u=parseInt(this.data[o]),l=u.toString(2);l=a(l,4-l.length);for(var s=0;s<l.length;s++)r+=l[s]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(S.default);function a(t,e){for(var n=0;n<e;n++)t="0"+t;return t}return Qe.default=f,Qe}var Ke={},we={},Vt;function gt(){if(Vt)return we;Vt=1,Object.defineProperty(we,"__esModule",{value:!0}),we.mod10=A,we.mod11=x;function A(S){for(var d=0,p=0;p<S.length;p++){var c=parseInt(S[p]);(p+S.length)%2===0?d+=c:d+=c*2%10+Math.floor(c*2/10)}return(10-d%10)%10}function x(S){for(var d=0,p=[2,3,4,5,6,7],c=0;c<S.length;c++){var i=parseInt(S[S.length-1-c]);d+=p[c%p.length]*i}return(11-d%11)%11}return we}var Wt;function Wr(){if(Wt)return Ke;Wt=1,Object.defineProperty(Ke,"__esModule",{value:!0});var A=Pe(),x=d(A),S=gt();function d(a){return a&&a.__esModule?a:{default:a}}function p(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function c(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function i(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var f=function(a){i(t,a);function t(e,n){return p(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,S.mod10)(e),n))}return t}(x.default);return Ke.default=f,Ke}var Je={},Xt;function Xr(){if(Xt)return Je;Xt=1,Object.defineProperty(Je,"__esModule",{value:!0});var A=Pe(),x=d(A),S=gt();function d(a){return a&&a.__esModule?a:{default:a}}function p(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function c(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function i(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var f=function(a){i(t,a);function t(e,n){return p(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,S.mod11)(e),n))}return t}(x.default);return Je.default=f,Je}var Ze={},Yt;function Yr(){if(Yt)return Ze;Yt=1,Object.defineProperty(Ze,"__esModule",{value:!0});var A=Pe(),x=d(A),S=gt();function d(a){return a&&a.__esModule?a:{default:a}}function p(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function c(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function i(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var f=function(a){i(t,a);function t(e,n){return p(this,t),e+=(0,S.mod10)(e),e+=(0,S.mod10)(e),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return t}(x.default);return Ze.default=f,Ze}var et={},Qt;function Qr(){if(Qt)return et;Qt=1,Object.defineProperty(et,"__esModule",{value:!0});var A=Pe(),x=d(A),S=gt();function d(a){return a&&a.__esModule?a:{default:a}}function p(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function c(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function i(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var f=function(a){i(t,a);function t(e,n){return p(this,t),e+=(0,S.mod11)(e),e+=(0,S.mod10)(e),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return t}(x.default);return et.default=f,et}var Kt;function Kr(){if(Kt)return ce;Kt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.MSI1110=ce.MSI1010=ce.MSI11=ce.MSI10=ce.MSI=void 0;var A=Pe(),x=e(A),S=Wr(),d=e(S),p=Xr(),c=e(p),i=Yr(),f=e(i),a=Qr(),t=e(a);function e(n){return n&&n.__esModule?n:{default:n}}return ce.MSI=x.default,ce.MSI10=d.default,ce.MSI11=c.default,ce.MSI1010=f.default,ce.MSI1110=t.default,ce}var Re={},Jt;function Jr(){if(Jt)return Re;Jt=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.pharmacode=void 0;var A=function(){function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),x=le(),S=d(x);function d(a){return a&&a.__esModule?a:{default:a}}function p(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function c(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function i(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var f=function(a){i(t,a);function t(e,n){p(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.number=parseInt(e,10),r}return A(t,[{key:"encode",value:function(){for(var n=this.number,r="";!isNaN(n)&&n!=0;)n%2===0?(r="11100"+r,n=(n-2)/2):(r="100"+r,n=(n-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(S.default);return Re.pharmacode=f,Re}var Se={},Zt;function Zr(){if(Zt)return Se;Zt=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.codabar=void 0;var A=function(){function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),x=le(),S=d(x);function d(a){return a&&a.__esModule?a:{default:a}}function p(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function c(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function i(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var f=function(a){i(t,a);function t(e,n){p(this,t),e.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(e="A"+e+"A");var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return A(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],r=this.getEncodings(),o=0;o<this.data.length;o++)n.push(r[this.data.charAt(o)]),o!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(S.default);return Se.codabar=f,Se}var ye={},tt={},xe={},er;function en(){return er||(er=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"],xe.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],xe.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),xe}var tr;function Sr(){if(tr)return tt;tr=1,Object.defineProperty(tt,"__esModule",{value:!0});var A=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=en(),S=le(),d=p(S);function p(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t){f(e,t);function e(n,r){return c(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return A(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(s){return x.MULTI_SYMBOLS[s]||s}),o=r.map(function(s){return e.getEncoding(s)}).join(""),u=e.checksum(r,20),l=e.checksum(r.concat(u),15);return{text:this.text,data:e.getEncoding("ÿ")+o+e.getEncoding(u)+e.getEncoding(l)+e.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(r){return x.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return x.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return x.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,o){var u=r.slice().reverse().reduce(function(l,s,h){var v=h%o+1;return l+e.symbolValue(s)*v},0);return e.getSymbol(u%47)}}]),e}(d.default);return tt.default=a,tt}var rt={},rr;function tn(){if(rr)return rt;rr=1,Object.defineProperty(rt,"__esModule",{value:!0});var A=function(){function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),x=Sr(),S=d(x);function d(a){return a&&a.__esModule?a:{default:a}}function p(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function c(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function i(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var f=function(a){i(t,a);function t(e,n){return p(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return A(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(S.default);return rt.default=f,rt}var nr;function rn(){if(nr)return ye;nr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.CODE93FullASCII=ye.CODE93=void 0;var A=Sr(),x=p(A),S=tn(),d=p(S);function p(c){return c&&c.__esModule?c:{default:c}}return ye.CODE93=x.default,ye.CODE93FullASCII=d.default,ye}var Ae={},or;function nn(){if(or)return Ae;or=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.GenericBarcode=void 0;var A=function(){function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),x=le(),S=d(x);function d(a){return a&&a.__esModule?a:{default:a}}function p(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function c(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function i(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var f=function(a){i(t,a);function t(e,n){return p(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return A(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(S.default);return Ae.GenericBarcode=f,Ae}var ir;function on(){if(ir)return Ie;ir=1,Object.defineProperty(Ie,"__esModule",{value:!0});var A=Mr(),x=Lr(),S=Gr(),d=Vr(),p=Kr(),c=Jr(),i=Zr(),f=rn(),a=nn();return Ie.default={CODE39:A.CODE39,CODE128:x.CODE128,CODE128A:x.CODE128A,CODE128B:x.CODE128B,CODE128C:x.CODE128C,EAN13:S.EAN13,EAN8:S.EAN8,EAN5:S.EAN5,EAN2:S.EAN2,UPC:S.UPC,UPCE:S.UPCE,ITF14:d.ITF14,ITF:d.ITF,MSI:p.MSI,MSI10:p.MSI10,MSI11:p.MSI11,MSI1010:p.MSI1010,MSI1110:p.MSI1110,pharmacode:c.pharmacode,codabar:i.codabar,CODE93:f.CODE93,CODE93FullASCII:f.CODE93FullASCII,GenericBarcode:a.GenericBarcode},Ie}var nt={},ar;function yt(){if(ar)return nt;ar=1,Object.defineProperty(nt,"__esModule",{value:!0});var A=Object.assign||function(x){for(var S=1;S<arguments.length;S++){var d=arguments[S];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(x[p]=d[p])}return x};return nt.default=function(x,S){return A({},x,S)},nt}var ot={},ur;function an(){if(ur)return ot;ur=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=A;function A(x){var S=[];function d(p){if(Array.isArray(p))for(var c=0;c<p.length;c++)d(p[c]);else p.text=p.text||"",p.data=p.data||"",S.push(p)}return d(x),S}return ot}var it={},cr;function un(){if(cr)return it;cr=1,Object.defineProperty(it,"__esModule",{value:!0}),it.default=A;function A(x){return x.marginTop=x.marginTop||x.margin,x.marginBottom=x.marginBottom||x.margin,x.marginRight=x.marginRight||x.margin,x.marginLeft=x.marginLeft||x.margin,x}return it}var at={},ut={},ct={},fr;function Ar(){if(fr)return ct;fr=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=A;function A(x){var S=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var d in S)S.hasOwnProperty(d)&&(d=S[d],typeof x[d]=="string"&&(x[d]=parseInt(x[d],10)));return typeof x.displayValue=="string"&&(x.displayValue=x.displayValue!="false"),x}return ct}var ft={},lr;function Cr(){if(lr)return ft;lr=1,Object.defineProperty(ft,"__esModule",{value:!0});var A={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return ft.default=A,ft}var sr;function cn(){if(sr)return ut;sr=1,Object.defineProperty(ut,"__esModule",{value:!0});var A=Ar(),x=p(A),S=Cr(),d=p(S);function p(i){return i&&i.__esModule?i:{default:i}}function c(i){var f={};for(var a in d.default)d.default.hasOwnProperty(a)&&(i.hasAttribute("jsbarcode-"+a.toLowerCase())&&(f[a]=i.getAttribute("jsbarcode-"+a.toLowerCase())),i.hasAttribute("data-"+a.toLowerCase())&&(f[a]=i.getAttribute("data-"+a.toLowerCase())));return f.value=i.getAttribute("jsbarcode-value")||i.getAttribute("data-value"),f=(0,x.default)(f),f}return ut.default=c,ut}var lt={},st={},fe={},dr;function Tr(){if(dr)return fe;dr=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.getTotalWidthOfEncodings=fe.calculateEncodingAttributes=fe.getBarcodePadding=fe.getEncodingHeight=fe.getMaximumHeightOfEncodings=void 0;var A=yt(),x=S(A);function S(t){return t&&t.__esModule?t:{default:t}}function d(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function p(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function c(t,e,n){for(var r=0;r<t.length;r++){var o=t[r],u=(0,x.default)(e,o.options),l;u.displayValue?l=a(o.text,u,n):l=0;var s=o.data.length*u.width;o.width=Math.ceil(Math.max(l,s)),o.height=d(o,u),o.barcodePadding=p(l,s,u)}}function i(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function f(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function a(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var o=r.measureText(t);if(!o)return 0;var u=o.width;return u}return fe.getMaximumHeightOfEncodings=f,fe.getEncodingHeight=d,fe.getBarcodePadding=p,fe.calculateEncodingAttributes=c,fe.getTotalWidthOfEncodings=i,fe}var hr;function fn(){if(hr)return st;hr=1,Object.defineProperty(st,"__esModule",{value:!0});var A=function(){function f(a,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,t,e){return t&&f(a.prototype,t),e&&f(a,e),a}}(),x=yt(),S=p(x),d=Tr();function p(f){return f&&f.__esModule?f:{default:f}}function c(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}var i=function(){function f(a,t,e){c(this,f),this.canvas=a,this.encodings=t,this.options=e}return A(f,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var e=(0,S.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(e,this.encodings[t]),this.drawCanvasText(e,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,d.calculateEncodingAttributes)(this.encodings,this.options,t);var e=(0,d.getTotalWidthOfEncodings)(this.encodings),n=(0,d.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,e){var n=this.canvas.getContext("2d"),r=e.data,o;t.textPosition=="top"?o=t.marginTop+t.fontSize+t.textMargin:o=t.marginTop,n.fillStyle=t.lineColor;for(var u=0;u<r.length;u++){var l=u*t.width+e.barcodePadding;r[u]==="1"?n.fillRect(l,o,t.width,t.height):r[u]&&n.fillRect(l,o,t.width,t.height*r[u])}}},{key:"drawCanvasText",value:function(t,e){var n=this.canvas.getContext("2d"),r=t.fontOptions+" "+t.fontSize+"px "+t.font;if(t.displayValue){var o,u;t.textPosition=="top"?u=t.marginTop+t.fontSize-t.textMargin:u=t.height+t.textMargin+t.marginTop+t.fontSize,n.font=r,t.textAlign=="left"||e.barcodePadding>0?(o=0,n.textAlign="left"):t.textAlign=="right"?(o=e.width-1,n.textAlign="right"):(o=e.width/2,n.textAlign="center"),n.fillText(e.text,o,u)}}},{key:"moveCanvasDrawing",value:function(t){var e=this.canvas.getContext("2d");e.translate(t.width,0)}},{key:"restoreCanvas",value:function(){var t=this.canvas.getContext("2d");t.restore()}}]),f}();return st.default=i,st}var dt={},vr;function ln(){if(vr)return dt;vr=1,Object.defineProperty(dt,"__esModule",{value:!0});var A=function(){function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),x=yt(),S=p(x),d=Tr();function p(a){return a&&a.__esModule?a:{default:a}}function c(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}var i="http://www.w3.org/2000/svg",f=function(){function a(t,e,n){c(this,a),this.svg=t,this.encodings=e,this.options=n,this.document=n.xmlDocument||document}return A(a,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var r=this.encodings[n],o=(0,S.default)(this.options,r.options),u=this.createGroup(e,o.marginTop,this.svg);this.setGroupOptions(u,o),this.drawSvgBarcode(u,o,r),this.drawSVGText(u,o,r),e+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,d.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,d.getTotalWidthOfEncodings)(this.encodings),n=(0,d.getMaximumHeightOfEncodings)(this.encodings),r=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,n),this.options.background&&this.drawRect(0,0,r,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,n,r){var o=r.data,u;n.textPosition=="top"?u=n.fontSize+n.textMargin:u=0;for(var l=0,s=0,h=0;h<o.length;h++)s=h*n.width+r.barcodePadding,o[h]==="1"?l++:l>0&&(this.drawRect(s-n.width*l,u,n.width*l,n.height,e),l=0);l>0&&this.drawRect(s-n.width*(l-1),u,n.width*l,n.height,e)}},{key:"drawSVGText",value:function(e,n,r){var o=this.document.createElementNS(i,"text");if(n.displayValue){var u,l;o.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?l=n.fontSize-n.textMargin:l=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||r.barcodePadding>0?(u=0,o.setAttribute("text-anchor","start")):n.textAlign=="right"?(u=r.width-1,o.setAttribute("text-anchor","end")):(u=r.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",u),o.setAttribute("y",l),o.appendChild(this.document.createTextNode(r.text)),e.appendChild(o)}}},{key:"setSvgAttributes",value:function(e,n){var r=this.svg;r.setAttribute("width",e+"px"),r.setAttribute("height",n+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+e+" "+n),r.setAttribute("xmlns",i),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,n,r){var o=this.document.createElementNS(i,"g");return o.setAttribute("transform","translate("+e+", "+n+")"),r.appendChild(o),o}},{key:"setGroupOptions",value:function(e,n){e.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(e,n,r,o,u){var l=this.document.createElementNS(i,"rect");return l.setAttribute("x",e),l.setAttribute("y",n),l.setAttribute("width",r),l.setAttribute("height",o),u.appendChild(l),l}}]),a}();return dt.default=f,dt}var ht={},pr;function sn(){if(pr)return ht;pr=1,Object.defineProperty(ht,"__esModule",{value:!0});var A=function(){function d(p,c){for(var i=0;i<c.length;i++){var f=c[i];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,c,i){return c&&d(p.prototype,c),i&&d(p,i),p}}();function x(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var S=function(){function d(p,c,i){x(this,d),this.object=p,this.encodings=c,this.options=i}return A(d,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),d}();return ht.default=S,ht}var _r;function dn(){if(_r)return lt;_r=1,Object.defineProperty(lt,"__esModule",{value:!0});var A=fn(),x=i(A),S=ln(),d=i(S),p=sn(),c=i(p);function i(f){return f&&f.__esModule?f:{default:f}}return lt.default={CanvasRenderer:x.default,SVGRenderer:d.default,ObjectRenderer:c.default},lt}var Ee={},gr;function Dr(){if(gr)return Ee;gr=1,Object.defineProperty(Ee,"__esModule",{value:!0});function A(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function x(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:i}function S(i,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}var d=function(i){S(f,i);function f(a,t){A(this,f);var e=x(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return e.name="InvalidInputException",e.symbology=a,e.input=t,e.message='"'+e.input+'" is not a valid input for '+e.symbology,e}return f}(Error),p=function(i){S(f,i);function f(){A(this,f);var a=x(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return a.name="InvalidElementException",a.message="Not supported type to render on",a}return f}(Error),c=function(i){S(f,i);function f(){A(this,f);var a=x(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return a.name="NoElementException",a.message="No element to render on.",a}return f}(Error);return Ee.InvalidInputException=d,Ee.InvalidElementException=p,Ee.NoElementException=c,Ee}var yr;function hn(){if(yr)return at;yr=1,Object.defineProperty(at,"__esModule",{value:!0});var A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=cn(),S=i(x),d=dn(),p=i(d),c=Dr();function i(e){return e&&e.__esModule?e:{default:e}}function f(e){if(typeof e=="string")return a(e);if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++)n.push(f(e[r]));return n}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return t(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,S.default)(e),renderer:p.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,S.default)(e),renderer:p.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:p.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":A(e))==="object"&&!e.nodeName)return{element:e,renderer:p.default.ObjectRenderer};throw new c.InvalidElementException}}function a(e){var n=document.querySelectorAll(e);if(n.length!==0){for(var r=[],o=0;o<n.length;o++)r.push(f(n[o]));return r}}function t(e){var n=document.createElement("canvas");return{element:n,options:(0,S.default)(e),renderer:p.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",n.toDataURL())}}}return at.default=f,at}var vt={},mr;function vn(){if(mr)return vt;mr=1,Object.defineProperty(vt,"__esModule",{value:!0});var A=function(){function d(p,c){for(var i=0;i<c.length;i++){var f=c[i];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,c,i){return c&&d(p.prototype,c),i&&d(p,i),p}}();function x(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var S=function(){function d(p){x(this,d),this.api=p}return A(d,[{key:"handleCatch",value:function(c){if(c.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw c.message;else throw c;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(c){try{var i=c.apply(void 0,arguments);return this.api._options.valid(!0),i}catch(f){return this.handleCatch(f),this.api}}}]),d}();return vt.default=S,vt}var xt,xr;function pn(){if(xr)return xt;xr=1;var A=on(),x=h(A),S=yt(),d=h(S),p=an(),c=h(p),i=un(),f=h(i),a=hn(),t=h(a),e=Ar(),n=h(e),r=vn(),o=h(r),u=Dr(),l=Cr(),s=h(l);function h(R){return R&&R.__esModule?R:{default:R}}var v=function(){},_=function(I,O,m){var C=new v;if(typeof I>"u")throw Error("No element to render on was provided.");return C._renderProperties=(0,t.default)(I),C._encodings=[],C._options=s.default,C._errorHandler=new o.default(C),typeof O<"u"&&(m=m||{},m.format||(m.format=E()),C.options(m)[m.format](O,m).render()),C};_.getModule=function(R){return x.default[R]};for(var g in x.default)x.default.hasOwnProperty(g)&&b(x.default,g);function b(R,I){v.prototype[I]=v.prototype[I.toUpperCase()]=v.prototype[I.toLowerCase()]=function(O,m){var C=this;return C._errorHandler.wrapBarcodeCall(function(){m.text=typeof m.text>"u"?void 0:""+m.text;var M=(0,d.default)(C._options,m);M=(0,n.default)(M);var P=R[I],D=y(O,P,M);return C._encodings.push(D),C})}}function y(R,I,O){R=""+R;var m=new I(R,O);if(!m.valid())throw new u.InvalidInputException(m.constructor.name,R);var C=m.encode();C=(0,c.default)(C);for(var M=0;M<C.length;M++)C[M].options=(0,d.default)(O,C[M].options);return C}function E(){return x.default.CODE128?"CODE128":Object.keys(x.default)[0]}v.prototype.options=function(R){return this._options=(0,d.default)(this._options,R),this},v.prototype.blank=function(R){var I=new Array(R+1).join("0");return this._encodings.push({data:I}),this},v.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var R;for(var I in this._renderProperties){R=this._renderProperties[I];var O=(0,d.default)(this._options,R.options);O.format=="auto"&&(O.format=E()),this._errorHandler.wrapBarcodeCall(function(){var m=O.value,C=x.default[O.format.toUpperCase()],M=y(m,C,O);w(R,M,O)})}}},v.prototype.render=function(){if(!this._renderProperties)throw new u.NoElementException;if(Array.isArray(this._renderProperties))for(var R=0;R<this._renderProperties.length;R++)w(this._renderProperties[R],this._encodings,this._options);else w(this._renderProperties,this._encodings,this._options);return this},v.prototype._defaults=s.default;function w(R,I,O){I=(0,c.default)(I);for(var m=0;m<I.length;m++)I[m].options=(0,d.default)(O,I[m].options),(0,f.default)(I[m].options);(0,f.default)(O);var C=R.renderer,M=new C(R.element,I,O);M.render(),R.afterRender&&R.afterRender()}return typeof window<"u"&&(window.JsBarcode=_),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(R,I){var O=[];return jQuery(this).each(function(){O.push(this)}),_(O,R,I)}),xt=_,xt}var _n=pn();const gn=br(_n),yn=({value:A,format:x="CODE128",width:S=2,height:d=100,displayValue:p=!0,onGenerate:c=null,className:i=""})=>{const f=de.useRef(null),[a,t]=de.useState(!1),[e,n]=de.useState(null);de.useEffect(()=>{if(A&&f.current)try{gn(f.current,A,{format:x,width:S,height:d,displayValue:p,fontSize:14,textAlign:"center",textPosition:"bottom",textMargin:2,background:"#ffffff",lineColor:"#000000",margin:10}),t(!0),n(null),c&&c(f.current.toDataURL())}catch(u){n("خطأ في توليد الباركود: "+u.message),t(!1)}},[A,x,S,d,p]);const r=()=>{if(f.current&&a){const u=document.createElement("a");u.download=`barcode-${A}.png`,u.href=f.current.toDataURL(),u.click()}},o=()=>{if(f.current&&a){const u=window.open("","_blank"),l=f.current;u.document.write(`
                <html>
                    <head>
                        <title>طباعة باركود - ${A}</title>
                        <style>
                            body {
                                margin: 0;
                                padding: 20px;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                min-height: 100vh;
                                font-family: Arial, sans-serif;
                            }
                            .barcode-container {
                                text-align: center;
                                border: 2px solid #000;
                                padding: 20px;
                                background: white;
                            }
                            h3 { margin: 0 0 15px 0; }
                            @media print {
                                body { margin: 0; }
                                .barcode-container { border: none; }
                            }
                        </style>
                    </head>
                    <body>
                        <div class="barcode-container">
                            <h3>الباركود: ${A}</h3>
                            <img src="${l.toDataURL()}" alt="Barcode" />
                        </div>
                    </body>
                </html>
            `),u.document.close(),u.focus(),setTimeout(()=>{u.print(),u.close()},250)}};return A?z.jsx("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${i}`,children:e?z.jsx("div",{className:"text-red-600 text-center p-4",children:z.jsx("div",{className:"text-sm",children:e})}):z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"text-center mb-4",children:z.jsx("canvas",{ref:f,className:"max-w-full h-auto"})}),a&&z.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[z.jsxs("button",{onClick:r,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 flex items-center gap-1",children:[z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"تحميل"]}),z.jsxs("button",{onClick:o,className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 flex items-center gap-1",children:[z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"طباعة"]})]})]})}):z.jsx("div",{className:`bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center ${i}`,children:z.jsxs("div",{className:"text-gray-400",children:[z.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),z.jsx("p",{className:"text-sm",children:"أدخل رقم الباركود لمعاينة الباركود"})]})})};var pt={exports:{}},mn=pt.exports,Er;function xn(){return Er||(Er=1,function(A,x){(function(S,d){A.exports=d(d.toString()).default})(mn,function(S){return function(d){function p(i){if(c[i])return c[i].exports;var f=c[i]={i,l:!1,exports:{}};return d[i].call(f.exports,f,f.exports,p),f.l=!0,f.exports}var c={};return p.m=d,p.c=c,p.i=function(i){return i},p.d=function(i,f,a){p.o(i,f)||Object.defineProperty(i,f,{configurable:!1,enumerable:!0,get:a})},p.n=function(i){var f=i&&i.__esModule?function(){return i.default}:function(){return i};return p.d(f,"a",f),f},p.o=function(i,f){return Object.prototype.hasOwnProperty.call(i,f)},p.p="/",p(p.s=166)}([function(d,p){function c(i){var f=typeof i;return i!=null&&(f=="object"||f=="function")}d.exports=c},function(d,p,c){function i(a,t){return this._row=[],this.config=a||{},this.supplements=t,this}var f=c(3);i.prototype._nextUnset=function(a,t){var e;for(t===void 0&&(t=0),e=t;e<a.length;e++)if(!a[e])return e;return a.length},i.prototype._matchPattern=function(a,t,e){var n,r,o,u,l=0,s=0,h=0,v=0;for(e=e||this.SINGLE_CODE_ERROR||1,n=0;n<a.length;n++)h+=a[n],v+=t[n];if(h<v)return Number.MAX_VALUE;for(r=h/v,e*=r,n=0;n<a.length;n++){if(o=a[n],u=t[n]*r,(s=Math.abs(o-u)/u)>e)return Number.MAX_VALUE;l+=s}return l/v},i.prototype._nextSet=function(a,t){var e;for(t=t||0,e=t;e<a.length;e++)if(a[e])return e;return a.length},i.prototype._correctBars=function(a,t,e){for(var n=e.length,r=0;n--;)(r=a[e[n]]*(1-(1-t)/2))>1&&(a[e[n]]=r)},i.prototype._matchTrace=function(a,t){var e,n,r=[],o=this,u=o._nextSet(o._row),l=!o._row[u],s=0,h={error:Number.MAX_VALUE,code:-1,start:0};if(a){for(e=0;e<a.length;e++)r.push(0);for(e=u;e<o._row.length;e++)if(o._row[e]^l)r[s]++;else{if(s===r.length-1)return n=o._matchPattern(r,a),n<t?(h.start=e-u,h.end=e,h.counter=r,h):null;s++,r[s]=1,l=!l}}else for(r.push(0),e=u;e<o._row.length;e++)o._row[e]^l?r[s]++:(s++,r.push(0),r[s]=1,l=!l);return h.start=u,h.end=o._row.length-1,h.counter=r,h},i.prototype.decodePattern=function(a){var t,e=this;return e._row=a,t=e._decode(),t===null?(e._row.reverse(),(t=e._decode())&&(t.direction=i.DIRECTION.REVERSE,t.start=e._row.length-t.start,t.end=e._row.length-t.end)):t.direction=i.DIRECTION.FORWARD,t&&(t.format=e.FORMAT),t},i.prototype._matchRange=function(a,t,e){var n;for(a=a<0?0:a,n=a;n<t;n++)if(this._row[n]!==e)return!1;return!0},i.prototype._fillCounters=function(a,t,e){var n,r=this,o=0,u=[];for(e=e===void 0||e,a=a!==void 0?a:r._nextUnset(r._row),t=t||r._row.length,u[o]=0,n=a;n<t;n++)r._row[n]^e?u[o]++:(o++,u[o]=1,e=!e);return u},i.prototype._toCounters=function(a,t){var e,n=this,r=t.length,o=n._row.length,u=!n._row[a],l=0;for(f.a.init(t,0),e=a;e<o;e++)if(n._row[e]^u)t[l]++;else{if(++l===r)break;t[l]=1,u=!u}return t},Object.defineProperty(i.prototype,"FORMAT",{value:"unknown",writeable:!1}),i.DIRECTION={FORWARD:1,REVERSE:-1},i.Exception={StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"},i.CONFIG_KEYS={},p.a=i},function(d,p){var c=Array.isArray;d.exports=c},function(d,p,c){p.a={init:function(i,f){for(var a=i.length;a--;)i[a]=f},shuffle:function(i){var f,a,t=i.length-1;for(t;t>=0;t--)f=Math.floor(Math.random()*t),a=i[t],i[t]=i[f],i[f]=a;return i},toPointList:function(i){var f,a,t=[],e=[];for(f=0;f<i.length;f++){for(t=[],a=0;a<i[f].length;a++)t[a]=i[f][a];e[f]="["+t.join(",")+"]"}return"["+e.join(`,\r
`)+"]"},threshold:function(i,f,a){var t,e=[];for(t=0;t<i.length;t++)a.apply(i,[i[t]])>=f&&e.push(i[t]);return e},maxIndex:function(i){var f,a=0;for(f=0;f<i.length;f++)i[f]>i[a]&&(a=f);return a},max:function(f){var a,t=0;for(a=0;a<f.length;a++)f[a]>t&&(t=f[a]);return t},sum:function(f){for(var a=f.length,t=0;a--;)t+=f[a];return t}}},function(d,p,c){function i(o,u){o=t()(f(),o),e.a.call(this,o,u)}function f(){var o={};return Object.keys(i.CONFIG_KEYS).forEach(function(u){o[u]=i.CONFIG_KEYS[u].default}),o}var a=c(28),t=c.n(a),e=c(1),n=Object.assign||function(o){for(var u=1;u<arguments.length;u++){var l=arguments[u];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(o[s]=l[s])}return o},r={CODE_L_START:{value:0},CODE_G_START:{value:10},START_PATTERN:{value:[1,1,1]},STOP_PATTERN:{value:[1,1,1]},MIDDLE_PATTERN:{value:[1,1,1,1,1]},EXTENSION_START_PATTERN:{value:[1,1,2]},CODE_PATTERN:{value:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]]},CODE_FREQUENCY:{value:[0,11,13,14,19,25,28,21,22,26]},SINGLE_CODE_ERROR:{value:.7},AVG_CODE_ERROR:{value:.48},FORMAT:{value:"ean_13",writeable:!1}};i.prototype=Object.create(e.a.prototype,r),i.prototype.constructor=i,i.prototype._decodeCode=function(o,u){var l,s,h,v=[0,0,0,0],_=this,g=o,b=!_._row[g],y=0,E={error:Number.MAX_VALUE,code:-1,start:o,end:o};for(u||(u=_.CODE_PATTERN.length),l=g;l<_._row.length;l++)if(_._row[l]^b)v[y]++;else{if(y===v.length-1){for(s=0;s<u;s++)(h=_._matchPattern(v,_.CODE_PATTERN[s]))<E.error&&(E.code=s,E.error=h);return E.end=l,E.error>_.AVG_CODE_ERROR?null:E}y++,v[y]=1,b=!b}return null},i.prototype._findPattern=function(o,u,l,s,h){var v,_,g,b,y=[],E=this,w=0,R={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(u||(u=E._nextSet(E._row)),l===void 0&&(l=!1),s===void 0&&(s=!0),h===void 0&&(h=E.AVG_CODE_ERROR),v=0;v<o.length;v++)y[v]=0;for(v=u;v<E._row.length;v++)if(E._row[v]^l)y[w]++;else{if(w===y.length-1){for(b=0,g=0;g<y.length;g++)b+=y[g];if((_=E._matchPattern(y,o))<h)return R.error=_,R.start=v-b,R.end=v,R;if(!s)return null;for(g=0;g<y.length-2;g++)y[g]=y[g+2];y[y.length-2]=0,y[y.length-1]=0,w--}else w++;y[w]=1,l=!l}return null},i.prototype._findStart=function(){for(var o,u,l=this,s=l._nextSet(l._row);!u;){if(!(u=l._findPattern(l.START_PATTERN,s)))return null;if((o=u.start-(u.end-u.start))>=0&&l._matchRange(o,u.start,0))return u;s=u.end,u=null}},i.prototype._verifyTrailingWhitespace=function(o){var u,l=this;return u=o.end+(o.end-o.start),u<l._row.length&&l._matchRange(o.end,u,0)?o:null},i.prototype._findEnd=function(o,u){var l=this,s=l._findPattern(l.STOP_PATTERN,o,u,!1);return s!==null?l._verifyTrailingWhitespace(s):null},i.prototype._calculateFirstDigit=function(o){var u,l=this;for(u=0;u<l.CODE_FREQUENCY.length;u++)if(o===l.CODE_FREQUENCY[u])return u;return null},i.prototype._decodePayload=function(o,u,l){var s,h,v=this,_=0;for(s=0;s<6;s++){if(!(o=v._decodeCode(o.end)))return null;o.code>=v.CODE_G_START?(o.code=o.code-v.CODE_G_START,_|=1<<5-s):_|=0<<5-s,u.push(o.code),l.push(o)}if((h=v._calculateFirstDigit(_))===null||(u.unshift(h),(o=v._findPattern(v.MIDDLE_PATTERN,o.end,!0,!1))===null))return null;for(l.push(o),s=0;s<6;s++){if(!(o=v._decodeCode(o.end,v.CODE_G_START)))return null;l.push(o),u.push(o.code)}return o},i.prototype._decode=function(){var o,u,l=this,s=[],h=[],v={};if(!(o=l._findStart())||(u={code:o.code,start:o.start,end:o.end},h.push(u),!(u=l._decodePayload(u,s,h)))||!(u=l._findEnd(u.end,!1))||(h.push(u),!l._checksum(s)))return null;if(this.supplements.length>0){var _=this._decodeExtensions(u.end);if(!_)return null;var g=_.decodedCodes[_.decodedCodes.length-1],b={start:g.start+((g.end-g.start)/2|0),end:g.end};if(!l._verifyTrailingWhitespace(b))return null;v={supplement:_,code:s.join("")+_.code}}return n({code:s.join(""),start:o.start,end:u.end,codeset:"",startInfo:o,decodedCodes:h},v)},i.prototype._decodeExtensions=function(o){var u,l,s=this._nextSet(this._row,o),h=this._findPattern(this.EXTENSION_START_PATTERN,s,!1,!1);if(h===null)return null;for(u=0;u<this.supplements.length;u++)if((l=this.supplements[u].decode(this._row,h.end))!==null)return{code:l.code,start:s,startInfo:h,end:l.end,codeset:"",decodedCodes:l.decodedCodes};return null},i.prototype._checksum=function(o){var u,l=0;for(u=o.length-2;u>=0;u-=2)l+=o[u];for(l*=3,u=o.length-1;u>=0;u-=2)l+=o[u];return l%10==0},i.CONFIG_KEYS={supplements:{type:"arrayOf(string)",default:[],description:"Allowed extensions to be decoded (2 and/or 5)"}},p.a=i},function(d,p,c){var i=c(38),f=typeof self=="object"&&self&&self.Object===Object&&self,a=i||f||Function("return this")();d.exports=a},function(d,p){function c(i){return i!=null&&typeof i=="object"}d.exports=c},function(d,p){function c(i){var f=new Float32Array(2);return f[0]=i[0],f[1]=i[1],f}d.exports=c},function(d,p,c){function i(o){return o==null?o===void 0?n:e:r&&r in Object(o)?a(o):t(o)}var f=c(11),a=c(119),t=c(146),e="[object Null]",n="[object Undefined]",r=f?f.toStringTag:void 0;d.exports=i},function(d,p,c){p.a={drawRect:function(i,f,a,t){a.strokeStyle=t.color,a.fillStyle=t.color,a.lineWidth=1,a.beginPath(),a.strokeRect(i.x,i.y,f.x,f.y)},drawPath:function(i,f,a,t){a.strokeStyle=t.color,a.fillStyle=t.color,a.lineWidth=t.lineWidth,a.beginPath(),a.moveTo(i[0][f.x],i[0][f.y]);for(var e=1;e<i.length;e++)a.lineTo(i[e][f.x],i[e][f.y]);a.closePath(),a.stroke()},drawImage:function(i,f,a){var t,e=a.getImageData(0,0,f.x,f.y),n=e.data,r=i.length,o=n.length;if(o/r!=4)return!1;for(;r--;)t=i[r],n[--o]=255,n[--o]=t,n[--o]=t,n[--o]=t;return a.putImageData(e,0,0),!0}}},function(d,p,c){function i(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var l=r[o];this.set(l[0],l[1])}}var f=c(133),a=c(134),t=c(135),e=c(136),n=c(137);i.prototype.clear=f,i.prototype.delete=a,i.prototype.get=t,i.prototype.has=e,i.prototype.set=n,d.exports=i},function(d,p,c){var i=c(5),f=i.Symbol;d.exports=f},function(d,p,c){function i(a,t){for(var e=a.length;e--;)if(f(a[e][0],t))return e;return-1}var f=c(17);d.exports=i},function(d,p,c){function i(n,r){return f(n)?n:a(n,r)?[n]:t(e(n))}var f=c(2),a=c(130),t=c(154),e=c(165);d.exports=i},function(d,p,c){function i(a,t){var e=a.__data__;return f(t)?e[typeof t=="string"?"string":"hash"]:e.map}var f=c(131);d.exports=i},function(d,p){function c(a,t){return!!(t=t??i)&&(typeof a=="number"||f.test(a))&&a>-1&&a%1==0&&a<t}var i=9007199254740991,f=/^(?:0|[1-9]\d*)$/;d.exports=c},function(d,p,c){var i=c(22),f=i(Object,"create");d.exports=f},function(d,p){function c(i,f){return i===f||i!==i&&f!==f}d.exports=c},function(d,p,c){var i=c(96),f=c(6),a=Object.prototype,t=a.hasOwnProperty,e=a.propertyIsEnumerable,n=i(function(){return arguments}())?i:function(r){return f(r)&&t.call(r,"callee")&&!e.call(r,"callee")};d.exports=n},function(d,p,c){function i(O,m){return{x:O,y:m,toVec2:function(){return w.clone([this.x,this.y])},toVec3:function(){return R.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function f(O,m,C){C||(C=O);for(var M=O.data,P=M.length,D=C.data;P--;)D[P]=M[P]<m?1:0}function a(O,m){m||(m=8);for(var C=O.data,M=C.length,P=8-m,D=1<<m,j=new Int32Array(D);M--;)j[C[M]>>P]++;return j}function t(O,m){function C(B,k){var L,$=0;for(L=B;L<=k;L++)$+=D[L];return $}function M(B,k){var L,$=0;for(L=B;L<=k;L++)$+=L*D[L];return $}function P(){var B,k,L,$,ie,J,N,U=[0],q=(1<<m)-1;for(D=a(O,m),$=1;$<q;$++)B=C(0,$),k=C($+1,q),L=B*k,L===0&&(L=1),ie=M(0,$)*k,J=M($+1,q)*B,N=ie-J,U[$]=N*N/L;return E.a.maxIndex(U)}m||(m=8);var D,j=8-m;return P()<<j}function e(O,m){var C=t(O);return f(O,C,m),C}function n(O,m,C){function M(L){var $=!1;for(D=0;D<k.length;D++)j=k[D],j.fits(L)&&(j.add(L),$=!0);return $}var P,D,j,B,k=[];for(C||(C="rad"),P=0;P<O.length;P++)B=y.a.createPoint(O[P],P,C),M(B)||k.push(y.a.create(B,m));return k}function r(O,m,C){var M,P,D,j,B=0,k=0,L=[];for(M=0;M<m;M++)L[M]={score:0,item:null};for(M=0;M<O.length;M++)if((P=C.apply(this,[O[M]]))>k)for(D=L[B],D.score=P,D.item=O[M],k=Number.MAX_VALUE,j=0;j<m;j++)L[j].score<k&&(k=L[j].score,B=j);return L}function o(O,m,C){for(var M,P=0,D=m.x,j=Math.floor(O.length/4),B=m.x/2,k=0,L=m.x;D<j;){for(M=0;M<B;M++)C[k]=(.299*O[4*P+0]+.587*O[4*P+1]+.114*O[4*P+2]+(.299*O[4*(P+1)+0]+.587*O[4*(P+1)+1]+.114*O[4*(P+1)+2])+(.299*O[4*D+0]+.587*O[4*D+1]+.114*O[4*D+2])+(.299*O[4*(D+1)+0]+.587*O[4*(D+1)+1]+.114*O[4*(D+1)+2]))/4,k++,P+=2,D+=2;P+=L,D+=L}}function u(O,m,C){var M,P=O.length/4|0;if(C&&C.singleChannel===!0)for(M=0;M<P;M++)m[M]=O[4*M+0];else for(M=0;M<P;M++)m[M]=.299*O[4*M+0]+.587*O[4*M+1]+.114*O[4*M+2]}function l(O,m){for(var C=O.data,M=O.size.x,P=m.data,D=0,j=M,B=C.length,k=M/2,L=0;j<B;){for(var $=0;$<k;$++)P[L]=Math.floor((C[D]+C[D+1]+C[j]+C[j+1])/4),L++,D+=2,j+=2;D+=M,j+=M}}function s(O,m){var C=O[0],M=O[1],P=O[2],D=P*M,j=D*(1-Math.abs(C/60%2-1)),B=P-D,k=0,L=0,$=0;return m=m||[0,0,0],C<60?(k=D,L=j):C<120?(k=j,L=D):C<180?(L=D,$=j):C<240?(L=j,$=D):C<300?(k=j,$=D):C<360&&(k=D,$=j),m[0]=255*(k+B)|0,m[1]=255*(L+B)|0,m[2]=255*($+B)|0,m}function h(O){var m,C=[],M=[];for(m=1;m<Math.sqrt(O)+1;m++)O%m==0&&(M.push(m),m!==O/m&&C.unshift(Math.floor(O/m)));return M.concat(C)}function v(O,m){for(var C=0,M=0,P=[];C<O.length&&M<m.length;)O[C]===m[M]?(P.push(O[C]),C++,M++):O[C]>m[M]?M++:C++;return P}function _(O,m){function C(N){for(var U=0,q=N[Math.floor(N.length/2)];U<N.length-1&&N[U]<J;)U++;return U>0&&(q=Math.abs(N[U]-J)>Math.abs(N[U-1]-J)?N[U-1]:N[U]),J/q<k[$+1]/k[$]&&J/q>k[$-1]/k[$]?{x:q,y:q}:null}var M,P=h(m.x),D=h(m.y),j=Math.max(m.x,m.y),B=v(P,D),k=[8,10,15,20,32,60,80],L={"x-small":5,small:4,medium:3,large:2,"x-large":1},$=L[O]||L.medium,ie=k[$],J=Math.floor(j/ie);return M=C(B),M||(M=C(h(j)))||(M=C(h(J*ie))),M}function g(O){return{value:parseFloat(O),unit:(O.indexOf("%"),O.length,"%")}}function b(O,m,C){var M={width:O,height:m},P=Object.keys(C).reduce(function(D,j){var B=C[j],k=g(B),L=I[j](k,M);return D[j]=L,D},{});return{sx:P.left,sy:P.top,sw:P.right-P.left,sh:P.bottom-P.top}}var y=c(50),E=c(3);p.b=i,p.f=e,p.g=n,p.h=r,p.c=o,p.d=u,p.i=l,p.a=s,p.e=_,p.j=b;var w={clone:c(7)},R={clone:c(83)},I={top:function(O,m){if(O.unit==="%")return Math.floor(m.height*(O.value/100))},right:function(O,m){if(O.unit==="%")return Math.floor(m.width-m.width*(O.value/100))},bottom:function(O,m){if(O.unit==="%")return Math.floor(m.height-m.height*(O.value/100))},left:function(O,m){if(O.unit==="%")return Math.floor(m.width*(O.value/100))}}},function(d,p,c){function i(n,r,o,u){r?this.data=r:o?(this.data=new o(n.x*n.y),o===Array&&u&&t.a.init(this.data,0)):(this.data=new Uint8Array(n.x*n.y),Uint8Array===Array&&u&&t.a.init(this.data,0)),this.size=n}var f=c(53),a=c(19),t=c(3),e={clone:c(7)};i.prototype.inImageWithBorder=function(n,r){return n.x>=r&&n.y>=r&&n.x<this.size.x-r&&n.y<this.size.y-r},i.sample=function(n,r,o){var u=Math.floor(r),l=Math.floor(o),s=n.size.x,h=l*n.size.x+u,v=n.data[h+0],_=n.data[h+1],g=n.data[h+s],b=n.data[h+s+1],y=v-_;return r-=u,o-=l,Math.floor(r*(o*(y-g+b)-y)+o*(g-v)+v)},i.clearArray=function(n){for(var r=n.length;r--;)n[r]=0},i.prototype.subImage=function(n,r){return new f.a(n,r,this)},i.prototype.subImageAsCopy=function(n,r){var o,u,l=n.size.y,s=n.size.x;for(o=0;o<s;o++)for(u=0;u<l;u++)n.data[u*s+o]=this.data[(r.y+u)*this.size.x+r.x+o]},i.prototype.copyTo=function(n){for(var r=this.data.length,o=this.data,u=n.data;r--;)u[r]=o[r]},i.prototype.get=function(n,r){return this.data[r*this.size.x+n]},i.prototype.getSafe=function(n,r){var o;if(!this.indexMapping){for(this.indexMapping={x:[],y:[]},o=0;o<this.size.x;o++)this.indexMapping.x[o]=o,this.indexMapping.x[o+this.size.x]=o;for(o=0;o<this.size.y;o++)this.indexMapping.y[o]=o,this.indexMapping.y[o+this.size.y]=o}return this.data[this.indexMapping.y[r+this.size.y]*this.size.x+this.indexMapping.x[n+this.size.x]]},i.prototype.set=function(n,r,o){return this.data[r*this.size.x+n]=o,this},i.prototype.zeroBorder=function(){var n,r=this.size.x,o=this.size.y,u=this.data;for(n=0;n<r;n++)u[n]=u[(o-1)*r+n]=0;for(n=1;n<o-1;n++)u[n*r]=u[n*r+(r-1)]=0},i.prototype.invert=function(){for(var n=this.data,r=n.length;r--;)n[r]=n[r]?0:1},i.prototype.convolve=function(n){var r,o,u,l,s=n.length/2|0,h=0;for(o=0;o<this.size.y;o++)for(r=0;r<this.size.x;r++){for(h=0,l=-s;l<=s;l++)for(u=-s;u<=s;u++)h+=n[l+s][u+s]*this.getSafe(r+u,o+l);this.data[o*this.size.x+r]=h}},i.prototype.moments=function(n){var r,o,u,l,s,h,v,_,g,b,y,E,w=this.data,R=this.size.y,I=this.size.x,O=[],m=[],C=Math.PI,M=C/4;if(n<=0)return m;for(s=0;s<n;s++)O[s]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(o=0;o<R;o++)for(l=o*o,r=0;r<I;r++)(u=w[o*I+r])>0&&(h=O[u-1],h.m00+=1,h.m01+=o,h.m10+=r,h.m11+=r*o,h.m02+=l,h.m20+=r*r);for(s=0;s<n;s++)h=O[s],isNaN(h.m00)||h.m00===0||(b=h.m10/h.m00,y=h.m01/h.m00,v=h.m11/h.m00-b*y,_=h.m02/h.m00-y*y,g=h.m20/h.m00-b*b,E=(_-g)/(2*v),E=.5*Math.atan(E)+(v>=0?M:-M)+C,h.theta=(180*E/C+90)%180-90,h.theta<0&&(h.theta+=180),h.rad=E>C?E-C:E,h.vec=e.clone([Math.cos(E),Math.sin(E)]),m.push(h));return m},i.prototype.show=function(n,r){var o,u,l,s,h,v,_;for(r||(r=1),o=n.getContext("2d"),n.width=this.size.x,n.height=this.size.y,u=o.getImageData(0,0,n.width,n.height),l=u.data,s=0,_=0;_<this.size.y;_++)for(v=0;v<this.size.x;v++)h=_*this.size.x+v,s=this.get(v,_)*r,l[4*h+0]=s,l[4*h+1]=s,l[4*h+2]=s,l[4*h+3]=255;o.putImageData(u,0,0)},i.prototype.overlay=function(n,r,o){(!r||r<0||r>360)&&(r=360);for(var u=[0,1,1],l=[0,0,0],s=[255,255,255],h=[0,0,0],v=[],_=n.getContext("2d"),g=_.getImageData(o.x,o.y,this.size.x,this.size.y),b=g.data,y=this.data.length;y--;)u[0]=this.data[y]*r,v=u[0]<=0?s:u[0]>=360?h:c.i(a.a)(u,l),b[4*y+0]=v[0],b[4*y+1]=v[1],b[4*y+2]=v[2],b[4*y+3]=255;_.putImageData(g,o.x,o.y)},p.a=i},function(d,p,c){function i(a,t,e){t=="__proto__"&&f?f(a,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):a[t]=e}var f=c(37);d.exports=i},function(d,p,c){function i(t,e){var n=a(t,e);return f(n)?n:void 0}var f=c(97),a=c(120);d.exports=i},function(d,p,c){function i(a){if(typeof a=="string"||f(a))return a;var t=a+"";return t=="0"&&1/a==-1/0?"-0":t}var f=c(27);d.exports=i},function(d,p,c){function i(t){return t!=null&&a(t.length)&&!f(t)}var f=c(25),a=c(26);d.exports=i},function(d,p,c){function i(o){if(!a(o))return!1;var u=f(o);return u==e||u==n||u==t||u==r}var f=c(8),a=c(0),t="[object AsyncFunction]",e="[object Function]",n="[object GeneratorFunction]",r="[object Proxy]";d.exports=i},function(d,p){function c(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=i}var i=9007199254740991;d.exports=c},function(d,p,c){function i(e){return typeof e=="symbol"||a(e)&&f(e)==t}var f=c(8),a=c(6),t="[object Symbol]";d.exports=i},function(d,p,c){var i=c(100),f=c(116),a=f(function(t,e,n){i(t,e,n)});d.exports=a},function(d,p){d.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),c.webpackPolyfill=1),c}},function(d,p,c){var i={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(f,a){function t(h,v,_,g){var b,y,E;for(b=0;b<7;b++){if(y=h.cy+l[h.dir][0],E=h.cx+l[h.dir][1],r=y*s+E,o[r]===v&&(u[r]===0||u[r]===_))return u[r]=_,h.cy=y,h.cx=E,!0;u[r]===0&&(u[r]=g),h.dir=(h.dir+1)%8}return!1}function e(h,v,_){return{dir:_,x:h,y:v,next:null,prev:null}}function n(h,v,_,g,b){var y,E,w,R=null,I={cx:v,cy:h,dir:0};if(t(I,g,_,b)){R=e(v,h,I.dir),y=R,w=I.dir,E=e(I.cx,I.cy,0),E.prev=y,y.next=E,E.next=null,y=E;do I.dir=(I.dir+6)%8,t(I,g,_,b),w!==I.dir?(y.dir=I.dir,E=e(I.cx,I.cy,0),E.prev=y,y.next=E,E.next=null,y=E):(y.dir=w,y.x=I.cx,y.y=I.cy),w=I.dir;while(I.cx!==v||I.cy!==h);R.prev=y.prev,y.prev.next=R}return R}var r,o=f.data,u=a.data,l=this.searchDirections,s=f.size.x;return{trace:function(h,v,_,g){return t(h,v,_,g)},contourTracing:function(h,v,_,g,b){return n(h,v,_,g,b)}}}};p.a=i},function(d,p,c){function i(){f.a.call(this)}var f=c(1),a=c(3),t={ALPHABETH_STRING:{value:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,46,32,42,36,47,43,37]},CHARACTER_ENCODINGS:{value:[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]},ASTERISK:{value:148},FORMAT:{value:"code_39",writeable:!1}};i.prototype=Object.create(f.a.prototype,t),i.prototype.constructor=i,i.prototype._decode=function(){var e,n,r,o,u=this,l=[0,0,0,0,0,0,0,0,0],s=[],h=u._findStart();if(!h)return null;o=u._nextSet(u._row,h.end);do{if(l=u._toCounters(o,l),(r=u._toPattern(l))<0||(e=u._patternToChar(r))<0)return null;s.push(e),n=o,o+=a.a.sum(l),o=u._nextSet(u._row,o)}while(e!=="*");return s.pop(),s.length&&u._verifyTrailingWhitespace(n,o,l)?{code:s.join(""),start:h.start,end:o,startInfo:h,decodedCodes:s}:null},i.prototype._verifyTrailingWhitespace=function(e,n,r){var o=a.a.sum(r);return 3*(n-e-o)>=o},i.prototype._patternToChar=function(e){var n,r=this;for(n=0;n<r.CHARACTER_ENCODINGS.length;n++)if(r.CHARACTER_ENCODINGS[n]===e)return String.fromCharCode(r.ALPHABET[n]);return-1},i.prototype._findNextWidth=function(e,n){var r,o=Number.MAX_VALUE;for(r=0;r<e.length;r++)e[r]<o&&e[r]>n&&(o=e[r]);return o},i.prototype._toPattern=function(e){for(var n,r,o=e.length,u=0,l=o,s=0,h=this;l>3;){for(u=h._findNextWidth(e,u),l=0,n=0,r=0;r<o;r++)e[r]>u&&(n|=1<<o-1-r,l++,s+=e[r]);if(l===3){for(r=0;r<o&&l>0;r++)if(e[r]>u&&(l--,2*e[r]>=s))return-1;return n}}return-1},i.prototype._findStart=function(){var e,n,r,o=this,u=o._nextSet(o._row),l=u,s=[0,0,0,0,0,0,0,0,0],h=0,v=!1;for(e=u;e<o._row.length;e++)if(o._row[e]^v)s[h]++;else{if(h===s.length-1){if(o._toPattern(s)===o.ASTERISK&&(r=Math.floor(Math.max(0,l-(e-l)/4)),o._matchRange(r,l,0)))return{start:l,end:e};for(l+=s[0]+s[1],n=0;n<7;n++)s[n]=s[n+2];s[7]=0,s[8]=0,h--}else h++;s[h]=1,v=!v}return null},p.a=i},function(d,p){function c(i,f){return i[0]*f[0]+i[1]*f[1]}d.exports=c},function(d,p,c){var i=c(22),f=c(5),a=i(f,"Map");d.exports=a},function(d,p,c){function i(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var l=r[o];this.set(l[0],l[1])}}var f=c(138),a=c(139),t=c(140),e=c(141),n=c(142);i.prototype.clear=f,i.prototype.delete=a,i.prototype.get=t,i.prototype.has=e,i.prototype.set=n,d.exports=i},function(d,p,c){function i(t,e,n){(n===void 0||a(t[e],n))&&(n!==void 0||e in t)||f(t,e,n)}var f=c(21),a=c(17);d.exports=i},function(d,p,c){function i(n,r,o){var u=n[r];e.call(n,r)&&a(u,o)&&(o!==void 0||r in n)||f(n,r,o)}var f=c(21),a=c(17),t=Object.prototype,e=t.hasOwnProperty;d.exports=i},function(d,p,c){var i=c(22),f=function(){try{var a=i(Object,"defineProperty");return a({},"",{}),a}catch{}}();d.exports=f},function(d,p,c){(function(i){var f=typeof i=="object"&&i&&i.Object===Object&&i;d.exports=f}).call(p,c(47))},function(d,p,c){var i=c(147),f=i(Object.getPrototypeOf,Object);d.exports=f},function(d,p){function c(f){var a=f&&f.constructor;return f===(typeof a=="function"&&a.prototype||i)}var i=Object.prototype;d.exports=c},function(d,p,c){function i(t,e,n){return e=a(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,u=a(r.length-e,0),l=Array(u);++o<u;)l[o]=r[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=r[o];return s[e]=n(l),f(t,this,s)}}var f=c(87),a=Math.max;d.exports=i},function(d,p,c){var i=c(106),f=c(148),a=f(i);d.exports=a},function(d,p){function c(i){return i}d.exports=c},function(d,p,c){(function(i){var f=c(5),a=c(163),t=typeof p=="object"&&p&&!p.nodeType&&p,e=t&&typeof i=="object"&&i&&!i.nodeType&&i,n=e&&e.exports===t,r=n?f.Buffer:void 0,o=r?r.isBuffer:void 0,u=o||a;i.exports=u}).call(p,c(29)(d))},function(d,p,c){var i=c(98),f=c(109),a=c(145),t=a&&a.isTypedArray,e=t?f(t):i;d.exports=e},function(d,p,c){function i(e){return t(e)?f(e,!0):a(e)}var f=c(88),a=c(99),t=c(24);d.exports=i},function(d,p){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(c=window)}d.exports=c},function(d,p,c){function i(T){r(T),j=N.a.create(Z.decoder,P)}function f(T){var G;if(Z.inputStream.type==="VideoStream")G=document.createElement("video"),m=X.a.createVideoStream(G);else if(Z.inputStream.type==="ImageStream")m=X.a.createImageStream();else if(Z.inputStream.type==="LiveStream"){var V=a();V&&((G=V.querySelector("video"))||(G=document.createElement("video"),V.appendChild(G))),m=X.a.createLiveStream(G),q.a.request(G,Z.inputStream.constraints).then(function(){m.trigger("canrecord")}).catch(function(Y){return T(Y)})}m.setAttribute("preload","auto"),m.setInputStream(Z.inputStream),m.addEventListener("canrecord",t.bind(void 0,T))}function a(){var T=Z.inputStream.target;if(T&&T.nodeName&&T.nodeType===1)return T;var G=typeof T=="string"?T:"#interactive.viewport";return document.querySelector(G)}function t(T){J.a.checkImageConstraints(m,Z.locator),n(),C=ee.a.create(m,Q.dom.image),O(Z.numOfWorkers,function(){Z.numOfWorkers===0&&i(),e(T)})}function e(T){m.play(),T()}function n(){if(typeof document<"u"){var T=a();if(Q.dom.image=document.querySelector("canvas.imgBuffer"),Q.dom.image||(Q.dom.image=document.createElement("canvas"),Q.dom.image.className="imgBuffer",T&&Z.inputStream.type==="ImageStream"&&T.appendChild(Q.dom.image)),Q.ctx.image=Q.dom.image.getContext("2d"),Q.dom.image.width=m.getCanvasSize().x,Q.dom.image.height=m.getCanvasSize().y,Q.dom.overlay=document.querySelector("canvas.drawingBuffer"),!Q.dom.overlay){Q.dom.overlay=document.createElement("canvas"),Q.dom.overlay.className="drawingBuffer",T&&T.appendChild(Q.dom.overlay);var G=document.createElement("br");G.setAttribute("clear","all"),T&&T.appendChild(G)}Q.ctx.overlay=Q.dom.overlay.getContext("2d"),Q.dom.overlay.width=m.getCanvasSize().x,Q.dom.overlay.height=m.getCanvasSize().y}}function r(T){P=T||new ie.a({x:m.getWidth(),y:m.getHeight()}),D=[ne.clone([0,0]),ne.clone([0,P.size.y]),ne.clone([P.size.x,P.size.y]),ne.clone([P.size.x,0])],J.a.init(P,Z.locator)}function o(){return Z.locate?J.a.locate():[[ne.clone(D[0]),ne.clone(D[1]),ne.clone(D[2]),ne.clone(D[3])]]}function u(T){function G(pe){for(var mt=pe.length;mt--;)pe[mt][0]+=re,pe[mt][1]+=_e}function V(pe){pe[0].x+=re,pe[0].y+=_e,pe[1].x+=re,pe[1].y+=_e}var Y,ue=m.getTopRight(),re=ue.x,_e=ue.y;if(re!==0||_e!==0){if(T.barcodes)for(Y=0;Y<T.barcodes.length;Y++)u(T.barcodes[Y]);if(T.line&&T.line.length===2&&V(T.line),T.box&&G(T.box),T.boxes&&T.boxes.length>0)for(Y=0;Y<T.boxes.length;Y++)G(T.boxes[Y])}}function l(T,G){G&&B&&(T.barcodes?T.barcodes.filter(function(V){return V.codeResult}).forEach(function(V){return l(V,G)}):T.codeResult&&B.addResult(G,m.getCanvasSize(),T.codeResult))}function s(T){return T&&(T.barcodes?T.barcodes.some(function(G){return G.codeResult}):T.codeResult)}function h(T,G){var V=T;T&&se&&(u(T),l(T,G),V=T.barcodes||T),U.a.publish("processed",V),s(T)&&U.a.publish("detected",V)}function v(){var T,G;G=o(),G?(T=j.decodeFromBoundingBoxes(G),T=T||{},T.boxes=G,h(T,P.data)):h()}function _(){var T;if(se){if(oe.length>0){if(!(T=oe.filter(function(G){return!G.busy})[0]))return;C.attachData(T.imageData)}else C.attachData(P.data);C.grab()&&(T?(T.busy=!0,T.worker.postMessage({cmd:"process",imageData:T.imageData},[T.imageData.buffer])):v())}else v()}function g(){var T=null,G=1e3/(Z.frequency||60);M=!1,function V(Y){T=T||Y,M||(Y>=T&&(T+=G,_()),window.requestAnimFrame(V))}(performance.now())}function b(){se&&Z.inputStream.type==="LiveStream"?g():_()}function y(T){var G,V={worker:void 0,imageData:new Uint8Array(m.getWidth()*m.getHeight()),busy:!0};G=R(),V.worker=new Worker(G),V.worker.onmessage=function(Y){if(Y.data.event==="initialized")return URL.revokeObjectURL(G),V.busy=!1,V.imageData=new Uint8Array(Y.data.imageData),T(V);Y.data.event==="processed"?(V.imageData=new Uint8Array(Y.data.imageData),V.busy=!1,h(Y.data.result,V.imageData)):Y.data.event},V.worker.postMessage({cmd:"init",size:{x:m.getWidth(),y:m.getHeight()},imageData:V.imageData,config:E(Z)},[V.imageData.buffer])}function E(T){return K({},T,{inputStream:K({},T.inputStream,{target:null})})}function w(T){function G(re){self.postMessage({event:"processed",imageData:ue.data,result:re},[ue.data.buffer])}function V(){self.postMessage({event:"initialized",imageData:ue.data},[ue.data.buffer])}if(T){var Y=T().default;if(!Y)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var ue;self.onmessage=function(re){if(re.data.cmd==="init"){var _e=re.data.config;_e.numOfWorkers=0,ue=new Y.ImageWrapper({x:re.data.size.x,y:re.data.size.y},new Uint8Array(re.data.imageData)),Y.init(_e,V,ue),Y.onProcessed(G)}else re.data.cmd==="process"?(ue.data=new Uint8Array(re.data.imageData),Y.start()):re.data.cmd==="setReaders"&&Y.setReaders(re.data.readers)}}function R(){var T,G;return S!==void 0&&(G=S),T=new Blob(["("+w.toString()+")("+G+");"],{type:"text/javascript"}),window.URL.createObjectURL(T)}function I(T){j?j.setReaders(T):se&&oe.length>0&&oe.forEach(function(G){G.worker.postMessage({cmd:"setReaders",readers:T})})}function O(T,G){var V=T-oe.length;if(V===0)return G&&G();if(V<0)return oe.slice(V).forEach(function(re){re.worker.terminate()}),oe=oe.slice(0,V),G&&G();for(var Y=function(re){oe.push(re),oe.length>=T&&G&&G()},ue=0;ue<V;ue++)y(Y)}Object.defineProperty(p,"__esModule",{value:!0});var m,C,M,P,D,j,B,k=c(28),L=c.n(k),$=c(54),ie=(c.n($),c(20)),J=c(64),N=c(57),U=c(51),q=c(59),F=c(9),H=c(49),W=c(55),X=c(63),ee=c(61),K=Object.assign||function(T){for(var G=1;G<arguments.length;G++){var V=arguments[G];for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(T[Y]=V[Y])}return T},ne={clone:c(7)},Q={ctx:{image:null,overlay:null},dom:{image:null,overlay:null}},oe=[],se=!0,Z={};p.default={init:function(T,G,V){if(Z=L()({},W.a,T),V)return se=!1,i(V),G();f(G)},start:function(){b()},stop:function(){M=!0,O(0),Z.inputStream.type==="LiveStream"&&(q.a.release(),m.clearEventHandlers())},pause:function(){M=!0},onDetected:function(T){U.a.subscribe("detected",T)},offDetected:function(T){U.a.unsubscribe("detected",T)},onProcessed:function(T){U.a.subscribe("processed",T)},offProcessed:function(T){U.a.unsubscribe("processed",T)},setReaders:function(T){I(T)},registerResultCollector:function(T){T&&typeof T.addResult=="function"&&(B=T)},canvas:Q,decodeSingle:function(T,G){var V=this;T=L()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:T.src},numOfWorkers:1,locator:{halfSample:!1}},T),this.init(T,function(){U.a.once("processed",function(Y){V.stop(),G.call(null,Y)},!0),b()})},ImageWrapper:ie.a,ImageDebug:F.a,ResultCollector:H.a,CameraAccess:q.a}},function(d,p,c){function i(t,e){return!!e&&e.some(function(n){return Object.keys(n).every(function(r){return n[r]===t[r]})})}function f(t,e){return typeof e!="function"||e(t)}var a=c(9);p.a={create:function(t){function e(s){return u&&s&&!i(s,t.blacklist)&&f(s,t.filter)}var n=document.createElement("canvas"),r=n.getContext("2d"),o=[],u=t.capacity||20,l=t.capture===!0;return{addResult:function(s,h,v){var _={};e(v)&&(u--,_.codeResult=v,l&&(n.width=h.x,n.height=h.y,a.a.drawImage(s,h,r),_.frame=n.toDataURL()),o.push(_))},getResults:function(){return o}}}}},function(d,p,c){var i={clone:c(7),dot:c(32)};p.a={create:function(f,a){function t(){e(f),n()}function e(l){u[l.id]=l,r.push(l)}function n(){var l,s=0;for(l=0;l<r.length;l++)s+=r[l].rad;o.rad=s/r.length,o.vec=i.clone([Math.cos(o.rad),Math.sin(o.rad)])}var r=[],o={rad:0,vec:i.clone([0,0])},u={};return t(),{add:function(l){u[l.id]||(e(l),n())},fits:function(l){return Math.abs(i.dot(l.point.vec,o.vec))>a},getPoints:function(){return r},getCenter:function(){return o}}},createPoint:function(f,a,t){return{rad:f[t],point:f,id:a}}}},function(d,p,c){p.a=function(){function i(n){return e[n]||(e[n]={subscribers:[]}),e[n]}function f(){e={}}function a(n,r){n.async?setTimeout(function(){n.callback(r)},4):n.callback(r)}function t(n,r,o){var u;if(typeof r=="function")u={callback:r,async:o};else if(u=r,!u.callback)throw"Callback was not specified on options";i(n).subscribers.push(u)}var e={};return{subscribe:function(n,r,o){return t(n,r,o)},publish:function(n,r){var o=i(n),u=o.subscribers;u.filter(function(l){return!!l.once}).forEach(function(l){a(l,r)}),o.subscribers=u.filter(function(l){return!l.once}),o.subscribers.forEach(function(l){a(l,r)})},once:function(n,r,o){t(n,{callback:r,async:o,once:!0})},unsubscribe:function(n,r){var o;n?(o=i(n),o.subscribers=o&&r?o.subscribers.filter(function(u){return u.callback!==r}):[]):f()}}}()},function(d,p,c){function i(){return navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices=="function"?navigator.mediaDevices.enumerateDevices():Promise.reject(new Error("enumerateDevices is not defined"))}function f(a){return navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"?navigator.mediaDevices.getUserMedia(a):Promise.reject(new Error("getUserMedia is not defined"))}p.b=i,p.a=f},function(d,p,c){function i(f,a,t){t||(t={data:null,size:a}),this.data=t.data,this.originalSize=t.size,this.I=t,this.from=f,this.size=a}i.prototype.show=function(f,a){var t,e,n,r,o,u,l;for(a||(a=1),t=f.getContext("2d"),f.width=this.size.x,f.height=this.size.y,e=t.getImageData(0,0,f.width,f.height),n=e.data,r=0,o=0;o<this.size.y;o++)for(u=0;u<this.size.x;u++)l=o*this.size.x+u,r=this.get(u,o)*a,n[4*l+0]=r,n[4*l+1]=r,n[4*l+2]=r,n[4*l+3]=255;e.data=n,t.putImageData(e,0,0)},i.prototype.get=function(f,a){return this.data[(this.from.y+a)*this.originalSize.x+this.from.x+f]},i.prototype.updateData=function(f){this.originalSize=f.size,this.data=f.data},i.prototype.updateFrom=function(f){return this.from=f,this},p.a=i},function(d,p){typeof window<"u"&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1e3/60)}}()),Math.imul=Math.imul||function(c,i){var f=c>>>16&65535,a=65535&c,t=i>>>16&65535,e=65535&i;return a*e+(f*e+a*t<<16>>>0)|0},typeof Object.assign!="function"&&(Object.assign=function(c){if(c===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(c),f=1;f<arguments.length;f++){var a=arguments[f];if(a!==null)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}return i})},function(d,p,c){var i=void 0;i=c(56),p.a=i},function(d,p){d.exports={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}}},function(d,p,c){var i=c(58),f=(c(9),c(69)),a=c(4),t=c(31),e=c(70),n=c(68),r=c(77),o=c(74),u=c(72),l=c(73),s=c(76),h=c(75),v=c(67),_=c(71),g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},b={code_128_reader:f.a,ean_reader:a.a,ean_5_reader:l.a,ean_2_reader:u.a,ean_8_reader:o.a,code_39_reader:t.a,code_39_vin_reader:e.a,codabar_reader:n.a,upc_reader:r.a,upc_e_reader:s.a,i2of5_reader:h.a,"2of5_reader":v.a,code_93_reader:_.a};p.a={create:function(y,E){function w(){y.readers.forEach(function(D){var j,B={},k=[];(D===void 0?"undefined":g(D))==="object"?(j=D.format,B=D.config):typeof D=="string"&&(j=D),B.supplements&&(k=B.supplements.map(function(L){return new b[L]})),P.push(new b[j](B,k))})}function R(D,j,B){function k(L){var $={y:L*Math.sin(j),x:L*Math.cos(j)};D[0].y-=$.y,D[0].x-=$.x,D[1].y+=$.y,D[1].x+=$.x}for(k(B);B>1&&(!E.inImageWithBorder(D[0],0)||!E.inImageWithBorder(D[1],0));)B-=Math.ceil(B/2),k(-B);return D}function I(D){return[{x:(D[1][0]-D[0][0])/2+D[0][0],y:(D[1][1]-D[0][1])/2+D[0][1]},{x:(D[3][0]-D[2][0])/2+D[2][0],y:(D[3][1]-D[2][1])/2+D[2][1]}]}function O(D){var j,B=null,k=i.a.getBarcodeLine(E,D[0],D[1]);for(i.a.toBinaryLine(k),j=0;j<P.length&&B===null;j++)B=P[j].decodePattern(k.line);return B===null?null:{codeResult:B,barcodeLine:k}}function m(D,j,B){var k,L,$,ie=Math.sqrt(Math.pow(D[1][0]-D[0][0],2)+Math.pow(D[1][1]-D[0][1],2)),J=16,N=null,U=Math.sin(B),q=Math.cos(B);for(k=1;k<J&&N===null;k++)L=ie/J*k*(k%2==0?-1:1),$={y:L*U,x:L*q},j[0].y+=$.x,j[0].x-=$.y,j[1].y+=$.x,j[1].x-=$.y,N=O(j);return N}function C(D){return Math.sqrt(Math.pow(Math.abs(D[1].y-D[0].y),2)+Math.pow(Math.abs(D[1].x-D[0].x),2))}function M(D){var j,B,k,L;return j=I(D),L=C(j),B=Math.atan2(j[1].y-j[0].y,j[1].x-j[0].x),(j=R(j,B,Math.floor(.1*L)))===null?null:(k=O(j),k===null&&(k=m(D,j,B)),k===null?null:{codeResult:k.codeResult,line:j,angle:B,pattern:k.barcodeLine.line,threshold:k.barcodeLine.threshold})}var P=[];return w(),{decodeFromBoundingBox:function(D){return M(D)},decodeFromBoundingBoxes:function(D){var j,B,k=[],L=y.multiple;for(j=0;j<D.length;j++){var $=D[j];if(B=M($)||{},B.box=$,L)k.push(B);else if(B.codeResult)return B}if(L)return{barcodes:k}},setReaders:function(D){y.readers=D,P.length=0,w()}}}}},function(d,p,c){var i=(c(20),{}),f={DIR:{UP:1,DOWN:-1}};i.getBarcodeLine=function(a,t,e){function n(M,P){_=I[P*O+M],m=_<m?_:m,C=_>C?_:C,R.push(_)}var r,o,u,l,s,h,v,_,g=0|t.x,b=0|t.y,y=0|e.x,E=0|e.y,w=Math.abs(E-b)>Math.abs(y-g),R=[],I=a.data,O=a.size.x,m=255,C=0;for(w&&(h=g,g=b,b=h,h=y,y=E,E=h),g>y&&(h=g,g=y,y=h,h=b,b=E,E=h),r=y-g,o=Math.abs(E-b),u=r/2|0,s=b,l=b<E?1:-1,v=g;v<y;v++)w?n(s,v):n(v,s),(u-=o)<0&&(s+=l,u+=r);return{line:R,min:m,max:C}},i.toBinaryLine=function(a){var t,e,n,r,o,u,l=a.min,s=a.max,h=a.line,v=l+(s-l)/2,_=[],g=(s-l)/12,b=-g;for(n=h[0]>v?f.DIR.UP:f.DIR.DOWN,_.push({pos:0,val:h[0]}),o=0;o<h.length-2;o++)t=h[o+1]-h[o],e=h[o+2]-h[o+1],r=t+e<b&&h[o+1]<1.5*v?f.DIR.DOWN:t+e>g&&h[o+1]>.5*v?f.DIR.UP:n,n!==r&&(_.push({pos:o,val:h[o]}),n=r);for(_.push({pos:h.length,val:h[h.length-1]}),u=_[0].pos;u<_[1].pos;u++)h[u]=h[u]>v?0:1;for(o=1;o<_.length-1;o++)for(g=_[o+1].val>_[o].val?_[o].val+(_[o+1].val-_[o].val)/3*2|0:_[o+1].val+(_[o].val-_[o+1].val)/3|0,u=_[o].pos;u<_[o+1].pos;u++)h[u]=h[u]>g?0:1;return{line:h,threshold:g}},i.debug={printFrequency:function(a,t){var e,n=t.getContext("2d");for(t.width=a.length,t.height=256,n.beginPath(),n.strokeStyle="blue",e=0;e<a.length;e++)n.moveTo(e,255),n.lineTo(e,255-a[e]);n.stroke(),n.closePath()},printPattern:function(a,t){var e,n=t.getContext("2d");for(t.width=a.length,n.fillColor="black",e=0;e<a.length;e++)a[e]===1&&n.fillRect(e,0,1,100)}},p.a=i},function(d,p,c){function i(s){return new Promise(function(h,v){function _(){g>0?s.videoWidth>10&&s.videoHeight>10?h():window.setTimeout(_,500):v("Unable to play video stream. Is webcam working?"),g--}var g=10;_()})}function f(s,h){return c.i(l.a)(h).then(function(v){return new Promise(function(_){r=v,s.setAttribute("autoplay",!0),s.setAttribute("muted",!0),s.setAttribute("playsinline",!0),s.srcObject=v,s.addEventListener("loadedmetadata",function(){s.play(),_()})})}).then(i.bind(null,s))}function a(s){var h=u()(s,["width","height","facingMode","aspectRatio","deviceId"]);return s.minAspectRatio!==void 0&&s.minAspectRatio>0&&(h.aspectRatio=s.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),s.facing!==void 0&&(h.facingMode=s.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),h}function t(s){var h={audio:!1,video:a(s)};return h.video.deviceId&&h.video.facingMode&&delete h.video.facingMode,Promise.resolve(h)}function e(){return c.i(l.b)().then(function(s){return s.filter(function(h){return h.kind==="videoinput"})})}function n(){if(r){var s=r.getVideoTracks();if(s&&s.length)return s[0]}}var r,o=c(162),u=c.n(o),l=c(52);p.a={request:function(s,h){return t(h).then(f.bind(null,s))},release:function(){var s=r&&r.getVideoTracks();s&&s.length&&s[0].stop(),r=null},enumerateVideoDevices:e,getActiveStreamLabel:function(){var s=n();return s?s.label:""},getActiveTrack:n}},function(d,p,c){function i(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return/^blob\:/i.test(s)?a(s).then(f).then(function(v){return t(v,h)}):Promise.resolve(null)}function f(s){return new Promise(function(h){var v=new FileReader;v.onload=function(_){return h(_.target.result)},v.readAsArrayBuffer(s)})}function a(s){return new Promise(function(h,v){var _=new XMLHttpRequest;_.open("GET",s,!0),_.responseType="blob",_.onreadystatechange=function(){_.readyState!==XMLHttpRequest.DONE||_.status!==200&&_.status!==0||h(this.response)},_.onerror=v,_.send()})}function t(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,v=new DataView(s),_=s.byteLength,g=h.reduce(function(y,E){var w=Object.keys(u).filter(function(R){return u[R]===E})[0];return w&&(y[w]=E),y},{}),b=2;if(v.getUint8(0)!==255||v.getUint8(1)!==216)return!1;for(;b<_;){if(v.getUint8(b)!==255)return!1;if(v.getUint8(b+1)===225)return e(v,b+4,g);b+=2+v.getUint16(b+2)}}function e(s,h,v){if(o(s,h,4)!=="Exif")return!1;var _=h+6,g=void 0;if(s.getUint16(_)===18761)g=!1;else{if(s.getUint16(_)!==19789)return!1;g=!0}if(s.getUint16(_+2,!g)!==42)return!1;var b=s.getUint32(_+4,!g);return!(b<8)&&n(s,_,_+b,v,g)}function n(s,h,v,_,g){for(var b=s.getUint16(v,!g),y={},E=0;E<b;E++){var w=v+12*E+2,R=_[s.getUint16(w,!g)];R&&(y[R]=r(s,w,h,v,g))}return y}function r(s,h,v,_,g){var b=s.getUint16(h+2,!g),y=s.getUint32(h+4,!g);switch(b){case 3:if(y===1)return s.getUint16(h+8,!g)}}function o(s,h,v){for(var _="",g=h;g<h+v;g++)_+=String.fromCharCode(s.getUint8(g));return _}p.a=i;var u={274:"orientation"},l=Object.keys(u).map(function(s){return u[s]})},function(d,p,c){function i(e,n){e.width!==n.x&&(e.width=n.x),e.height!==n.y&&(e.height=n.y)}var f=c(19),a=Math.PI/180,t={};t.create=function(e,n){var r,o={},u=e.getConfig(),l=(c.i(f.b)(e.getRealWidth(),e.getRealHeight()),e.getCanvasSize()),s=c.i(f.b)(e.getWidth(),e.getHeight()),h=e.getTopRight(),v=h.x,_=h.y,g=null,b=null;return r=n||document.createElement("canvas"),r.width=l.x,r.height=l.y,g=r.getContext("2d"),b=new Uint8Array(s.x*s.y),o.attachData=function(y){b=y},o.getData=function(){return b},o.grab=function(){var y,E=u.halfSample,w=e.getFrame(),R=w,I=0;if(R){if(i(r,l),u.type==="ImageStream"&&(R=w.img,w.tags&&w.tags.orientation))switch(w.tags.orientation){case 6:I=90*a;break;case 8:I=-90*a}return I!==0?(g.translate(l.x/2,l.y/2),g.rotate(I),g.drawImage(R,-l.y/2,-l.x/2,l.y,l.x),g.rotate(-I),g.translate(-l.x/2,-l.y/2)):g.drawImage(R,0,0,l.x,l.y),y=g.getImageData(v,_,s.x,s.y).data,E?c.i(f.c)(y,s,b):c.i(f.d)(y,b,u),!0}return!1},o.getSize=function(){return s},o},p.a=t},function(d,p,c){function i(t,e){t.onload=function(){e.loaded(this)}}var f=c(60),a={};a.load=function(t,e,n,r,o){var u,l,s,h=new Array(r),v=new Array(h.length);if(o===!1)h[0]=t;else for(u=0;u<h.length;u++)s=n+u,h[u]=t+"image-"+("00"+s).slice(-3)+".jpg";for(v.notLoaded=[],v.addImage=function(_){v.notLoaded.push(_)},v.loaded=function(_){for(var g=v.notLoaded,b=0;b<g.length;b++)if(g[b]===_){g.splice(b,1);for(var y=0;y<h.length;y++){var E=h[y].substr(h[y].lastIndexOf("/"));if(_.src.lastIndexOf(E)!==-1){v[y]={img:_};break}}break}g.length===0&&(o===!1?c.i(f.a)(t,["orientation"]).then(function(w){v[0].tags=w,e(v)}).catch(function(w){console.log(w),e(v)}):e(v))},u=0;u<h.length;u++)l=new Image,v.addImage(l),i(l,v),l.src=h[u]},p.a=a},function(d,p,c){var i=c(62),f={};f.createVideoStream=function(a){function t(){var v=a.videoWidth,_=a.videoHeight;e=o.size?v/_>1?o.size:Math.floor(v/_*o.size):v,n=o.size?v/_>1?Math.floor(_/v*o.size):o.size:_,h.x=e,h.y=n}var e,n,r={},o=null,u=["canrecord","ended"],l={},s={x:0,y:0},h={x:0,y:0};return r.getRealWidth=function(){return a.videoWidth},r.getRealHeight=function(){return a.videoHeight},r.getWidth=function(){return e},r.getHeight=function(){return n},r.setWidth=function(v){e=v},r.setHeight=function(v){n=v},r.setInputStream=function(v){o=v,a.src=v.src!==void 0?v.src:""},r.ended=function(){return a.ended},r.getConfig=function(){return o},r.setAttribute=function(v,_){a.setAttribute(v,_)},r.pause=function(){a.pause()},r.play=function(){a.play()},r.setCurrentTime=function(v){o.type!=="LiveStream"&&(a.currentTime=v)},r.addEventListener=function(v,_,g){u.indexOf(v)!==-1?(l[v]||(l[v]=[]),l[v].push(_)):a.addEventListener(v,_,g)},r.clearEventHandlers=function(){u.forEach(function(v){var _=l[v];_&&_.length>0&&_.forEach(function(g){a.removeEventListener(v,g)})})},r.trigger=function(v,_){var g,b=l[v];if(v==="canrecord"&&t(),b&&b.length>0)for(g=0;g<b.length;g++)b[g].apply(r,_)},r.setTopRight=function(v){s.x=v.x,s.y=v.y},r.getTopRight=function(){return s},r.setCanvasSize=function(v){h.x=v.x,h.y=v.y},r.getCanvasSize=function(){return h},r.getFrame=function(){return a},r},f.createLiveStream=function(a){a.setAttribute("autoplay",!0);var t=f.createVideoStream(a);return t.ended=function(){return!1},t},f.createImageStream=function(){function a(){v=!1,i.a.load(y,function(m){if(_=m,m[0].tags&&m[0].tags.orientation)switch(m[0].tags.orientation){case 6:case 8:u=m[0].img.height,l=m[0].img.width;break;default:u=m[0].img.width,l=m[0].img.height}else u=m[0].img.width,l=m[0].img.height;e=o.size?u/l>1?o.size:Math.floor(u/l*o.size):u,n=o.size?u/l>1?Math.floor(l/u*o.size):o.size:l,O.x=e,O.y=n,v=!0,s=0,setTimeout(function(){t("canrecord",[])},0)},b,g,o.sequence)}function t(m,C){var M,P=R[m];if(P&&P.length>0)for(M=0;M<P.length;M++)P[M].apply(r,C)}var e,n,r={},o=null,u=0,l=0,s=0,h=!0,v=!1,_=null,g=0,b=1,y=null,E=!1,w=["canrecord","ended"],R={},I={x:0,y:0},O={x:0,y:0};return r.trigger=t,r.getWidth=function(){return e},r.getHeight=function(){return n},r.setWidth=function(m){e=m},r.setHeight=function(m){n=m},r.getRealWidth=function(){return u},r.getRealHeight=function(){return l},r.setInputStream=function(m){o=m,m.sequence===!1?(y=m.src,g=1):(y=m.src,g=m.length),a()},r.ended=function(){return E},r.setAttribute=function(){},r.getConfig=function(){return o},r.pause=function(){h=!0},r.play=function(){h=!1},r.setCurrentTime=function(m){s=m},r.addEventListener=function(m,C){w.indexOf(m)!==-1&&(R[m]||(R[m]=[]),R[m].push(C))},r.setTopRight=function(m){I.x=m.x,I.y=m.y},r.getTopRight=function(){return I},r.setCanvasSize=function(m){O.x=m.x,O.y=m.y},r.getCanvasSize=function(){return O},r.getFrame=function(){var m;return v?(h||(m=_[s],s<g-1?s++:setTimeout(function(){E=!0,t("ended",[])},0)),m):null},r},p.a=f},function(d,p,c){(function(i){function f(){var N;_=v.halfSample?new M.a({x:m.size.x/2|0,y:m.size.y/2|0}):m,O=c.i(P.e)(v.patchSize,_.size),J.x=_.size.x/O.x|0,J.y=_.size.y/O.y|0,I=new M.a(_.size,void 0,Uint8Array,!1),y=new M.a(O,void 0,Array,!0),N=new ArrayBuffer(65536),b=new M.a(O,new Uint8Array(N,0,O.x*O.y)),g=new M.a(O,new Uint8Array(N,O.x*O.y*3,O.x*O.y),void 0,!0),C=c.i(k.a)(typeof window<"u"?window:typeof self<"u"?self:i,{size:O.x},N),R=new M.a({x:_.size.x/b.size.x|0,y:_.size.y/b.size.y|0},void 0,Array,!0),E=new M.a(R.size,void 0,void 0,!0),w=new M.a(R.size,void 0,Int32Array,!0)}function a(){v.useWorker||typeof document>"u"||(ie.dom.binary=document.createElement("canvas"),ie.dom.binary.className="binaryBuffer",ie.ctx.binary=ie.dom.binary.getContext("2d"),ie.dom.binary.width=I.size.x,ie.dom.binary.height=I.size.y)}function t(N){var U,q,F,H,W,X,ee,K=I.size.x,ne=I.size.y,Q=-I.size.x,oe=-I.size.y;for(U=0,q=0;q<N.length;q++)H=N[q],U+=H.rad;for(U/=N.length,U=(180*U/Math.PI+90)%180-90,U<0&&(U+=180),U=(180-U)*Math.PI/180,W=$.copy($.create(),[Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U)]),q=0;q<N.length;q++)for(H=N[q],F=0;F<4;F++)L.transformMat2(H.box[F],H.box[F],W);for(q=0;q<N.length;q++)for(H=N[q],F=0;F<4;F++)H.box[F][0]<K&&(K=H.box[F][0]),H.box[F][0]>Q&&(Q=H.box[F][0]),H.box[F][1]<ne&&(ne=H.box[F][1]),H.box[F][1]>oe&&(oe=H.box[F][1]);for(X=[[K,ne],[Q,ne],[Q,oe],[K,oe]],ee=v.halfSample?2:1,W=$.invert(W,W),F=0;F<4;F++)L.transformMat2(X[F],X[F],W);for(F=0;F<4;F++)L.scale(X[F],X[F],ee);return X}function e(){c.i(P.f)(_,I),I.zeroBorder()}function n(){var N,U,q,F,H,W,X,ee=[];for(N=0;N<J.x;N++)for(U=0;U<J.y;U++)q=b.size.x*N,F=b.size.y*U,l(q,F),g.zeroBorder(),D.a.init(y.data,0),W=j.a.create(g,y),X=W.rasterize(0),H=y.moments(X.count),ee=ee.concat(s(H,[N,U],q,F));return ee}function r(N){var U,q,F=[];for(U=0;U<N;U++)F.push(0);for(q=w.data.length;q--;)w.data[q]>0&&F[w.data[q]-1]++;return F=F.map(function(H,W){return{val:H,label:W+1}}),F.sort(function(H,W){return W.val-H.val}),F.filter(function(H){return H.val>=5})}function o(N,U){var q,F,H,W,X=[],ee=[];for(q=0;q<N.length;q++){for(F=w.data.length,X.length=0;F--;)w.data[F]===N[q].label&&(H=R.data[F],X.push(H));W=t(X),W&&ee.push(W)}return ee}function u(N){var U=c.i(P.g)(N,.9),q=c.i(P.h)(U,1,function(X){return X.getPoints().length}),F=[],H=[];if(q.length===1){F=q[0].item.getPoints();for(var W=0;W<F.length;W++)H.push(F[W].point)}return H}function l(N,U){I.subImageAsCopy(b,c.i(P.b)(N,U)),C.skeletonize()}function s(N,U,q,F){var H,W,X,ee,K=[],ne=[],Q=Math.ceil(O.x/3);if(N.length>=2){for(H=0;H<N.length;H++)N[H].m00>Q&&K.push(N[H]);if(K.length>=2){for(X=u(K),W=0,H=0;H<X.length;H++)W+=X[H].rad;X.length>1&&X.length>=K.length/4*3&&X.length>N.length/4&&(W/=X.length,ee={index:U[1]*J.x+U[0],pos:{x:q,y:F},box:[L.clone([q,F]),L.clone([q+b.size.x,F]),L.clone([q+b.size.x,F+b.size.y]),L.clone([q,F+b.size.y])],moments:X,rad:W,vec:L.clone([Math.cos(W),Math.sin(W)])},ne.push(ee))}}return ne}function h(N){function U(){var K;for(K=0;K<w.data.length;K++)if(w.data[K]===0&&E.data[K]===1)return K;return w.length}function q(K){var ne,Q,oe,se,Z,T={x:K%w.size.x,y:K/w.size.x|0};if(K<w.data.length)for(oe=R.data[K],w.data[K]=W,Z=0;Z<B.a.searchDirections.length;Z++)Q=T.y+B.a.searchDirections[Z][0],ne=T.x+B.a.searchDirections[Z][1],se=Q*w.size.x+ne,E.data[se]!==0?w.data[se]===0&&Math.abs(L.dot(R.data[se].vec,oe.vec))>X&&q(se):w.data[se]=Number.MAX_VALUE}var F,H,W=0,X=.95,ee=0;for(D.a.init(E.data,0),D.a.init(w.data,0),D.a.init(R.data,null),F=0;F<N.length;F++)H=N[F],R.data[H.index]=H,E.data[H.index]=1;for(E.zeroBorder();(ee=U())<w.data.length;)W++,q(ee);return W}var v,_,g,b,y,E,w,R,I,O,m,C,M=c(20),P=c(19),D=c(3),j=(c(9),c(65)),B=c(30),k=c(66),L={clone:c(7),dot:c(32),scale:c(81),transformMat2:c(82)},$={copy:c(78),create:c(79),invert:c(80)},ie={ctx:{binary:null},dom:{binary:null}},J={x:0,y:0};p.a={init:function(N,U){v=U,m=N,f(),a()},locate:function(){var N,U;if(v.halfSample&&c.i(P.i)(m,_),e(),N=n(),N.length<J.x*J.y*.05)return null;var q=h(N);return q<1?null:(U=r(q),U.length===0?null:o(U))},checkImageConstraints:function(N,U){var q,F,H,W=N.getWidth(),X=N.getHeight(),ee=U.halfSample?.5:1;if(N.getConfig().area&&(H=c.i(P.j)(W,X,N.getConfig().area),N.setTopRight({x:H.sx,y:H.sy}),N.setCanvasSize({x:W,y:X}),W=H.sw,X=H.sh),F={x:Math.floor(W*ee),y:Math.floor(X*ee)},q=c.i(P.e)(U.patchSize,F),N.setWidth(Math.floor(Math.floor(F.x/q.x)*(1/ee)*q.x)),N.setHeight(Math.floor(Math.floor(F.y/q.y)*(1/ee)*q.y)),N.getWidth()%q.x==0&&N.getHeight()%q.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width ("+W+" )and height ("+X+") must a multiple of "+q.x)}}}).call(p,c(47))},function(d,p,c){var i=c(30),f={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(a,t){var e=a.data,n=t.data,r=a.size.x,o=a.size.y,u=i.a.create(a,t);return{rasterize:function(l){var s,h,v,_,g,b,y,E,w,R,I,O,m=[],C=0;for(O=0;O<400;O++)m[O]=0;for(m[0]=e[0],w=null,b=1;b<o-1;b++)for(_=0,h=m[0],g=1;g<r-1;g++)if(I=b*r+g,n[I]===0)if((s=e[I])!==h){if(_===0)v=C+1,m[v]=s,h=s,(y=u.contourTracing(b,g,v,s,f.DIR.OUTSIDE_EDGE))!==null&&(C++,_=v,E=f.createContour2D(),E.dir=f.CONTOUR_DIR.CW_DIR,E.index=_,E.firstVertex=y,E.nextpeer=w,E.insideContours=null,w!==null&&(w.prevpeer=E),w=E);else if((y=u.contourTracing(b,g,f.DIR.INSIDE_EDGE,s,_))!==null){for(E=f.createContour2D(),E.firstVertex=y,E.insideContours=null,E.dir=l===0?f.CONTOUR_DIR.CCW_DIR:f.CONTOUR_DIR.CW_DIR,E.index=l,R=w;R!==null&&R.index!==_;)R=R.nextpeer;R!==null&&(E.nextpeer=R.insideContours,R.insideContours!==null&&(R.insideContours.prevpeer=E),R.insideContours=E)}}else n[I]=_;else n[I]===f.DIR.OUTSIDE_EDGE||n[I]===f.DIR.INSIDE_EDGE?(_=0,h=n[I]===f.DIR.INSIDE_EDGE?e[I]:m[0]):(_=n[I],h=m[_]);for(R=w;R!==null;)R.index=l,R=R.nextpeer;return{cc:w,count:C}},debug:{drawContour:function(l,s){var h,v,_,g=l.getContext("2d"),b=s;for(g.strokeStyle="red",g.fillStyle="red",g.lineWidth=1,h=b!==null?b.insideContours:null;b!==null;){switch(h!==null?(v=h,h=h.nextpeer):(v=b,b=b.nextpeer,h=b!==null?b.insideContours:null),v.dir){case f.CONTOUR_DIR.CW_DIR:g.strokeStyle="red";break;case f.CONTOUR_DIR.CCW_DIR:g.strokeStyle="blue";break;case f.CONTOUR_DIR.UNKNOWN_DIR:g.strokeStyle="green"}_=v.firstVertex,g.beginPath(),g.moveTo(_.x,_.y);do _=_.next,g.lineTo(_.x,_.y);while(_!==v.firstVertex);g.stroke()}}}}}};p.a=f},function(d,p,c){function i(f,a,t){var e=new f.Uint8Array(t),n=a.size|0,r=f.Math.imul;function o(y,E){y=y|0,E=E|0;var w=0,R=0,I=0,O=0,m=0,C=0,M=0,P=0;for(w=1;(w|0)<(n-1|0);w=w+1|0)for(P=P+n|0,R=1;(R|0)<(n-1|0);R=R+1|0)O=P-n|0,m=P+n|0,C=R-1|0,M=R+1|0,I=(e[y+O+C|0]|0)+(e[y+O+M|0]|0)+(e[y+P+R|0]|0)+(e[y+m+C|0]|0)+(e[y+m+M|0]|0)|0,(I|0)==5?e[E+P+R|0]=1:e[E+P+R|0]=0}function u(y,E,w){y=y|0,E=E|0,w=w|0;var R=0;for(R=r(n,n)|0;(R|0)>0;)R=R-1|0,e[w+R|0]=(e[y+R|0]|0)-(e[E+R|0]|0)|0}function l(y,E,w){y=y|0,E=E|0,w=w|0;var R=0;for(R=r(n,n)|0;(R|0)>0;)R=R-1|0,e[w+R|0]=e[y+R|0]|0|(e[E+R|0]|0)|0}function s(y){y=y|0;var E=0,w=0;for(w=r(n,n)|0;(w|0)>0;)w=w-1|0,E=(E|0)+(e[y+w|0]|0)|0;return E|0}function h(y,E){y=y|0,E=E|0;var w=0;for(w=r(n,n)|0;(w|0)>0;)w=w-1|0,e[y+w|0]=E}function v(y,E){y=y|0,E=E|0;var w=0,R=0,I=0,O=0,m=0,C=0,M=0,P=0;for(w=1;(w|0)<(n-1|0);w=w+1|0)for(P=P+n|0,R=1;(R|0)<(n-1|0);R=R+1|0)O=P-n|0,m=P+n|0,C=R-1|0,M=R+1|0,I=(e[y+O+C|0]|0)+(e[y+O+M|0]|0)+(e[y+P+R|0]|0)+(e[y+m+C|0]|0)+(e[y+m+M|0]|0)|0,(I|0)>0?e[E+P+R|0]=1:e[E+P+R|0]=0}function _(y,E){y=y|0,E=E|0;var w=0;for(w=r(n,n)|0;(w|0)>0;)w=w-1|0,e[E+w|0]=e[y+w|0]|0}function g(y){y=y|0;var E=0,w=0;for(E=0;(E|0)<(n-1|0);E=E+1|0)e[y+E|0]=0,e[y+w|0]=0,w=w+n-1|0,e[y+w|0]=0,w=w+1|0;for(E=0;(E|0)<(n|0);E=E+1|0)e[y+w|0]=0,w=w+1|0}function b(){var y=0,E=0,w=0,R=0,I=0,O=0;E=r(n,n)|0,w=E+E|0,R=w+E|0,h(R,0),g(y);do o(y,E),v(E,w),u(y,w,w),l(R,w,R),_(E,y),I=s(y)|0,O=(I|0)==0|0;while(!O)}return{skeletonize:b}}p.a=i},function(d,p,c){function i(r){f.a.call(this,r),this.barSpaceRatio=[1,1]}var f=c(1),a=1,t=3,e={START_PATTERN:{value:[t,a,t,a,a,a]},STOP_PATTERN:{value:[t,a,a,a,t]},CODE_PATTERN:{value:[[a,a,t,t,a],[t,a,a,a,t],[a,t,a,a,t],[t,t,a,a,a],[a,a,t,a,t],[t,a,t,a,a],[a,t,t,a,a],[a,a,a,t,t],[t,a,a,t,a],[a,t,a,t,a]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.3,writable:!0},FORMAT:{value:"2of5"}},n=e.START_PATTERN.value.reduce(function(r,o){return r+o},0);i.prototype=Object.create(f.a.prototype,e),i.prototype.constructor=i,i.prototype._findPattern=function(r,o,u,l){var s,h,v,_,g=[],b=this,y=0,E={error:Number.MAX_VALUE,code:-1,start:0,end:0},w=b.AVG_CODE_ERROR;for(u=u||!1,l=l||!1,o||(o=b._nextSet(b._row)),s=0;s<r.length;s++)g[s]=0;for(s=o;s<b._row.length;s++)if(b._row[s]^u)g[y]++;else{if(y===g.length-1){for(_=0,v=0;v<g.length;v++)_+=g[v];if((h=b._matchPattern(g,r))<w)return E.error=h,E.start=s-_,E.end=s,E;if(!l)return null;for(v=0;v<g.length-2;v++)g[v]=g[v+2];g[g.length-2]=0,g[g.length-1]=0,y--}else y++;g[y]=1,u=!u}return null},i.prototype._findStart=function(){for(var r,o,u=this,l=u._nextSet(u._row),s=1;!o;){if(!(o=u._findPattern(u.START_PATTERN,l,!1,!0)))return null;if(s=Math.floor((o.end-o.start)/n),(r=o.start-5*s)>=0&&u._matchRange(r,o.start,0))return o;l=o.end,o=null}},i.prototype._verifyTrailingWhitespace=function(r){var o,u=this;return o=r.end+(r.end-r.start)/2,o<u._row.length&&u._matchRange(r.end,o,0)?r:null},i.prototype._findEnd=function(){var r,o,u,l=this;return l._row.reverse(),u=l._nextSet(l._row),r=l._findPattern(l.STOP_PATTERN,u,!1,!0),l._row.reverse(),r===null?null:(o=r.start,r.start=l._row.length-r.end,r.end=l._row.length-o,r!==null?l._verifyTrailingWhitespace(r):null)},i.prototype._decodeCode=function(r){var o,u,l,s=this,h=0,v=s.AVG_CODE_ERROR,_={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(o=0;o<r.length;o++)h+=r[o];for(l=0;l<s.CODE_PATTERN.length;l++)(u=s._matchPattern(r,s.CODE_PATTERN[l]))<_.error&&(_.code=l,_.error=u);if(_.error<v)return _},i.prototype._decodePayload=function(r,o,u){for(var l,s,h=this,v=0,_=r.length,g=[0,0,0,0,0];v<_;){for(l=0;l<5;l++)g[l]=r[v]*this.barSpaceRatio[0],v+=2;if(!(s=h._decodeCode(g)))return null;o.push(s.code+""),u.push(s)}return s},i.prototype._verifyCounterLength=function(r){return r.length%10==0},i.prototype._decode=function(){var r,o,u,l=this,s=[],h=[];return(r=l._findStart())?(h.push(r),(o=l._findEnd())?(u=l._fillCounters(r.end,o.start,!1),l._verifyCounterLength(u)&&l._decodePayload(u,s,h)?s.length<5?null:(h.push(o),{code:s.join(""),start:r.start,end:o.end,startInfo:r,decodedCodes:h}):null):null):null},p.a=i},function(d,p,c){function i(){f.a.call(this),this._counters=[]}var f=c(1),a={ALPHABETH_STRING:{value:"0123456789-$:/.+ABCD"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68]},CHARACTER_ENCODINGS:{value:[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14]},START_END:{value:[26,41,11,14]},MIN_ENCODED_CHARS:{value:4},MAX_ACCEPTABLE:{value:2},PADDING:{value:1.5},FORMAT:{value:"codabar",writeable:!1}};i.prototype=Object.create(f.a.prototype,a),i.prototype.constructor=i,i.prototype._decode=function(){var t,e,n,r,o,u=this,l=[];if(this._counters=u._fillCounters(),!(t=u._findStart()))return null;r=t.startCounter;do{if((n=u._toPattern(r))<0||(e=u._patternToChar(n))<0)return null;if(l.push(e),r+=8,l.length>1&&u._isStartEnd(n))break}while(r<u._counters.length);return l.length-2<u.MIN_ENCODED_CHARS||!u._isStartEnd(n)?null:u._verifyWhitespace(t.startCounter,r-8)&&u._validateResult(l,t.startCounter)?(r=r>u._counters.length?u._counters.length:r,o=t.start+u._sumCounters(t.startCounter,r-8),{code:l.join(""),start:t.start,end:o,startInfo:t,decodedCodes:l}):null},i.prototype._verifyWhitespace=function(t,e){return(t-1<=0||this._counters[t-1]>=this._calculatePatternLength(t)/2)&&(e+8>=this._counters.length||this._counters[e+7]>=this._calculatePatternLength(e)/2)},i.prototype._calculatePatternLength=function(t){var e,n=0;for(e=t;e<t+7;e++)n+=this._counters[e];return n},i.prototype._thresholdResultPattern=function(t,e){var n,r,o,u,l,s=this,h={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},v=e;for(o=0;o<t.length;o++){for(l=s._charToPattern(t[o]),u=6;u>=0;u--)n=(1&u)==2?h.bar:h.space,r=(1&l)==1?n.wide:n.narrow,r.size+=s._counters[v+u],r.counts++,l>>=1;v+=8}return["space","bar"].forEach(function(_){var g=h[_];g.wide.min=Math.floor((g.narrow.size/g.narrow.counts+g.wide.size/g.wide.counts)/2),g.narrow.max=Math.ceil(g.wide.min),g.wide.max=Math.ceil((g.wide.size*s.MAX_ACCEPTABLE+s.PADDING)/g.wide.counts)}),h},i.prototype._charToPattern=function(t){var e,n=this,r=t.charCodeAt(0);for(e=0;e<n.ALPHABET.length;e++)if(n.ALPHABET[e]===r)return n.CHARACTER_ENCODINGS[e];return 0},i.prototype._validateResult=function(t,e){var n,r,o,u,l,s,h=this,v=h._thresholdResultPattern(t,e),_=e;for(n=0;n<t.length;n++){for(s=h._charToPattern(t[n]),r=6;r>=0;r--){if(o=(1&r)==0?v.bar:v.space,u=(1&s)==1?o.wide:o.narrow,(l=h._counters[_+r])<u.min||l>u.max)return!1;s>>=1}_+=8}return!0},i.prototype._patternToChar=function(t){var e,n=this;for(e=0;e<n.CHARACTER_ENCODINGS.length;e++)if(n.CHARACTER_ENCODINGS[e]===t)return String.fromCharCode(n.ALPHABET[e]);return-1},i.prototype._computeAlternatingThreshold=function(t,e){var n,r,o=Number.MAX_VALUE,u=0;for(n=t;n<e;n+=2)r=this._counters[n],r>u&&(u=r),r<o&&(o=r);return(o+u)/2|0},i.prototype._toPattern=function(t){var e,n,r,o,u=7,l=t+u,s=1<<u-1,h=0;if(l>this._counters.length)return-1;for(e=this._computeAlternatingThreshold(t,l),n=this._computeAlternatingThreshold(t+1,l),r=0;r<u;r++)o=(1&r)==0?e:n,this._counters[t+r]>o&&(h|=s),s>>=1;return h},i.prototype._isStartEnd=function(t){var e;for(e=0;e<this.START_END.length;e++)if(this.START_END[e]===t)return!0;return!1},i.prototype._sumCounters=function(t,e){var n,r=0;for(n=t;n<e;n++)r+=this._counters[n];return r},i.prototype._findStart=function(){var t,e,n,r=this,o=r._nextUnset(r._row);for(t=1;t<this._counters.length;t++)if((e=r._toPattern(t))!==-1&&r._isStartEnd(e))return o+=r._sumCounters(0,t),n=o+r._sumCounters(t,t+8),{start:o,end:n,startCounter:t,endCounter:t+8}},p.a=i},function(d,p,c){function i(){a.a.call(this)}function f(e,n,r){for(var o=r.length,u=0,l=0;o--;)l+=e[r[o]],u+=n[r[o]];return l/u}var a=c(1),t={CODE_SHIFT:{value:98},CODE_C:{value:99},CODE_B:{value:100},CODE_A:{value:101},START_CODE_A:{value:103},START_CODE_B:{value:104},START_CODE_C:{value:105},STOP_CODE:{value:106},CODE_PATTERN:{value:[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]},SINGLE_CODE_ERROR:{value:.64},AVG_CODE_ERROR:{value:.3},FORMAT:{value:"code_128",writeable:!1},MODULE_INDICES:{value:{bar:[0,2,4],space:[1,3,5]}}};i.prototype=Object.create(a.a.prototype,t),i.prototype.constructor=i,i.prototype._decodeCode=function(e,n){var r,o,u,l=[0,0,0,0,0,0],s=this,h=e,v=!s._row[h],_=0,g={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}};for(r=h;r<s._row.length;r++)if(s._row[r]^v)l[_]++;else{if(_===l.length-1){for(n&&s._correct(l,n),o=0;o<s.CODE_PATTERN.length;o++)(u=s._matchPattern(l,s.CODE_PATTERN[o]))<g.error&&(g.code=o,g.error=u);return g.end=r,g.code===-1||g.error>s.AVG_CODE_ERROR?null:(s.CODE_PATTERN[g.code]&&(g.correction.bar=f(s.CODE_PATTERN[g.code],l,this.MODULE_INDICES.bar),g.correction.space=f(s.CODE_PATTERN[g.code],l,this.MODULE_INDICES.space)),g)}_++,l[_]=1,v=!v}return null},i.prototype._correct=function(e,n){this._correctBars(e,n.bar,this.MODULE_INDICES.bar),this._correctBars(e,n.space,this.MODULE_INDICES.space)},i.prototype._findStart=function(){var e,n,r,o,u,l=[0,0,0,0,0,0],s=this,h=s._nextSet(s._row),v=!1,_=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}};for(e=h;e<s._row.length;e++)if(s._row[e]^v)l[_]++;else{if(_===l.length-1){for(u=0,o=0;o<l.length;o++)u+=l[o];for(n=s.START_CODE_A;n<=s.START_CODE_C;n++)(r=s._matchPattern(l,s.CODE_PATTERN[n]))<g.error&&(g.code=n,g.error=r);if(g.error<s.AVG_CODE_ERROR)return g.start=e-u,g.end=e,g.correction.bar=f(s.CODE_PATTERN[g.code],l,this.MODULE_INDICES.bar),g.correction.space=f(s.CODE_PATTERN[g.code],l,this.MODULE_INDICES.space),g;for(o=0;o<4;o++)l[o]=l[o+2];l[4]=0,l[5]=0,_--}else _++;l[_]=1,v=!v}return null},i.prototype._decode=function(){var e,n,r=this,o=r._findStart(),u=null,l=!1,s=[],h=0,v=0,_=[],g=[],b=!1,y=!0;if(o===null)return null;switch(u={code:o.code,start:o.start,end:o.end,correction:{bar:o.correction.bar,space:o.correction.space}},g.push(u),v=u.code,u.code){case r.START_CODE_A:e=r.CODE_A;break;case r.START_CODE_B:e=r.CODE_B;break;case r.START_CODE_C:e=r.CODE_C;break;default:return null}for(;!l;){if(n=b,b=!1,(u=r._decodeCode(u.end,u.correction))!==null)switch(u.code!==r.STOP_CODE&&(y=!0),u.code!==r.STOP_CODE&&(_.push(u.code),h++,v+=h*u.code),g.push(u),e){case r.CODE_A:if(u.code<64)s.push(String.fromCharCode(32+u.code));else if(u.code<96)s.push(String.fromCharCode(u.code-64));else switch(u.code!==r.STOP_CODE&&(y=!1),u.code){case r.CODE_SHIFT:b=!0,e=r.CODE_B;break;case r.CODE_B:e=r.CODE_B;break;case r.CODE_C:e=r.CODE_C;break;case r.STOP_CODE:l=!0}break;case r.CODE_B:if(u.code<96)s.push(String.fromCharCode(32+u.code));else switch(u.code!==r.STOP_CODE&&(y=!1),u.code){case r.CODE_SHIFT:b=!0,e=r.CODE_A;break;case r.CODE_A:e=r.CODE_A;break;case r.CODE_C:e=r.CODE_C;break;case r.STOP_CODE:l=!0}break;case r.CODE_C:if(u.code<100)s.push(u.code<10?"0"+u.code:u.code);else switch(u.code!==r.STOP_CODE&&(y=!1),u.code){case r.CODE_A:e=r.CODE_A;break;case r.CODE_B:e=r.CODE_B;break;case r.STOP_CODE:l=!0}}else l=!0;n&&(e=e===r.CODE_A?r.CODE_B:r.CODE_A)}return u===null?null:(u.end=r._nextUnset(r._row,u.end),r._verifyTrailingWhitespace(u)?(v-=h*_[_.length-1])%103!==_[_.length-1]?null:s.length?(y&&s.splice(s.length-1,1),{code:s.join(""),start:o.start,end:u.end,codeset:e,startInfo:o,decodedCodes:g,endInfo:u}):null:null)},a.a.prototype._verifyTrailingWhitespace=function(e){var n,r=this;return n=e.end+(e.end-e.start)/2,n<r._row.length&&r._matchRange(e.end,n,0)?e:null},p.a=i},function(d,p,c){function i(){f.a.call(this)}var f=c(31),a={IOQ:/[IOQ]/g,AZ09:/[A-Z0-9]{17}/};i.prototype=Object.create(f.a.prototype),i.prototype.constructor=i,i.prototype._decode=function(){var t=f.a.prototype._decode.apply(this);if(!t)return null;var e=t.code;return e?(e=e.replace(a.IOQ,""),e.match(a.AZ09)&&this._checkChecksum(e)?(t.code=e,t):null):null},i.prototype._checkChecksum=function(t){return!!t},p.a=i},function(d,p,c){function i(){f.a.call(this)}var f=c(1),a=c(3),t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e={ALPHABETH_STRING:{value:t},ALPHABET:{value:t.split("").map(function(n){return n.charCodeAt(0)})},CHARACTER_ENCODINGS:{value:[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]},ASTERISK:{value:350},FORMAT:{value:"code_93",writeable:!1}};i.prototype=Object.create(f.a.prototype,e),i.prototype.constructor=i,i.prototype._decode=function(){var n,r,o,u,l=this,s=[0,0,0,0,0,0],h=[],v=l._findStart();if(!v)return null;u=l._nextSet(l._row,v.end);do{if(s=l._toCounters(u,s),(o=l._toPattern(s))<0||(n=l._patternToChar(o))<0)return null;h.push(n),r=u,u+=a.a.sum(s),u=l._nextSet(l._row,u)}while(n!=="*");return h.pop(),h.length&&l._verifyEnd(r,u,s)&&l._verifyChecksums(h)?(h=h.slice(0,h.length-2),(h=l._decodeExtended(h))===null?null:{code:h.join(""),start:v.start,end:u,startInfo:v,decodedCodes:h}):null},i.prototype._verifyEnd=function(n,r){return!(n===r||!this._row[r])},i.prototype._patternToChar=function(n){var r,o=this;for(r=0;r<o.CHARACTER_ENCODINGS.length;r++)if(o.CHARACTER_ENCODINGS[r]===n)return String.fromCharCode(o.ALPHABET[r]);return-1},i.prototype._toPattern=function(n){for(var r=n.length,o=0,u=0,l=0;l<r;l++)u+=n[l];for(var s=0;s<r;s++){var h=Math.round(9*n[s]/u);if(h<1||h>4)return-1;if((1&s)==0)for(var v=0;v<h;v++)o=o<<1|1;else o<<=h}return o},i.prototype._findStart=function(){var n,r,o,u=this,l=u._nextSet(u._row),s=l,h=[0,0,0,0,0,0],v=0,_=!1;for(n=l;n<u._row.length;n++)if(u._row[n]^_)h[v]++;else{if(v===h.length-1){if(u._toPattern(h)===u.ASTERISK&&(o=Math.floor(Math.max(0,s-(n-s)/4)),u._matchRange(o,s,0)))return{start:s,end:n};for(s+=h[0]+h[1],r=0;r<4;r++)h[r]=h[r+2];h[4]=0,h[5]=0,v--}else v++;h[v]=1,_=!_}return null},i.prototype._decodeExtended=function(n){for(var r=n.length,o=[],u=0;u<r;u++){var l=n[u];if(l>="a"&&l<="d"){if(u>r-2)return null;var s=n[++u],h=s.charCodeAt(0),v=void 0;switch(l){case"a":if(!(s>="A"&&s<="Z"))return null;v=String.fromCharCode(h-64);break;case"b":if(s>="A"&&s<="E")v=String.fromCharCode(h-38);else if(s>="F"&&s<="J")v=String.fromCharCode(h-11);else if(s>="K"&&s<="O")v=String.fromCharCode(h+16);else if(s>="P"&&s<="S")v=String.fromCharCode(h+43);else{if(!(s>="T"&&s<="Z"))return null;v=""}break;case"c":if(s>="A"&&s<="O")v=String.fromCharCode(h-32);else{if(s!=="Z")return null;v=":"}break;case"d":if(!(s>="A"&&s<="Z"))return null;v=String.fromCharCode(h+32)}o.push(v)}else o.push(l)}return o},i.prototype._verifyChecksums=function(n){return this._matchCheckChar(n,n.length-2,20)&&this._matchCheckChar(n,n.length-1,15)},i.prototype._matchCheckChar=function(n,r,o){var u=this,l=n.slice(0,r),s=l.length,h=l.reduce(function(v,_,g){return v+((g*-1+(s-1))%o+1)*u.ALPHABET.indexOf(_.charCodeAt(0))},0);return this.ALPHABET[h%47]===n[r].charCodeAt(0)},p.a=i},function(d,p,c){function i(){f.a.call(this)}var f=c(4),a={FORMAT:{value:"ean_2",writeable:!1}};i.prototype=Object.create(f.a.prototype,a),i.prototype.constructor=i,i.prototype.decode=function(t,e){this._row=t;var n,r=0,o=0,u=e,l=this._row.length,s=[],h=[];for(o=0;o<2&&u<l;o++){if(!(n=this._decodeCode(u)))return null;h.push(n),s.push(n.code%10),n.code>=this.CODE_G_START&&(r|=1<<1-o),o!=1&&(u=this._nextSet(this._row,n.end),u=this._nextUnset(this._row,u))}return s.length!=2||parseInt(s.join(""))%4!==r?null:{code:s.join(""),decodedCodes:h,end:n.end}},p.a=i},function(d,p,c){function i(){t.a.call(this)}function f(r){var o;for(o=0;o<10;o++)if(r===n[o])return o;return null}function a(r){var o,u=r.length,l=0;for(o=u-2;o>=0;o-=2)l+=r[o];for(l*=3,o=u-1;o>=0;o-=2)l+=r[o];return(l*=3)%10}var t=c(4),e={FORMAT:{value:"ean_5",writeable:!1}},n=[24,20,18,17,12,6,3,10,9,5];i.prototype=Object.create(t.a.prototype,e),i.prototype.constructor=i,i.prototype.decode=function(r,o){this._row=r;var u,l=0,s=0,h=o,v=this._row.length,_=[],g=[];for(s=0;s<5&&h<v;s++){if(!(u=this._decodeCode(h)))return null;g.push(u),_.push(u.code%10),u.code>=this.CODE_G_START&&(l|=1<<4-s),s!=4&&(h=this._nextSet(this._row,u.end),h=this._nextUnset(this._row,h))}return _.length!=5||a(_)!==f(l)?null:{code:_.join(""),decodedCodes:g,end:u.end}},p.a=i},function(d,p,c){function i(t,e){f.a.call(this,t,e)}var f=c(4),a={FORMAT:{value:"ean_8",writeable:!1}};i.prototype=Object.create(f.a.prototype,a),i.prototype.constructor=i,i.prototype._decodePayload=function(t,e,n){var r,o=this;for(r=0;r<4;r++){if(!(t=o._decodeCode(t.end,o.CODE_G_START)))return null;e.push(t.code),n.push(t)}if((t=o._findPattern(o.MIDDLE_PATTERN,t.end,!0,!1))===null)return null;for(n.push(t),r=0;r<4;r++){if(!(t=o._decodeCode(t.end,o.CODE_G_START)))return null;n.push(t),e.push(t.code)}return t},p.a=i},function(d,p,c){function i(u){u=t()(f(),u),e.a.call(this,u),this.barSpaceRatio=[1,1],u.normalizeBarSpaceWidth&&(this.SINGLE_CODE_ERROR=.38,this.AVG_CODE_ERROR=.09)}function f(){var u={};return Object.keys(i.CONFIG_KEYS).forEach(function(l){u[l]=i.CONFIG_KEYS[l].default}),u}var a=c(28),t=c.n(a),e=c(1),n=1,r=3,o={START_PATTERN:{value:[n,n,n,n]},STOP_PATTERN:{value:[n,n,r]},CODE_PATTERN:{value:[[n,n,r,r,n],[r,n,n,n,r],[n,r,n,n,r],[r,r,n,n,n],[n,n,r,n,r],[r,n,r,n,n],[n,r,r,n,n],[n,n,n,r,r],[r,n,n,r,n],[n,r,n,r,n]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.38,writable:!0},MAX_CORRECTION_FACTOR:{value:5},FORMAT:{value:"i2of5"}};i.prototype=Object.create(e.a.prototype,o),i.prototype.constructor=i,i.prototype._matchPattern=function(u,l){if(this.config.normalizeBarSpaceWidth){var s,h=[0,0],v=[0,0],_=[0,0],g=this.MAX_CORRECTION_FACTOR,b=1/g;for(s=0;s<u.length;s++)h[s%2]+=u[s],v[s%2]+=l[s];for(_[0]=v[0]/h[0],_[1]=v[1]/h[1],_[0]=Math.max(Math.min(_[0],g),b),_[1]=Math.max(Math.min(_[1],g),b),this.barSpaceRatio=_,s=0;s<u.length;s++)u[s]*=this.barSpaceRatio[s%2]}return e.a.prototype._matchPattern.call(this,u,l)},i.prototype._findPattern=function(u,l,s,h){var v,_,g,b,y=[],E=this,w=0,R={error:Number.MAX_VALUE,code:-1,start:0,end:0},I=E.AVG_CODE_ERROR;for(s=s||!1,h=h||!1,l||(l=E._nextSet(E._row)),v=0;v<u.length;v++)y[v]=0;for(v=l;v<E._row.length;v++)if(E._row[v]^s)y[w]++;else{if(w===y.length-1){for(b=0,g=0;g<y.length;g++)b+=y[g];if((_=E._matchPattern(y,u))<I)return R.error=_,R.start=v-b,R.end=v,R;if(!h)return null;for(g=0;g<y.length-2;g++)y[g]=y[g+2];y[y.length-2]=0,y[y.length-1]=0,w--}else w++;y[w]=1,s=!s}return null},i.prototype._findStart=function(){for(var u,l,s=this,h=s._nextSet(s._row),v=1;!l;){if(!(l=s._findPattern(s.START_PATTERN,h,!1,!0)))return null;if(v=Math.floor((l.end-l.start)/4),(u=l.start-10*v)>=0&&s._matchRange(u,l.start,0))return l;h=l.end,l=null}},i.prototype._verifyTrailingWhitespace=function(u){var l,s=this;return l=u.end+(u.end-u.start)/2,l<s._row.length&&s._matchRange(u.end,l,0)?u:null},i.prototype._findEnd=function(){var u,l,s=this;return s._row.reverse(),u=s._findPattern(s.STOP_PATTERN),s._row.reverse(),u===null?null:(l=u.start,u.start=s._row.length-u.end,u.end=s._row.length-l,u!==null?s._verifyTrailingWhitespace(u):null)},i.prototype._decodePair=function(u){var l,s,h=[],v=this;for(l=0;l<u.length;l++){if(!(s=v._decodeCode(u[l])))return null;h.push(s)}return h},i.prototype._decodeCode=function(u){var l,s,h,v=this,_=0,g=v.AVG_CODE_ERROR,b={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(l=0;l<u.length;l++)_+=u[l];for(h=0;h<v.CODE_PATTERN.length;h++)(s=v._matchPattern(u,v.CODE_PATTERN[h]))<b.error&&(b.code=h,b.error=s);if(b.error<g)return b},i.prototype._decodePayload=function(u,l,s){for(var h,v,_=this,g=0,b=u.length,y=[[0,0,0,0,0],[0,0,0,0,0]];g<b;){for(h=0;h<5;h++)y[0][h]=u[g]*this.barSpaceRatio[0],y[1][h]=u[g+1]*this.barSpaceRatio[1],g+=2;if(!(v=_._decodePair(y)))return null;for(h=0;h<v.length;h++)l.push(v[h].code+""),s.push(v[h])}return v},i.prototype._verifyCounterLength=function(u){return u.length%10==0},i.prototype._decode=function(){var u,l,s,h=this,v=[],_=[];return(u=h._findStart())?(_.push(u),(l=h._findEnd())?(s=h._fillCounters(u.end,l.start,!1),h._verifyCounterLength(s)&&h._decodePayload(s,v,_)?v.length%2!=0||v.length<6?null:(_.push(l),{code:v.join(""),start:u.start,end:l.end,startInfo:u,decodedCodes:_}):null):null):null},i.CONFIG_KEYS={normalizeBarSpaceWidth:{type:"boolean",default:!1,description:"If true, the reader tries to normalize thewidth-difference between bars and spaces"}},p.a=i},function(d,p,c){function i(t,e){f.a.call(this,t,e)}var f=c(4),a={CODE_FREQUENCY:{value:[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]},STOP_PATTERN:{value:[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]},FORMAT:{value:"upc_e",writeable:!1}};i.prototype=Object.create(f.a.prototype,a),i.prototype.constructor=i,i.prototype._decodePayload=function(t,e,n){var r,o=this,u=0;for(r=0;r<6;r++){if(!(t=o._decodeCode(t.end)))return null;t.code>=o.CODE_G_START&&(t.code=t.code-o.CODE_G_START,u|=1<<5-r),e.push(t.code),n.push(t)}return o._determineParity(u,e)?t:null},i.prototype._determineParity=function(t,e){var n,r;for(r=0;r<this.CODE_FREQUENCY.length;r++)for(n=0;n<this.CODE_FREQUENCY[r].length;n++)if(t===this.CODE_FREQUENCY[r][n])return e.unshift(r),e.push(n),!0;return!1},i.prototype._convertToUPCA=function(t){var e=[t[0]],n=t[t.length-2];return e=n<=2?e.concat(t.slice(1,3)).concat([n,0,0,0,0]).concat(t.slice(3,6)):n===3?e.concat(t.slice(1,4)).concat([0,0,0,0,0]).concat(t.slice(4,6)):n===4?e.concat(t.slice(1,5)).concat([0,0,0,0,0,t[5]]):e.concat(t.slice(1,6)).concat([0,0,0,0,n]),e.push(t[t.length-1]),e},i.prototype._checksum=function(t){return f.a.prototype._checksum.call(this,this._convertToUPCA(t))},i.prototype._findEnd=function(t,e){return e=!0,f.a.prototype._findEnd.call(this,t,e)},i.prototype._verifyTrailingWhitespace=function(t){var e,n=this;if((e=t.end+(t.end-t.start)/2)<n._row.length&&n._matchRange(t.end,e,0))return t},p.a=i},function(d,p,c){function i(t,e){f.a.call(this,t,e)}var f=c(4),a={FORMAT:{value:"upc_a",writeable:!1}};i.prototype=Object.create(f.a.prototype,a),i.prototype.constructor=i,i.prototype._decode=function(){var t=f.a.prototype._decode.call(this);return t&&t.code&&t.code.length===13&&t.code.charAt(0)==="0"?(t.code=t.code.substring(1),t):null},p.a=i},function(d,p){function c(i,f){return i[0]=f[0],i[1]=f[1],i[2]=f[2],i[3]=f[3],i}d.exports=c},function(d,p){function c(){var i=new Float32Array(4);return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i}d.exports=c},function(d,p){function c(i,f){var a=f[0],t=f[1],e=f[2],n=f[3],r=a*n-e*t;return r?(r=1/r,i[0]=n*r,i[1]=-t*r,i[2]=-e*r,i[3]=a*r,i):null}d.exports=c},function(d,p){function c(i,f,a){return i[0]=f[0]*a,i[1]=f[1]*a,i}d.exports=c},function(d,p){function c(i,f,a){var t=f[0],e=f[1];return i[0]=a[0]*t+a[2]*e,i[1]=a[1]*t+a[3]*e,i}d.exports=c},function(d,p){function c(i){var f=new Float32Array(3);return f[0]=i[0],f[1]=i[1],f[2]=i[2],f}d.exports=c},function(d,p,c){function i(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var l=r[o];this.set(l[0],l[1])}}var f=c(122),a=c(123),t=c(124),e=c(125),n=c(126);i.prototype.clear=f,i.prototype.delete=a,i.prototype.get=t,i.prototype.has=e,i.prototype.set=n,d.exports=i},function(d,p,c){function i(o){var u=this.__data__=new f(o);this.size=u.size}var f=c(10),a=c(149),t=c(150),e=c(151),n=c(152),r=c(153);i.prototype.clear=a,i.prototype.delete=t,i.prototype.get=e,i.prototype.has=n,i.prototype.set=r,d.exports=i},function(d,p,c){var i=c(5),f=i.Uint8Array;d.exports=f},function(d,p){function c(i,f,a){switch(a.length){case 0:return i.call(f);case 1:return i.call(f,a[0]);case 2:return i.call(f,a[0],a[1]);case 3:return i.call(f,a[0],a[1],a[2])}return i.apply(f,a)}d.exports=c},function(d,p,c){function i(l,s){var h=t(l),v=!h&&a(l),_=!h&&!v&&e(l),g=!h&&!v&&!_&&r(l),b=h||v||_||g,y=b?f(l.length,String):[],E=y.length;for(var w in l)!s&&!u.call(l,w)||b&&(w=="length"||_&&(w=="offset"||w=="parent")||g&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||n(w,E))||y.push(w);return y}var f=c(107),a=c(18),t=c(2),e=c(44),n=c(15),r=c(45),o=Object.prototype,u=o.hasOwnProperty;d.exports=i},function(d,p){function c(i,f){for(var a=-1,t=i==null?0:i.length,e=Array(t);++a<t;)e[a]=f(i[a],a,i);return e}d.exports=c},function(d,p){function c(i,f){for(var a=-1,t=f.length,e=i.length;++a<t;)i[e+a]=f[a];return i}d.exports=c},function(d,p,c){var i=c(0),f=Object.create,a=function(){function t(){}return function(e){if(!i(e))return{};if(f)return f(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();d.exports=a},function(d,p,c){function i(t,e,n,r,o){var u=-1,l=t.length;for(n||(n=a),o||(o=[]);++u<l;){var s=t[u];e>0&&n(s)?e>1?i(s,e-1,n,r,o):f(o,s):r||(o[o.length]=s)}return o}var f=c(90),a=c(128);d.exports=i},function(d,p,c){var i=c(117),f=i();d.exports=f},function(d,p,c){function i(t,e){e=f(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}var f=c(13),a=c(23);d.exports=i},function(d,p){function c(i,f){return i!=null&&f in Object(i)}d.exports=c},function(d,p,c){function i(e){return a(e)&&f(e)==t}var f=c(8),a=c(6),t="[object Arguments]";d.exports=i},function(d,p,c){function i(v){return!(!t(v)||a(v))&&(f(v)?h:r).test(e(v))}var f=c(25),a=c(132),t=c(0),e=c(155),n=/[\\^$.*+?()[\]{}|]/g,r=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,l=o.toString,s=u.hasOwnProperty,h=RegExp("^"+l.call(s).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");d.exports=i},function(d,p,c){function i(n){return t(n)&&a(n.length)&&!!e[f(n)]}var f=c(8),a=c(26),t=c(6),e={};e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0,e["[object Arguments]"]=e["[object Array]"]=e["[object ArrayBuffer]"]=e["[object Boolean]"]=e["[object DataView]"]=e["[object Date]"]=e["[object Error]"]=e["[object Function]"]=e["[object Map]"]=e["[object Number]"]=e["[object Object]"]=e["[object RegExp]"]=e["[object Set]"]=e["[object String]"]=e["[object WeakMap]"]=!1,d.exports=i},function(d,p,c){function i(r){if(!f(r))return t(r);var o=a(r),u=[];for(var l in r)(l!="constructor"||!o&&n.call(r,l))&&u.push(l);return u}var f=c(0),a=c(40),t=c(144),e=Object.prototype,n=e.hasOwnProperty;d.exports=i},function(d,p,c){function i(o,u,l,s,h){o!==u&&t(u,function(v,_){if(n(v))h||(h=new f),e(o,u,_,l,i,s,h);else{var g=s?s(o[_],v,_+"",o,u,h):void 0;g===void 0&&(g=v),a(o,_,g)}},r)}var f=c(85),a=c(35),t=c(93),e=c(101),n=c(0),r=c(46);d.exports=i},function(d,p,c){function i(b,y,E,w,R,I,O){var m=b[E],C=y[E],M=O.get(C);if(M)return void f(b,E,M);var P=I?I(m,C,E+"",b,y,O):void 0,D=P===void 0;if(D){var j=o(C),B=!j&&l(C),k=!j&&!B&&_(C);P=C,j||B||k?o(m)?P=m:u(m)?P=e(m):B?(D=!1,P=a(C,!0)):k?(D=!1,P=t(C,!0)):P=[]:v(C)||r(C)?(P=m,r(m)?P=g(m):(!h(m)||w&&s(m))&&(P=n(C))):D=!1}D&&(O.set(C,P),R(P,C,w,I,O),O.delete(C)),f(b,E,P)}var f=c(35),a=c(111),t=c(112),e=c(113),n=c(127),r=c(18),o=c(2),u=c(159),l=c(44),s=c(25),h=c(0),v=c(160),_=c(45),g=c(164);d.exports=i},function(d,p,c){function i(t,e){return f(t,e,function(n,r){return a(t,r)})}var f=c(103),a=c(158);d.exports=i},function(d,p,c){function i(e,n,r){for(var o=-1,u=n.length,l={};++o<u;){var s=n[o],h=f(e,s);r(h,s)&&a(l,t(s,e),h)}return l}var f=c(94),a=c(105),t=c(13);d.exports=i},function(d,p,c){function i(e,n){return t(a(e,n,f),e+"")}var f=c(43),a=c(41),t=c(42);d.exports=i},function(d,p,c){function i(r,o,u,l){if(!e(r))return r;o=a(o,r);for(var s=-1,h=o.length,v=h-1,_=r;_!=null&&++s<h;){var g=n(o[s]),b=u;if(s!=v){var y=_[g];b=l?l(y,g,_):void 0,b===void 0&&(b=e(y)?y:t(o[s+1])?[]:{})}f(_,g,b),_=_[g]}return r}var f=c(36),a=c(13),t=c(15),e=c(0),n=c(23);d.exports=i},function(d,p,c){var i=c(156),f=c(37),a=c(43),t=f?function(e,n){return f(e,"toString",{configurable:!0,enumerable:!1,value:i(n),writable:!0})}:a;d.exports=t},function(d,p){function c(i,f){for(var a=-1,t=Array(i);++a<i;)t[a]=f(a);return t}d.exports=c},function(d,p,c){function i(o){if(typeof o=="string")return o;if(t(o))return a(o,i)+"";if(e(o))return r?r.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}var f=c(11),a=c(89),t=c(2),e=c(27),n=f?f.prototype:void 0,r=n?n.toString:void 0;d.exports=i},function(d,p){function c(i){return function(f){return i(f)}}d.exports=c},function(d,p,c){function i(a){var t=new a.constructor(a.byteLength);return new f(t).set(new f(a)),t}var f=c(86);d.exports=i},function(d,p,c){(function(i){function f(u,l){if(l)return u.slice();var s=u.length,h=o?o(s):new u.constructor(s);return u.copy(h),h}var a=c(5),t=typeof p=="object"&&p&&!p.nodeType&&p,e=t&&typeof i=="object"&&i&&!i.nodeType&&i,n=e&&e.exports===t,r=n?a.Buffer:void 0,o=r?r.allocUnsafe:void 0;i.exports=f}).call(p,c(29)(d))},function(d,p,c){function i(a,t){var e=t?f(a.buffer):a.buffer;return new a.constructor(e,a.byteOffset,a.length)}var f=c(110);d.exports=i},function(d,p){function c(i,f){var a=-1,t=i.length;for(f||(f=Array(t));++a<t;)f[a]=i[a];return f}d.exports=c},function(d,p,c){function i(t,e,n,r){var o=!n;n||(n={});for(var u=-1,l=e.length;++u<l;){var s=e[u],h=r?r(n[s],t[s],s,n,t):void 0;h===void 0&&(h=t[s]),o?a(n,s,h):f(n,s,h)}return n}var f=c(36),a=c(21);d.exports=i},function(d,p,c){var i=c(5),f=i["__core-js_shared__"];d.exports=f},function(d,p,c){function i(t){return f(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;for(u=t.length>3&&typeof u=="function"?(o--,u):void 0,l&&a(n[0],n[1],l)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,u)}return e})}var f=c(104),a=c(129);d.exports=i},function(d,p){function c(i){return function(f,a,t){for(var e=-1,n=Object(f),r=t(f),o=r.length;o--;){var u=r[i?o:++e];if(a(n[u],u,n)===!1)break}return f}}d.exports=c},function(d,p,c){function i(e){return t(a(e,void 0,f),e+"")}var f=c(157),a=c(41),t=c(42);d.exports=i},function(d,p,c){function i(r){var o=t.call(r,n),u=r[n];try{r[n]=void 0;var l=!0}catch{}var s=e.call(r);return l&&(o?r[n]=u:delete r[n]),s}var f=c(11),a=Object.prototype,t=a.hasOwnProperty,e=a.toString,n=f?f.toStringTag:void 0;d.exports=i},function(d,p){function c(i,f){return i?.[f]}d.exports=c},function(d,p,c){function i(o,u,l){u=f(u,o);for(var s=-1,h=u.length,v=!1;++s<h;){var _=r(u[s]);if(!(v=o!=null&&l(o,_)))break;o=o[_]}return v||++s!=h?v:!!(h=o==null?0:o.length)&&n(h)&&e(_,h)&&(t(o)||a(o))}var f=c(13),a=c(18),t=c(2),e=c(15),n=c(26),r=c(23);d.exports=i},function(d,p,c){function i(){this.__data__=f?f(null):{},this.size=0}var f=c(16);d.exports=i},function(d,p){function c(i){var f=this.has(i)&&delete this.__data__[i];return this.size-=f?1:0,f}d.exports=c},function(d,p,c){function i(n){var r=this.__data__;if(f){var o=r[n];return o===a?void 0:o}return e.call(r,n)?r[n]:void 0}var f=c(16),a="__lodash_hash_undefined__",t=Object.prototype,e=t.hasOwnProperty;d.exports=i},function(d,p,c){function i(e){var n=this.__data__;return f?n[e]!==void 0:t.call(n,e)}var f=c(16),a=Object.prototype,t=a.hasOwnProperty;d.exports=i},function(d,p,c){function i(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=f&&e===void 0?a:e,this}var f=c(16),a="__lodash_hash_undefined__";d.exports=i},function(d,p,c){function i(e){return typeof e.constructor!="function"||t(e)?{}:f(a(e))}var f=c(91),a=c(39),t=c(40);d.exports=i},function(d,p,c){function i(n){return t(n)||a(n)||!!(e&&n&&n[e])}var f=c(11),a=c(18),t=c(2),e=f?f.isConcatSpreadable:void 0;d.exports=i},function(d,p,c){function i(n,r,o){if(!e(o))return!1;var u=typeof r;return!!(u=="number"?a(o)&&t(r,o.length):u=="string"&&r in o)&&f(o[r],n)}var f=c(17),a=c(24),t=c(15),e=c(0);d.exports=i},function(d,p,c){function i(n,r){if(f(n))return!1;var o=typeof n;return!(o!="number"&&o!="symbol"&&o!="boolean"&&n!=null&&!a(n))||e.test(n)||!t.test(n)||r!=null&&n in Object(r)}var f=c(2),a=c(27),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;d.exports=i},function(d,p){function c(i){var f=typeof i;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?i!=="__proto__":i===null}d.exports=c},function(d,p,c){function i(t){return!!a&&a in t}var f=c(115),a=function(){var t=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();d.exports=i},function(d,p){function c(){this.__data__=[],this.size=0}d.exports=c},function(d,p,c){function i(e){var n=this.__data__,r=f(n,e);return!(r<0)&&(r==n.length-1?n.pop():t.call(n,r,1),--this.size,!0)}var f=c(12),a=Array.prototype,t=a.splice;d.exports=i},function(d,p,c){function i(a){var t=this.__data__,e=f(t,a);return e<0?void 0:t[e][1]}var f=c(12);d.exports=i},function(d,p,c){function i(a){return f(this.__data__,a)>-1}var f=c(12);d.exports=i},function(d,p,c){function i(a,t){var e=this.__data__,n=f(e,a);return n<0?(++this.size,e.push([a,t])):e[n][1]=t,this}var f=c(12);d.exports=i},function(d,p,c){function i(){this.size=0,this.__data__={hash:new f,map:new(t||a),string:new f}}var f=c(84),a=c(10),t=c(33);d.exports=i},function(d,p,c){function i(a){var t=f(this,a).delete(a);return this.size-=t?1:0,t}var f=c(14);d.exports=i},function(d,p,c){function i(a){return f(this,a).get(a)}var f=c(14);d.exports=i},function(d,p,c){function i(a){return f(this,a).has(a)}var f=c(14);d.exports=i},function(d,p,c){function i(a,t){var e=f(this,a),n=e.size;return e.set(a,t),this.size+=e.size==n?0:1,this}var f=c(14);d.exports=i},function(d,p,c){function i(t){var e=f(t,function(r){return n.size===a&&n.clear(),r}),n=e.cache;return e}var f=c(161),a=500;d.exports=i},function(d,p){function c(i){var f=[];if(i!=null)for(var a in Object(i))f.push(a);return f}d.exports=c},function(d,p,c){(function(i){var f=c(38),a=typeof p=="object"&&p&&!p.nodeType&&p,t=a&&typeof i=="object"&&i&&!i.nodeType&&i,e=t&&t.exports===a,n=e&&f.process,r=function(){try{return n&&n.binding&&n.binding("util")}catch{}}();i.exports=r}).call(p,c(29)(d))},function(d,p){function c(a){return f.call(a)}var i=Object.prototype,f=i.toString;d.exports=c},function(d,p){function c(i,f){return function(a){return i(f(a))}}d.exports=c},function(d,p){function c(t){var e=0,n=0;return function(){var r=a(),o=f-(r-n);if(n=r,o>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var i=800,f=16,a=Date.now;d.exports=c},function(d,p,c){function i(){this.__data__=new f,this.size=0}var f=c(10);d.exports=i},function(d,p){function c(i){var f=this.__data__,a=f.delete(i);return this.size=f.size,a}d.exports=c},function(d,p){function c(i){return this.__data__.get(i)}d.exports=c},function(d,p){function c(i){return this.__data__.has(i)}d.exports=c},function(d,p,c){function i(n,r){var o=this.__data__;if(o instanceof f){var u=o.__data__;if(!a||u.length<e-1)return u.push([n,r]),this.size=++o.size,this;o=this.__data__=new t(u)}return o.set(n,r),this.size=o.size,this}var f=c(10),a=c(33),t=c(34),e=200;d.exports=i},function(d,p,c){var i=c(143),f=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,e=i(function(n){var r=[];return f.test(n)&&r.push(""),n.replace(a,function(o,u,l,s){r.push(l?s.replace(t,"$1"):u||o)}),r});d.exports=e},function(d,p){function c(a){if(a!=null){try{return f.call(a)}catch{}try{return a+""}catch{}}return""}var i=Function.prototype,f=i.toString;d.exports=c},function(d,p){function c(i){return function(){return i}}d.exports=c},function(d,p,c){function i(a){return a!=null&&a.length?f(a,1):[]}var f=c(92);d.exports=i},function(d,p,c){function i(t,e){return t!=null&&a(t,e,f)}var f=c(95),a=c(121);d.exports=i},function(d,p,c){function i(t){return a(t)&&f(t)}var f=c(24),a=c(6);d.exports=i},function(d,p,c){function i(s){if(!t(s)||f(s)!=e)return!1;var h=a(s);if(h===null)return!0;var v=u.call(h,"constructor")&&h.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==l}var f=c(8),a=c(39),t=c(6),e="[object Object]",n=Function.prototype,r=Object.prototype,o=n.toString,u=r.hasOwnProperty,l=o.call(Object);d.exports=i},function(d,p,c){function i(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(a);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var l=t.apply(this,r);return n.cache=u.set(o,l)||u,l};return n.cache=new(i.Cache||f),n}var f=c(34),a="Expected a function";i.Cache=f,d.exports=i},function(d,p,c){var i=c(102),f=c(118),a=f(function(t,e){return t==null?{}:i(t,e)});d.exports=a},function(d,p){function c(){return!1}d.exports=c},function(d,p,c){function i(t){return f(t,a(t))}var f=c(114),a=c(46);d.exports=i},function(d,p,c){function i(a){return a==null?"":f(a)}var f=c(108);d.exports=i},function(d,p,c){d.exports=c(48)}])})}(pt)),pt.exports}var En=xn();const Ce=br(En),bn=({onDetected:A,onError:x,isActive:S=!1,className:d=""})=>{const p=de.useRef(null),[c,i]=de.useState(!1),[f,a]=de.useState(null),[t,e]=de.useState(!0);de.useEffect(()=>(S&&t?n():r(),()=>{r()}),[S,t]);const n=async()=>{try{if((await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput").length===0){e(!1),a("لا توجد كاميرا متاحة على هذا الجهاز");return}a(null),i(!0),Ce.init({inputStream:{name:"Live",type:"LiveStream",target:p.current,constraints:{width:640,height:480,facingMode:"environment"}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,frequency:10,decoder:{readers:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader"]},locate:!0},s=>{if(s){console.error("خطأ في تشغيل الماسح:",s),a("فشل في تشغيل الماسح: "+s.message),i(!1),x&&x(s);return}console.log("تم تشغيل ماسح الباركود بنجاح"),Ce.start()}),Ce.onDetected(s=>{const h=s.codeResult.code;console.log("تم اكتشاف باركود:",h),A&&A(h),r()})}catch(u){console.error("خطأ في الوصول للكاميرا:",u),a("فشل في الوصول للكاميرا: "+u.message),i(!1),x&&x(u)}},r=()=>{c&&(Ce.stop(),i(!1))},o=u=>{const l=u.target.files[0];if(!l)return;const s=new FileReader;s.onload=h=>{const v=new Image;v.onload=()=>{const _=document.createElement("canvas"),g=_.getContext("2d");_.width=v.width,_.height=v.height,g.drawImage(v,0,0),Ce.decodeSingle({decoder:{readers:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","upc_reader"]},locate:!0,src:h.target.result},b=>{b&&b.codeResult?(console.log("تم قراءة الباركود من الصورة:",b.codeResult.code),A&&A(b.codeResult.code)):a("لم يتم العثور على باركود في الصورة")})},v.src=h.target.result},s.readAsDataURL(l),u.target.value=""};return t?z.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${d}`,children:[f&&z.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:z.jsx("div",{className:"text-red-700 text-sm",children:f})}),z.jsxs("div",{className:"text-center",children:[S?z.jsxs(z.Fragment,{children:[z.jsx("div",{ref:p,className:"relative bg-black rounded-lg overflow-hidden mb-4",style:{minHeight:"300px"},children:c&&z.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:z.jsx("div",{className:"bg-black bg-opacity-50 text-white p-2 rounded",children:"جاري البحث عن باركود..."})})}),z.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"وجه الكاميرا نحو الباركود واتركها ثابتة"})]}):z.jsxs("div",{className:"py-8",children:[z.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),z.jsx("p",{className:"text-gray-500 text-sm",children:"اضغط على زر المسح لبدء قراءة الباركود"})]}),z.jsx("div",{className:"flex justify-center gap-2",children:z.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer",children:[z.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"رفع صورة",z.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]})})]})]}):z.jsx("div",{className:`bg-yellow-50 border border-yellow-200 rounded-lg p-4 ${d}`,children:z.jsxs("div",{className:"text-center",children:[z.jsx("svg",{className:"mx-auto h-12 w-12 text-yellow-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),z.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"لا توجد كاميرا متاحة"}),z.jsx("p",{className:"text-yellow-700 text-sm mb-4",children:"يمكنك رفع صورة تحتوي على باركود بدلاً من ذلك"}),z.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 cursor-pointer",children:[z.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"رفع صورة باركود",z.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]})]})})},wn=({value:A,onChange:x,showGenerator:S=!0,showScanner:d=!0,generateAutomatic:p=!0,className:c="",label:i="الباركود"})=>{const[f,a]=de.useState("generate"),[t,e]=de.useState(!1),[n,r]=de.useState(A||""),o=()=>{const v=Date.now().toString(),_=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),g=`${v.slice(-8)}${_}`;r(g),x&&x(g)},u=v=>{const _=v.target.value;r(_),x&&x(_)},l=v=>{r(v),x&&x(v),e(!1),a("generate");const _=document.createElement("div");_.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",_.textContent=`تم قراءة الباركود: ${v}`,document.body.appendChild(_),setTimeout(()=>{document.body.removeChild(_)},3e3)},h=[{id:"generate",label:"توليد",icon:z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),show:S},{id:"scan",label:"مسح",icon:z.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),show:d}].filter(v=>v.show);return z.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg ${c}`,children:[z.jsxs("div",{className:"p-4 border-b border-gray-200",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[z.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i}),p&&z.jsxs("button",{onClick:o,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded-md hover:bg-indigo-700 flex items-center gap-1",children:[z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"توليد تلقائي"]})]}),z.jsx("div",{className:"mb-4",children:z.jsx("input",{type:"text",value:n,onChange:u,placeholder:"أدخل رقم الباركود أو استخدم المسح",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),h.length>1&&z.jsx("div",{className:"flex space-x-1 space-x-reverse bg-gray-100 p-1 rounded-lg",children:h.map(v=>z.jsxs("button",{onClick:()=>{a(v.id),v.id==="scan"?e(!0):e(!1)},className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${f===v.id?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[v.icon,v.label]},v.id))})]}),z.jsxs("div",{className:"p-4",children:[f==="generate"&&S&&z.jsx(yn,{value:n,className:"w-full"}),f==="scan"&&d&&z.jsx(bn,{isActive:t,onDetected:l,onError:v=>{console.error("خطأ في قراءة الباركود:",v)},className:"w-full"})]})]})};export{wn as B};
