import{r as i,j as e,H as g,L as m,a as j}from"./app-DLu82VbL.js";import{A as f}from"./AdminLayout-TR3F2rdb.js";import{J as y,K as N,n as v,h as w,L as F,s as k,i as C,j as X,f as S,M as _}from"./index-UdTL3sIO.js";/* empty css            */const q=()=>{const[a,x]=i.useState({name:"",phone:"",password:"",salary:"",is_active:!0,notes:""}),[s,c]=i.useState({}),[d,l]=i.useState(!1),h=n=>{n.preventDefault(),l(!0),j.post("/admin/preparers",a,{onSuccess:()=>{},onError:t=>{c(t),l(!1)},onFinish:()=>{l(!1)}})},r=n=>{const{name:t,value:p,type:u,checked:b}=n.target;x(o=>({...o,[t]:u==="checkbox"?b:p})),s[t]&&c(o=>({...o,[t]:null}))};return e.jsxs(f,{title:"إضافة مجهز جديد",children:[e.jsx(g,{title:"إضافة مجهز جديد"}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-blue-50 border-b border-blue-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(y,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"إضافة مجهز جديد"}),e.jsx("p",{className:"text-gray-600",children:"إدخال بيانات المجهز الجديد"})]})]}),e.jsxs(m,{href:"/admin/preparers",className:"inline-flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"إلغاء"]})]})}),e.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(v,{className:"inline w-4 h-4 ml-1"}),"اسم المجهز *"]}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:r,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.name?"border-red-500":"border-gray-300"}`,placeholder:"أدخل اسم المجهز الكامل",required:!0}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(w,{className:"inline w-4 h-4 ml-1"}),"رقم الهاتف *"]}),e.jsx("input",{type:"text",name:"phone",value:a.phone,onChange:r,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.phone?"border-red-500":"border-gray-300"}`,placeholder:"07XX XXX XXXX",required:!0}),s.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(F,{className:"inline w-4 h-4 ml-1"}),"كلمة المرور *"]}),e.jsx("input",{type:"password",name:"password",value:a.password,onChange:r,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.password?"border-red-500":"border-gray-300"}`,placeholder:"أدخل كلمة مرور قوية",required:!0,minLength:"6"}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"يجب أن تكون كلمة المرور 6 أحرف على الأقل"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(k,{className:"inline w-4 h-4 ml-1"}),"الراتب الأساسي (د.ع)"]}),e.jsx("input",{type:"number",name:"salary",value:a.salary,onChange:r,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.salary?"border-red-500":"border-gray-300"}`,placeholder:"0.00",min:"0",step:"0.01"}),s.salary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.salary}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"يمكنك ترك هذا الحقل فارغاً وتحديده لاحقاً"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:a.is_active,onChange:r,className:"sr-only"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`block w-14 h-8 rounded-full transition-colors ${a.is_active?"bg-green-500":"bg-gray-300"}`}),e.jsx("div",{className:`absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${a.is_active?"transform translate-x-6":""}`})]}),e.jsx("span",{className:"mr-3 text-sm font-medium text-gray-700",children:a.is_active?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"inline w-4 h-4 ml-1 text-green-500"}),"المجهز نشط"]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"inline w-4 h-4 ml-1 text-gray-400"}),"المجهز غير نشط"]})})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(S,{className:"inline w-4 h-4 ml-1"}),"ملاحظات"]}),e.jsx("textarea",{name:"notes",value:a.notes,onChange:r,rows:"3",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.notes?"border-red-500":"border-gray-300"}`,placeholder:"أي ملاحظات إضافية عن المجهز..."}),s.notes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.notes})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-200",children:[e.jsx(m,{href:"/admin/preparers",className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:d,className:"inline-flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري الحفظ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"حفظ المجهز"]})})]})]})]})})]})};export{q as default};
