import{r as j,j as e,H as c,L as a,a as b}from"./app-CdaPExbl.js";import{R as n}from"./RepresentativeLayout-Cqxscbgb.js";import{f as r,a as m}from"./helpers-MsVikwNa.js";/* empty css            */function w({invoices:t={data:[]},representative_user:h,filters:g={}}){const[l,p]=j.useState(g.status||"");if(!h)return e.jsxs(n,{title:"الفواتير",children:[e.jsx(c,{title:"الفواتير"}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsx("p",{className:"text-center text-gray-500",children:"جاري تحميل البيانات..."})})]});t?.data;const o=[{value:"",label:"جميع الحالات"},{value:"pending",label:"قيد الانتظار"},{value:"preparing",label:"قيد التجهيز"},{value:"shipping",label:"قيد التوصيل"},{value:"delivered",label:"تم التسليم"},{value:"returned",label:"مسترجع"},{value:"cancelled",label:"ملغية"}],d=s=>{const i={pending:{label:"قيد الانتظار",class:"bg-yellow-100 text-yellow-800"},preparing:{label:"قيد التجهيز",class:"bg-blue-100 text-blue-800"},shipping:{label:"قيد التوصيل",class:"bg-indigo-100 text-indigo-800"},delivered:{label:"تم التسليم",class:"bg-green-100 text-green-800"},returned:{label:"مسترجع",class:"bg-orange-100 text-orange-800"},cancelled:{label:"ملغية",class:"bg-red-100 text-red-800"}}[s]||{label:s,class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.class}`,children:i.label})},u=()=>{b.get("/representatives/invoices",{status:l},{preserveState:!0,replace:!0})};return e.jsxs(n,{title:"فواتيري",children:[e.jsx(c,{title:"فواتيري"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"فواتيري"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"عرض وإدارة فواتيرك"})]}),e.jsx("div",{className:"mt-4 sm:mt-0 flex space-x-3 space-x-reverse",children:e.jsx(a,{href:"/representatives/pos/create",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"إنشاء فاتورة جديدة"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحالة"}),e.jsx("select",{value:l,onChange:s=>p(s.target.value),className:"w-full border-gray-300 rounded-lg",children:o.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:u,className:"w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"تطبيق الفلتر"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:t.data.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا توجد فواتير"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"لم تقم بإنشاء أي فواتير بعد"}),e.jsx(a,{href:"/representatives/pos/create",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium",children:"إنشاء أول فاتورة"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden",children:t.data.map(s=>e.jsxs("div",{className:"border-b border-gray-200 p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.invoice_number}),e.jsx("p",{className:"text-sm text-gray-600",children:s.customer?s.customer.customer_name:"عميل محذوف"})]}),d(s.status)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"الإجمالي:"}),e.jsx("div",{className:"font-medium text-green-600",children:r(s.total_amount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"المدفوع:"}),e.jsx("div",{className:"font-medium",children:r(s.paid_amount)})]})]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:m(s.invoice_date)}),e.jsx(a,{href:`/representatives/invoices/${s.id}`,className:"block w-full text-center bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-medium",children:"عرض التفاصيل"})]},s.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم الفاتورة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العميل"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجمالي"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المدفوع"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المتبقي"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العمليات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.invoice_number})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.customer?s.customer.customer_name:"عميل محذوف"}),e.jsx("div",{className:"text-sm text-gray-500",children:s.customer?s.customer.governorate:"-"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r(s.total_amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-green-600",children:r(s.paid_amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-red-600",children:r(s.remaining_amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d(s.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:m(s.invoice_date)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx(a,{href:`/representatives/invoices/${s.id}`,className:"text-blue-600 hover:text-blue-900",children:"عرض"})})]},s.id))})]})}),t.links&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["عرض ",t.from," إلى ",t.to," من ",t.total," نتيجة"]}),e.jsx("div",{className:"flex space-x-2 space-x-reverse",children:t.links.map((s,x)=>e.jsx(a,{href:s.url,className:`px-3 py-2 text-sm rounded-lg ${s.active?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,dangerouslySetInnerHTML:{__html:s.label}},x))})]})})]})})]})]})}export{w as default};
