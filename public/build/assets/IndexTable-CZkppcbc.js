import{g as Or,r as ne,j as g,a as mt}from"./app-C7cjIxtJ.js";import{A as Mr}from"./AdminLayout-CBAZUsRv.js";import"./app-D2X_br3j.js";var Me={},Ee={},ke={},Et;function fe(){if(Et)return ke;Et=1,Object.defineProperty(ke,"__esModule",{value:!0});function N(A,h){if(!(A instanceof h))throw new TypeError("Cannot call a class as a function")}var E=function A(h,v){N(this,A),this.data=h,this.text=v.text||h,this.options=v};return ke.default=E,ke}var wt;function kr(){if(wt)return Ee;wt=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.CODE39=void 0;var N=function(){function s(f,d){for(var p=0;p<d.length;p++){var _=d[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,d,p){return d&&s(f.prototype,d),p&&s(f,p),f}}(),E=fe(),A=h(E);function h(s){return s&&s.__esModule?s:{default:s}}function v(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}function c(s,f){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:s}function a(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(s,f):s.__proto__=f)}var l=function(s){a(f,s);function f(d,p){return v(this,f),d=d.toUpperCase(),p.mod43&&(d+=r(u(d))),c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,d,p))}return N(f,[{key:"encode",value:function(){for(var p=e("*"),_=0;_<this.data.length;_++)p+=e(this.data[_])+"0";return p+=e("*"),{data:p,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),f}(A.default),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],t=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function e(s){return n(o(s))}function n(s){return t[s].toString(2)}function r(s){return i[s]}function o(s){return i.indexOf(s)}function u(s){for(var f=0,d=0;d<s.length;d++)f+=o(s[d]);return f=f%43,f}return Ee.CODE39=l,Ee}var he={},Pe={},Ie={},re={},Ot;function Ae(){if(Ot)return re;Ot=1,Object.defineProperty(re,"__esModule",{value:!0});var N;function E(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var A=re.SET_A=0,h=re.SET_B=1,v=re.SET_C=2;re.SHIFT=98;var c=re.START_A=103,a=re.START_B=104,l=re.START_C=105;return re.MODULO=103,re.STOP=106,re.FNC1=207,re.SET_BY_CODE=(N={},E(N,c,A),E(N,a,h),E(N,l,v),N),re.SWAP={101:A,100:h,99:v},re.A_START_CHAR="Ð",re.B_START_CHAR="Ñ",re.C_START_CHAR="Ò",re.A_CHARS="[\0-_È-Ï]",re.B_CHARS="[ -È-Ï]",re.C_CHARS="(Ï*[0-9]{2}Ï*)",re.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],re}var St;function gt(){if(St)return Ie;St=1,Object.defineProperty(Ie,"__esModule",{value:!0});var N=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=fe(),A=v(E),h=Ae();function v(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){c(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return o.bytes=n.split("").map(function(u){return u.charCodeAt(0)}),o}return N(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,o=r.shift()-105,u=h.SET_BY_CODE[o];if(u===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(h.FNC1);var s=e.next(r,1,u);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(o)+s.result+e.getBar((s.checksum+o)%h.MODULO)+e.getBar(h.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return h.BARS[r]?h.BARS[r].toString():""}},{key:"correctIndex",value:function(r,o){if(o===h.SET_A){var u=r.shift();return u<32?u+64:u-32}else return o===h.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,o,u){if(!r.length)return{result:"",checksum:0};var s=void 0,f=void 0;if(r[0]>=200){f=r.shift()-105;var d=h.SWAP[f];d!==void 0?s=e.next(r,o+1,d):((u===h.SET_A||u===h.SET_B)&&f===h.SHIFT&&(r[0]=u===h.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,o+1,u))}else f=e.correctIndex(r,u),s=e.next(r,o+1,u);var p=e.getBar(f),_=f*o;return{result:p+s.result,checksum:_+s.checksum}}}]),e}(A.default);return Ie.default=i,Ie}var Le={},jt;function Pr(){if(jt)return Le;jt=1,Object.defineProperty(Le,"__esModule",{value:!0});var N=Ae(),E=function(l){return l.match(new RegExp("^"+N.A_CHARS+"*"))[0].length},A=function(l){return l.match(new RegExp("^"+N.B_CHARS+"*"))[0].length},h=function(l){return l.match(new RegExp("^"+N.C_CHARS+"*"))[0]};function v(a,l){var i=l?N.A_CHARS:N.B_CHARS,t=a.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(t)return t[1]+"Ì"+c(a.substring(t[1].length));var e=a.match(new RegExp("^"+i+"+"))[0];return e.length===a.length?a:e+String.fromCharCode(l?205:206)+v(a.substring(e.length),!l)}function c(a){var l=h(a),i=l.length;if(i===a.length)return a;a=a.substring(i);var t=E(a)>=A(a);return l+String.fromCharCode(t?206:205)+v(a,t)}return Le.default=function(a){var l=void 0,i=h(a).length;if(i>=2)l=N.C_START_CHAR+c(a);else{var t=E(a)>A(a);l=(t?N.A_START_CHAR:N.B_START_CHAR)+v(a,t)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(e,n){return"Ë"+n})},Le}var Rt;function Ir(){if(Rt)return Pe;Rt=1,Object.defineProperty(Pe,"__esModule",{value:!0});var N=gt(),E=v(N),A=Pr(),h=v(A);function v(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){if(c(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,h.default)(n),r));else var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a(o)}return e}(E.default);return Pe.default=i,Pe}var ze={},Ct;function Lr(){if(Ct)return ze;Ct=1,Object.defineProperty(ze,"__esModule",{value:!0});var N=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=gt(),A=v(E),h=Ae();function v(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){return c(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,h.A_START_CHAR+n,r))}return N(e,[{key:"valid",value:function(){return new RegExp("^"+h.A_CHARS+"+$").test(this.data)}}]),e}(A.default);return ze.default=i,ze}var Be={},At;function zr(){if(At)return Be;At=1,Object.defineProperty(Be,"__esModule",{value:!0});var N=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=gt(),A=v(E),h=Ae();function v(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){return c(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,h.B_START_CHAR+n,r))}return N(e,[{key:"valid",value:function(){return new RegExp("^"+h.B_CHARS+"+$").test(this.data)}}]),e}(A.default);return Be.default=i,Be}var qe={},Nt;function Br(){if(Nt)return qe;Nt=1,Object.defineProperty(qe,"__esModule",{value:!0});var N=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=gt(),A=v(E),h=Ae();function v(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){return c(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,h.C_START_CHAR+n,r))}return N(e,[{key:"valid",value:function(){return new RegExp("^"+h.C_CHARS+"+$").test(this.data)}}]),e}(A.default);return qe.default=i,qe}var Tt;function qr(){if(Tt)return he;Tt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.CODE128C=he.CODE128B=he.CODE128A=he.CODE128=void 0;var N=Ir(),E=i(N),A=Lr(),h=i(A),v=zr(),c=i(v),a=Br(),l=i(a);function i(t){return t&&t.__esModule?t:{default:t}}return he.CODE128=E.default,he.CODE128A=h.default,he.CODE128B=c.default,he.CODE128C=l.default,he}var ue={},Fe={},pe={},Dt;function Ne(){return Dt||(Dt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.SIDE_BIN="101",pe.MIDDLE_BIN="01010",pe.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},pe.EAN2_STRUCTURE=["LL","LG","GL","GG"],pe.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],pe.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),pe}var Ue={},Ge={},Mt;function Te(){if(Mt)return Ge;Mt=1,Object.defineProperty(Ge,"__esModule",{value:!0});var N=Ne(),E=function(h,v,c){var a=h.split("").map(function(i,t){return N.BINARIES[v[t]]}).map(function(i,t){return i?i[h[t]]:""});if(c){var l=h.length-1;a=a.map(function(i,t){return t<l?i+c:i})}return a.join("")};return Ge.default=E,Ge}var kt;function Sr(){if(kt)return Ue;kt=1,Object.defineProperty(Ue,"__esModule",{value:!0});var N=function(){function n(r,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}return function(r,o,u){return o&&n(r.prototype,o),u&&n(r,u),r}}(),E=Ne(),A=Te(),h=a(A),v=fe(),c=a(v);function a(n){return n&&n.__esModule?n:{default:n}}function l(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function i(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function t(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var e=function(n){t(r,n);function r(o,u){l(this,r);var s=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,o,u));return s.fontSize=!u.flat&&u.fontSize>u.width*10?u.width*10:u.fontSize,s.guardHeight=u.height+s.fontSize/2+u.textMargin,s}return N(r,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(u,s){return this.text.substr(u,s)}},{key:"leftEncode",value:function(u,s){return(0,h.default)(u,s)}},{key:"rightText",value:function(u,s){return this.text.substr(u,s)}},{key:"rightEncode",value:function(u,s){return(0,h.default)(u,s)}},{key:"encodeGuarded",value:function(){var u={fontSize:this.fontSize},s={height:this.guardHeight};return[{data:E.SIDE_BIN,options:s},{data:this.leftEncode(),text:this.leftText(),options:u},{data:E.MIDDLE_BIN,options:s},{data:this.rightEncode(),text:this.rightText(),options:u},{data:E.SIDE_BIN,options:s}]}},{key:"encodeFlat",value:function(){var u=[E.SIDE_BIN,this.leftEncode(),E.MIDDLE_BIN,this.rightEncode(),E.SIDE_BIN];return{data:u.join(""),text:this.text}}}]),r}(c.default);return Ue.default=e,Ue}var Pt;function Fr(){if(Pt)return Fe;Pt=1,Object.defineProperty(Fe,"__esModule",{value:!0});var N=function(){function n(r,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}return function(r,o,u){return o&&n(r.prototype,o),u&&n(r,u),r}}(),E=function n(r,o,u){r===null&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(s===void 0){var f=Object.getPrototypeOf(r);return f===null?void 0:n(f,o,u)}else{if("value"in s)return s.value;var d=s.get;return d===void 0?void 0:d.call(u)}},A=Ne(),h=Sr(),v=c(h);function c(n){return n&&n.__esModule?n:{default:n}}function a(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function l(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function i(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var t=function(r){var o=r.substr(0,12).split("").map(function(u){return+u}).reduce(function(u,s,f){return f%2?u+s*3:u+s},0);return(10-o%10)%10},e=function(n){i(r,n);function r(o,u){a(this,r),o.search(/^[0-9]{12}$/)!==-1&&(o+=t(o));var s=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,o,u));return s.lastChar=u.lastChar,s}return N(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===t(this.data)}},{key:"leftText",value:function(){return E(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var u=this.data.substr(1,6),s=A.EAN13_STRUCTURE[this.data[0]];return E(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftEncode",this).call(this,u,s)}},{key:"rightText",value:function(){return E(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var u=this.data.substr(7,6);return E(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightEncode",this).call(this,u,"RRRRRR")}},{key:"encodeGuarded",value:function(){var u=E(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(u.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(u.push({data:"00"}),u.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),u}}]),r}(v.default);return Fe.default=e,Fe}var $e={},It;function Ur(){if(It)return $e;It=1,Object.defineProperty($e,"__esModule",{value:!0});var N=function(){function e(n,r){for(var o=0;o<r.length;o++){var u=r[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}return function(n,r,o){return r&&e(n.prototype,r),o&&e(n,o),n}}(),E=function e(n,r,o){n===null&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,r);if(u===void 0){var s=Object.getPrototypeOf(n);return s===null?void 0:e(s,r,o)}else{if("value"in u)return u.value;var f=u.get;return f===void 0?void 0:f.call(o)}},A=Sr(),h=v(A);function v(e){return e&&e.__esModule?e:{default:e}}function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function l(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=function(n){var r=n.substr(0,7).split("").map(function(o){return+o}).reduce(function(o,u,s){return s%2?o+u:o+u*3},0);return(10-r%10)%10},t=function(e){l(n,e);function n(r,o){return c(this,n),r.search(/^[0-9]{7}$/)!==-1&&(r+=i(r)),a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,o))}return N(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===i(this.data)}},{key:"leftText",value:function(){return E(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var o=this.data.substr(0,4);return E(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,o,"LLLL")}},{key:"rightText",value:function(){return E(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var o=this.data.substr(4,4);return E(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,o,"RRRR")}}]),n}(h.default);return $e.default=t,$e}var He={},Lt;function Gr(){if(Lt)return He;Lt=1,Object.defineProperty(He,"__esModule",{value:!0});var N=function(){function r(o,u){for(var s=0;s<u.length;s++){var f=u[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,u,s){return u&&r(o.prototype,u),s&&r(o,s),o}}(),E=Ne(),A=Te(),h=a(A),v=fe(),c=a(v);function a(r){return r&&r.__esModule?r:{default:r}}function l(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function i(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function t(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var e=function(o){var u=o.split("").map(function(s){return+s}).reduce(function(s,f,d){return d%2?s+f*9:s+f*3},0);return u%10},n=function(r){t(o,r);function o(u,s){return l(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u,s))}return N(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var s=E.EAN5_STRUCTURE[e(this.data)];return{data:"1011"+(0,h.default)(this.data,s,"01"),text:this.text}}}]),o}(c.default);return He.default=n,He}var Ve={},zt;function $r(){if(zt)return Ve;zt=1,Object.defineProperty(Ve,"__esModule",{value:!0});var N=function(){function n(r,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}return function(r,o,u){return o&&n(r.prototype,o),u&&n(r,u),r}}(),E=Ne(),A=Te(),h=a(A),v=fe(),c=a(v);function a(n){return n&&n.__esModule?n:{default:n}}function l(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function i(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function t(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var e=function(n){t(r,n);function r(o,u){return l(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,o,u))}return N(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var u=E.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,h.default)(this.data,u,"01"),text:this.text}}}]),r}(c.default);return Ve.default=e,Ve}var we={},Bt;function jr(){if(Bt)return we;Bt=1,Object.defineProperty(we,"__esModule",{value:!0});var N=function(){function n(r,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}return function(r,o,u){return o&&n(r.prototype,o),u&&n(r,u),r}}();we.checksum=e;var E=Te(),A=c(E),h=fe(),v=c(h);function c(n){return n&&n.__esModule?n:{default:n}}function a(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function l(n,r){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:n}function i(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r)}var t=function(n){i(r,n);function r(o,u){a(this,r),o.search(/^[0-9]{11}$/)!==-1&&(o+=e(o));var s=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,o,u));return s.displayValue=u.displayValue,u.fontSize>u.width*10?s.fontSize=u.width*10:s.fontSize=u.fontSize,s.guardHeight=u.height+s.fontSize/2+u.textMargin,s}return N(r,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==e(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var u="";return u+="101",u+=(0,A.default)(this.data.substr(0,6),"LLLLLL"),u+="01010",u+=(0,A.default)(this.data.substr(6,6),"RRRRRR"),u+="101",{data:u,text:this.text}}},{key:"guardedEncoding",value:function(){var u=[];return this.displayValue&&u.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),u.push({data:"101"+(0,A.default)(this.data[0],"L"),options:{height:this.guardHeight}}),u.push({data:(0,A.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),u.push({data:"01010",options:{height:this.guardHeight}}),u.push({data:(0,A.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),u.push({data:(0,A.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&u.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),u}}]),r}(v.default);function e(n){var r=0,o;for(o=1;o<11;o+=2)r+=parseInt(n[o]);for(o=0;o<11;o+=2)r+=parseInt(n[o])*3;return(10-r%10)%10}return we.default=t,we}var We={},qt;function Hr(){if(qt)return We;qt=1,Object.defineProperty(We,"__esModule",{value:!0});var N=function(){function u(s,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(s,p.key,p)}}return function(s,f,d){return f&&u(s.prototype,f),d&&u(s,d),s}}(),E=Te(),A=a(E),h=fe(),v=a(h),c=jr();function a(u){return u&&u.__esModule?u:{default:u}}function l(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function i(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function t(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var e=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],n=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],r=function(u){t(s,u);function s(f,d){l(this,s);var p=i(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,f,d));if(p.isValid=!1,f.search(/^[0-9]{6}$/)!==-1)p.middleDigits=f,p.upcA=o(f,"0"),p.text=d.text||""+p.upcA[0]+f+p.upcA[p.upcA.length-1],p.isValid=!0;else if(f.search(/^[01][0-9]{7}$/)!==-1)if(p.middleDigits=f.substring(1,f.length-1),p.upcA=o(p.middleDigits,f[0]),p.upcA[p.upcA.length-1]===f[f.length-1])p.isValid=!0;else return i(p);else return i(p);return p.displayValue=d.displayValue,d.fontSize>d.width*10?p.fontSize=d.width*10:p.fontSize=d.fontSize,p.guardHeight=d.height+p.fontSize/2+d.textMargin,p}return N(s,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var d="";return d+="101",d+=this.encodeMiddleDigits(),d+="010101",{data:d,text:this.text}}},{key:"guardedEncoding",value:function(){var d=[];return this.displayValue&&d.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),d.push({data:"101",options:{height:this.guardHeight}}),d.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),d.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&d.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),d}},{key:"encodeMiddleDigits",value:function(){var d=this.upcA[0],p=this.upcA[this.upcA.length-1],_=n[parseInt(p)][parseInt(d)];return(0,A.default)(this.middleDigits,_)}}]),s}(v.default);function o(u,s){for(var f=parseInt(u[u.length-1]),d=e[f],p="",_=0,y=0;y<d.length;y++){var O=d[y];O==="X"?p+=u[_++]:p+=O}return p=""+s+p,""+p+(0,c.checksum)(p)}return We.default=r,We}var Ft;function Vr(){if(Ft)return ue;Ft=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.UPCE=ue.UPC=ue.EAN2=ue.EAN5=ue.EAN8=ue.EAN13=void 0;var N=Fr(),E=r(N),A=Ur(),h=r(A),v=Gr(),c=r(v),a=$r(),l=r(a),i=jr(),t=r(i),e=Hr(),n=r(e);function r(o){return o&&o.__esModule?o:{default:o}}return ue.EAN13=E.default,ue.EAN8=h.default,ue.EAN5=c.default,ue.EAN2=l.default,ue.UPC=t.default,ue.UPCE=n.default,ue}var _e={},Xe={},xe={},Ut;function Wr(){return Ut||(Ut=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.START_BIN="1010",xe.END_BIN="11101",xe.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),xe}var Gt;function Rr(){if(Gt)return Xe;Gt=1,Object.defineProperty(Xe,"__esModule",{value:!0});var N=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=Wr(),A=fe(),h=v(A);function v(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(){return c(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return N(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,o=this.data.match(/.{2}/g).map(function(u){return r.encodePair(u)}).join("");return{data:E.START_BIN+o+E.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var o=E.BINARIES[r[1]];return E.BINARIES[r[0]].split("").map(function(u,s){return(u==="1"?"111":"1")+(o[s]==="1"?"000":"0")}).join("")}}]),e}(h.default);return Xe.default=i,Xe}var Ye={},$t;function Xr(){if($t)return Ye;$t=1,Object.defineProperty(Ye,"__esModule",{value:!0});var N=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=Rr(),A=h(E);function h(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,o,u){return r+o*(3-u%2*2)},0);return Math.ceil(n/10)*10-n},i=function(t){a(e,t);function e(n,r){return v(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=l(n)),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return N(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),e}(A.default);return Ye.default=i,Ye}var Ht;function Yr(){if(Ht)return _e;Ht=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.ITF14=_e.ITF=void 0;var N=Rr(),E=v(N),A=Xr(),h=v(A);function v(c){return c&&c.__esModule?c:{default:c}}return _e.ITF=E.default,_e.ITF14=h.default,_e}var le={},Qe={},Vt;function De(){if(Vt)return Qe;Vt=1,Object.defineProperty(Qe,"__esModule",{value:!0});var N=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=fe(),A=h(E);function h(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(t){a(e,t);function e(n,r){return v(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return N(e,[{key:"encode",value:function(){for(var r="110",o=0;o<this.data.length;o++){var u=parseInt(this.data[o]),s=u.toString(2);s=i(s,4-s.length);for(var f=0;f<s.length;f++)r+=s[f]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(A.default);function i(t,e){for(var n=0;n<e;n++)t="0"+t;return t}return Qe.default=l,Qe}var Ke={},Oe={},Wt;function _t(){if(Wt)return Oe;Wt=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.mod10=N,Oe.mod11=E;function N(A){for(var h=0,v=0;v<A.length;v++){var c=parseInt(A[v]);(v+A.length)%2===0?h+=c:h+=c*2%10+Math.floor(c*2/10)}return(10-h%10)%10}function E(A){for(var h=0,v=[2,3,4,5,6,7],c=0;c<A.length;c++){var a=parseInt(A[A.length-1-c]);h+=v[c%v.length]*a}return(11-h%11)%11}return Oe}var Xt;function Qr(){if(Xt)return Ke;Xt=1,Object.defineProperty(Ke,"__esModule",{value:!0});var N=De(),E=h(N),A=_t();function h(i){return i&&i.__esModule?i:{default:i}}function v(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function c(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){a(t,i);function t(e,n){return v(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,A.mod10)(e),n))}return t}(E.default);return Ke.default=l,Ke}var Je={},Yt;function Kr(){if(Yt)return Je;Yt=1,Object.defineProperty(Je,"__esModule",{value:!0});var N=De(),E=h(N),A=_t();function h(i){return i&&i.__esModule?i:{default:i}}function v(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function c(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){a(t,i);function t(e,n){return v(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,A.mod11)(e),n))}return t}(E.default);return Je.default=l,Je}var Ze={},Qt;function Jr(){if(Qt)return Ze;Qt=1,Object.defineProperty(Ze,"__esModule",{value:!0});var N=De(),E=h(N),A=_t();function h(i){return i&&i.__esModule?i:{default:i}}function v(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function c(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){a(t,i);function t(e,n){return v(this,t),e+=(0,A.mod10)(e),e+=(0,A.mod10)(e),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return t}(E.default);return Ze.default=l,Ze}var et={},Kt;function Zr(){if(Kt)return et;Kt=1,Object.defineProperty(et,"__esModule",{value:!0});var N=De(),E=h(N),A=_t();function h(i){return i&&i.__esModule?i:{default:i}}function v(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function c(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){a(t,i);function t(e,n){return v(this,t),e+=(0,A.mod11)(e),e+=(0,A.mod10)(e),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return t}(E.default);return et.default=l,et}var Jt;function en(){if(Jt)return le;Jt=1,Object.defineProperty(le,"__esModule",{value:!0}),le.MSI1110=le.MSI1010=le.MSI11=le.MSI10=le.MSI=void 0;var N=De(),E=e(N),A=Qr(),h=e(A),v=Kr(),c=e(v),a=Jr(),l=e(a),i=Zr(),t=e(i);function e(n){return n&&n.__esModule?n:{default:n}}return le.MSI=E.default,le.MSI10=h.default,le.MSI11=c.default,le.MSI1010=l.default,le.MSI1110=t.default,le}var Se={},Zt;function tn(){if(Zt)return Se;Zt=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.pharmacode=void 0;var N=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),E=fe(),A=h(E);function h(i){return i&&i.__esModule?i:{default:i}}function v(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function c(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){a(t,i);function t(e,n){v(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.number=parseInt(e,10),r}return N(t,[{key:"encode",value:function(){for(var n=this.number,r="";!isNaN(n)&&n!=0;)n%2===0?(r="11100"+r,n=(n-2)/2):(r="100"+r,n=(n-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(A.default);return Se.pharmacode=l,Se}var je={},er;function rn(){if(er)return je;er=1,Object.defineProperty(je,"__esModule",{value:!0}),je.codabar=void 0;var N=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),E=fe(),A=h(E);function h(i){return i&&i.__esModule?i:{default:i}}function v(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function c(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){a(t,i);function t(e,n){v(this,t),e.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(e="A"+e+"A");var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return N(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],r=this.getEncodings(),o=0;o<this.data.length;o++)n.push(r[this.data.charAt(o)]),o!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(A.default);return je.codabar=l,je}var ye={},tt={},me={},tr;function nn(){return tr||(tr=1,Object.defineProperty(me,"__esModule",{value:!0}),me.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"],me.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],me.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),me}var rr;function Cr(){if(rr)return tt;rr=1,Object.defineProperty(tt,"__esModule",{value:!0});var N=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=nn(),A=fe(),h=v(A);function v(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){l(e,t);function e(n,r){return c(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return N(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(f){return E.MULTI_SYMBOLS[f]||f}),o=r.map(function(f){return e.getEncoding(f)}).join(""),u=e.checksum(r,20),s=e.checksum(r.concat(u),15);return{text:this.text,data:e.getEncoding("ÿ")+o+e.getEncoding(u)+e.getEncoding(s)+e.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(r){return E.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return E.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return E.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,o){var u=r.slice().reverse().reduce(function(s,f,d){var p=d%o+1;return s+e.symbolValue(f)*p},0);return e.getSymbol(u%47)}}]),e}(h.default);return tt.default=i,tt}var rt={},nr;function on(){if(nr)return rt;nr=1,Object.defineProperty(rt,"__esModule",{value:!0});var N=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),E=Cr(),A=h(E);function h(i){return i&&i.__esModule?i:{default:i}}function v(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function c(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){a(t,i);function t(e,n){return v(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return N(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(A.default);return rt.default=l,rt}var or;function an(){if(or)return ye;or=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.CODE93FullASCII=ye.CODE93=void 0;var N=Cr(),E=v(N),A=on(),h=v(A);function v(c){return c&&c.__esModule?c:{default:c}}return ye.CODE93=E.default,ye.CODE93FullASCII=h.default,ye}var Re={},ar;function un(){if(ar)return Re;ar=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.GenericBarcode=void 0;var N=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),E=fe(),A=h(E);function h(i){return i&&i.__esModule?i:{default:i}}function v(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function c(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function a(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var l=function(i){a(t,i);function t(e,n){return v(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return N(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(A.default);return Re.GenericBarcode=l,Re}var ir;function cn(){if(ir)return Me;ir=1,Object.defineProperty(Me,"__esModule",{value:!0});var N=kr(),E=qr(),A=Vr(),h=Yr(),v=en(),c=tn(),a=rn(),l=an(),i=un();return Me.default={CODE39:N.CODE39,CODE128:E.CODE128,CODE128A:E.CODE128A,CODE128B:E.CODE128B,CODE128C:E.CODE128C,EAN13:A.EAN13,EAN8:A.EAN8,EAN5:A.EAN5,EAN2:A.EAN2,UPC:A.UPC,UPCE:A.UPCE,ITF14:h.ITF14,ITF:h.ITF,MSI:v.MSI,MSI10:v.MSI10,MSI11:v.MSI11,MSI1010:v.MSI1010,MSI1110:v.MSI1110,pharmacode:c.pharmacode,codabar:a.codabar,CODE93:l.CODE93,CODE93FullASCII:l.CODE93FullASCII,GenericBarcode:i.GenericBarcode},Me}var nt={},ur;function yt(){if(ur)return nt;ur=1,Object.defineProperty(nt,"__esModule",{value:!0});var N=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var h=arguments[A];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(E[v]=h[v])}return E};return nt.default=function(E,A){return N({},E,A)},nt}var ot={},cr;function ln(){if(cr)return ot;cr=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=N;function N(E){var A=[];function h(v){if(Array.isArray(v))for(var c=0;c<v.length;c++)h(v[c]);else v.text=v.text||"",v.data=v.data||"",A.push(v)}return h(E),A}return ot}var at={},lr;function sn(){if(lr)return at;lr=1,Object.defineProperty(at,"__esModule",{value:!0}),at.default=N;function N(E){return E.marginTop=E.marginTop||E.margin,E.marginBottom=E.marginBottom||E.margin,E.marginRight=E.marginRight||E.margin,E.marginLeft=E.marginLeft||E.margin,E}return at}var it={},ut={},ct={},sr;function Ar(){if(sr)return ct;sr=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=N;function N(E){var A=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var h in A)A.hasOwnProperty(h)&&(h=A[h],typeof E[h]=="string"&&(E[h]=parseInt(E[h],10)));return typeof E.displayValue=="string"&&(E.displayValue=E.displayValue!="false"),E}return ct}var lt={},fr;function Nr(){if(fr)return lt;fr=1,Object.defineProperty(lt,"__esModule",{value:!0});var N={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return lt.default=N,lt}var dr;function fn(){if(dr)return ut;dr=1,Object.defineProperty(ut,"__esModule",{value:!0});var N=Ar(),E=v(N),A=Nr(),h=v(A);function v(a){return a&&a.__esModule?a:{default:a}}function c(a){var l={};for(var i in h.default)h.default.hasOwnProperty(i)&&(a.hasAttribute("jsbarcode-"+i.toLowerCase())&&(l[i]=a.getAttribute("jsbarcode-"+i.toLowerCase())),a.hasAttribute("data-"+i.toLowerCase())&&(l[i]=a.getAttribute("data-"+i.toLowerCase())));return l.value=a.getAttribute("jsbarcode-value")||a.getAttribute("data-value"),l=(0,E.default)(l),l}return ut.default=c,ut}var st={},ft={},se={},hr;function Tr(){if(hr)return se;hr=1,Object.defineProperty(se,"__esModule",{value:!0}),se.getTotalWidthOfEncodings=se.calculateEncodingAttributes=se.getBarcodePadding=se.getEncodingHeight=se.getMaximumHeightOfEncodings=void 0;var N=yt(),E=A(N);function A(t){return t&&t.__esModule?t:{default:t}}function h(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function v(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function c(t,e,n){for(var r=0;r<t.length;r++){var o=t[r],u=(0,E.default)(e,o.options),s;u.displayValue?s=i(o.text,u,n):s=0;var f=o.data.length*u.width;o.width=Math.ceil(Math.max(s,f)),o.height=h(o,u),o.barcodePadding=v(s,f,u)}}function a(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function l(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function i(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var o=r.measureText(t);if(!o)return 0;var u=o.width;return u}return se.getMaximumHeightOfEncodings=l,se.getEncodingHeight=h,se.getBarcodePadding=v,se.calculateEncodingAttributes=c,se.getTotalWidthOfEncodings=a,se}var pr;function dn(){if(pr)return ft;pr=1,Object.defineProperty(ft,"__esModule",{value:!0});var N=function(){function l(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,t,e){return t&&l(i.prototype,t),e&&l(i,e),i}}(),E=yt(),A=v(E),h=Tr();function v(l){return l&&l.__esModule?l:{default:l}}function c(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(i,t,e){c(this,l),this.canvas=i,this.encodings=t,this.options=e}return N(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var e=(0,A.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(e,this.encodings[t]),this.drawCanvasText(e,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,h.calculateEncodingAttributes)(this.encodings,this.options,t);var e=(0,h.getTotalWidthOfEncodings)(this.encodings),n=(0,h.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,e){var n=this.canvas.getContext("2d"),r=e.data,o;t.textPosition=="top"?o=t.marginTop+t.fontSize+t.textMargin:o=t.marginTop,n.fillStyle=t.lineColor;for(var u=0;u<r.length;u++){var s=u*t.width+e.barcodePadding;r[u]==="1"?n.fillRect(s,o,t.width,t.height):r[u]&&n.fillRect(s,o,t.width,t.height*r[u])}}},{key:"drawCanvasText",value:function(t,e){var n=this.canvas.getContext("2d"),r=t.fontOptions+" "+t.fontSize+"px "+t.font;if(t.displayValue){var o,u;t.textPosition=="top"?u=t.marginTop+t.fontSize-t.textMargin:u=t.height+t.textMargin+t.marginTop+t.fontSize,n.font=r,t.textAlign=="left"||e.barcodePadding>0?(o=0,n.textAlign="left"):t.textAlign=="right"?(o=e.width-1,n.textAlign="right"):(o=e.width/2,n.textAlign="center"),n.fillText(e.text,o,u)}}},{key:"moveCanvasDrawing",value:function(t){var e=this.canvas.getContext("2d");e.translate(t.width,0)}},{key:"restoreCanvas",value:function(){var t=this.canvas.getContext("2d");t.restore()}}]),l}();return ft.default=a,ft}var dt={},vr;function hn(){if(vr)return dt;vr=1,Object.defineProperty(dt,"__esModule",{value:!0});var N=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),E=yt(),A=v(E),h=Tr();function v(i){return i&&i.__esModule?i:{default:i}}function c(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var a="http://www.w3.org/2000/svg",l=function(){function i(t,e,n){c(this,i),this.svg=t,this.encodings=e,this.options=n,this.document=n.xmlDocument||document}return N(i,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var r=this.encodings[n],o=(0,A.default)(this.options,r.options),u=this.createGroup(e,o.marginTop,this.svg);this.setGroupOptions(u,o),this.drawSvgBarcode(u,o,r),this.drawSVGText(u,o,r),e+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,h.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,h.getTotalWidthOfEncodings)(this.encodings),n=(0,h.getMaximumHeightOfEncodings)(this.encodings),r=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,n),this.options.background&&this.drawRect(0,0,r,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,n,r){var o=r.data,u;n.textPosition=="top"?u=n.fontSize+n.textMargin:u=0;for(var s=0,f=0,d=0;d<o.length;d++)f=d*n.width+r.barcodePadding,o[d]==="1"?s++:s>0&&(this.drawRect(f-n.width*s,u,n.width*s,n.height,e),s=0);s>0&&this.drawRect(f-n.width*(s-1),u,n.width*s,n.height,e)}},{key:"drawSVGText",value:function(e,n,r){var o=this.document.createElementNS(a,"text");if(n.displayValue){var u,s;o.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?s=n.fontSize-n.textMargin:s=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||r.barcodePadding>0?(u=0,o.setAttribute("text-anchor","start")):n.textAlign=="right"?(u=r.width-1,o.setAttribute("text-anchor","end")):(u=r.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",u),o.setAttribute("y",s),o.appendChild(this.document.createTextNode(r.text)),e.appendChild(o)}}},{key:"setSvgAttributes",value:function(e,n){var r=this.svg;r.setAttribute("width",e+"px"),r.setAttribute("height",n+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+e+" "+n),r.setAttribute("xmlns",a),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,n,r){var o=this.document.createElementNS(a,"g");return o.setAttribute("transform","translate("+e+", "+n+")"),r.appendChild(o),o}},{key:"setGroupOptions",value:function(e,n){e.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(e,n,r,o,u){var s=this.document.createElementNS(a,"rect");return s.setAttribute("x",e),s.setAttribute("y",n),s.setAttribute("width",r),s.setAttribute("height",o),u.appendChild(s),s}}]),i}();return dt.default=l,dt}var ht={},gr;function pn(){if(gr)return ht;gr=1,Object.defineProperty(ht,"__esModule",{value:!0});var N=function(){function h(v,c){for(var a=0;a<c.length;a++){var l=c[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(v,l.key,l)}}return function(v,c,a){return c&&h(v.prototype,c),a&&h(v,a),v}}();function E(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}var A=function(){function h(v,c,a){E(this,h),this.object=v,this.encodings=c,this.options=a}return N(h,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),h}();return ht.default=A,ht}var _r;function vn(){if(_r)return st;_r=1,Object.defineProperty(st,"__esModule",{value:!0});var N=dn(),E=a(N),A=hn(),h=a(A),v=pn(),c=a(v);function a(l){return l&&l.__esModule?l:{default:l}}return st.default={CanvasRenderer:E.default,SVGRenderer:h.default,ObjectRenderer:c.default},st}var be={},yr;function Dr(){if(yr)return be;yr=1,Object.defineProperty(be,"__esModule",{value:!0});function N(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function E(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function A(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var h=function(a){A(l,a);function l(i,t){N(this,l);var e=E(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.name="InvalidInputException",e.symbology=i,e.input=t,e.message='"'+e.input+'" is not a valid input for '+e.symbology,e}return l}(Error),v=function(a){A(l,a);function l(){N(this,l);var i=E(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return l}(Error),c=function(a){A(l,a);function l(){N(this,l);var i=E(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return l}(Error);return be.InvalidInputException=h,be.InvalidElementException=v,be.NoElementException=c,be}var xr;function gn(){if(xr)return it;xr=1,Object.defineProperty(it,"__esModule",{value:!0});var N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=fn(),A=a(E),h=vn(),v=a(h),c=Dr();function a(e){return e&&e.__esModule?e:{default:e}}function l(e){if(typeof e=="string")return i(e);if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++)n.push(l(e[r]));return n}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return t(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,A.default)(e),renderer:v.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,A.default)(e),renderer:v.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:v.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":N(e))==="object"&&!e.nodeName)return{element:e,renderer:v.default.ObjectRenderer};throw new c.InvalidElementException}}function i(e){var n=document.querySelectorAll(e);if(n.length!==0){for(var r=[],o=0;o<n.length;o++)r.push(l(n[o]));return r}}function t(e){var n=document.createElement("canvas");return{element:n,options:(0,A.default)(e),renderer:v.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",n.toDataURL())}}}return it.default=l,it}var pt={},mr;function _n(){if(mr)return pt;mr=1,Object.defineProperty(pt,"__esModule",{value:!0});var N=function(){function h(v,c){for(var a=0;a<c.length;a++){var l=c[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(v,l.key,l)}}return function(v,c,a){return c&&h(v.prototype,c),a&&h(v,a),v}}();function E(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}var A=function(){function h(v){E(this,h),this.api=v}return N(h,[{key:"handleCatch",value:function(c){if(c.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw c.message;else throw c;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(c){try{var a=c.apply(void 0,arguments);return this.api._options.valid(!0),a}catch(l){return this.handleCatch(l),this.api}}}]),h}();return pt.default=A,pt}var bt,br;function yn(){if(br)return bt;br=1;var N=cn(),E=d(N),A=yt(),h=d(A),v=ln(),c=d(v),a=sn(),l=d(a),i=gn(),t=d(i),e=Ar(),n=d(e),r=_n(),o=d(r),u=Dr(),s=Nr(),f=d(s);function d(C){return C&&C.__esModule?C:{default:C}}var p=function(){},_=function(z,j,m){var T=new p;if(typeof z>"u")throw Error("No element to render on was provided.");return T._renderProperties=(0,t.default)(z),T._encodings=[],T._options=f.default,T._errorHandler=new o.default(T),typeof j<"u"&&(m=m||{},m.format||(m.format=w()),T.options(m)[m.format](j,m).render()),T};_.getModule=function(C){return E.default[C]};for(var y in E.default)E.default.hasOwnProperty(y)&&O(E.default,y);function O(C,z){p.prototype[z]=p.prototype[z.toUpperCase()]=p.prototype[z.toLowerCase()]=function(j,m){var T=this;return T._errorHandler.wrapBarcodeCall(function(){m.text=typeof m.text>"u"?void 0:""+m.text;var k=(0,h.default)(T._options,m);k=(0,n.default)(k);var I=C[z],P=x(j,I,k);return T._encodings.push(P),T})}}function x(C,z,j){C=""+C;var m=new z(C,j);if(!m.valid())throw new u.InvalidInputException(m.constructor.name,C);var T=m.encode();T=(0,c.default)(T);for(var k=0;k<T.length;k++)T[k].options=(0,h.default)(j,T[k].options);return T}function w(){return E.default.CODE128?"CODE128":Object.keys(E.default)[0]}p.prototype.options=function(C){return this._options=(0,h.default)(this._options,C),this},p.prototype.blank=function(C){var z=new Array(C+1).join("0");return this._encodings.push({data:z}),this},p.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var C;for(var z in this._renderProperties){C=this._renderProperties[z];var j=(0,h.default)(this._options,C.options);j.format=="auto"&&(j.format=w()),this._errorHandler.wrapBarcodeCall(function(){var m=j.value,T=E.default[j.format.toUpperCase()],k=x(m,T,j);R(C,k,j)})}}},p.prototype.render=function(){if(!this._renderProperties)throw new u.NoElementException;if(Array.isArray(this._renderProperties))for(var C=0;C<this._renderProperties.length;C++)R(this._renderProperties[C],this._encodings,this._options);else R(this._renderProperties,this._encodings,this._options);return this},p.prototype._defaults=f.default;function R(C,z,j){z=(0,c.default)(z);for(var m=0;m<z.length;m++)z[m].options=(0,h.default)(j,z[m].options),(0,l.default)(z[m].options);(0,l.default)(j);var T=C.renderer,k=new T(C.element,z,j);k.render(),C.afterRender&&C.afterRender()}return typeof window<"u"&&(window.JsBarcode=_),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(C,z){var j=[];return jQuery(this).each(function(){j.push(this)}),_(j,C,z)}),bt=_,bt}var xn=yn();const mn=Or(xn),bn=({value:N,format:E="CODE128",width:A=2,height:h=100,displayValue:v=!0,onGenerate:c=null,className:a=""})=>{const l=ne.useRef(null),[i,t]=ne.useState(!1),[e,n]=ne.useState(null);ne.useEffect(()=>{if(N&&l.current)try{mn(l.current,N,{format:E,width:A,height:h,displayValue:v,fontSize:14,textAlign:"center",textPosition:"bottom",textMargin:2,background:"#ffffff",lineColor:"#000000",margin:10}),t(!0),n(null),c&&c(l.current.toDataURL())}catch(u){n("خطأ في توليد الباركود: "+u.message),t(!1)}},[N,E,A,h,v]);const r=()=>{if(l.current&&i){const u=document.createElement("a");u.download=`barcode-${N}.png`,u.href=l.current.toDataURL(),u.click()}},o=()=>{if(l.current&&i){const u=window.open("","_blank"),s=l.current;u.document.write(`
                <html>
                    <head>
                        <title>طباعة باركود - ${N}</title>
                        <style>
                            body {
                                margin: 0;
                                padding: 20px;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                min-height: 100vh;
                                font-family: Arial, sans-serif;
                            }
                            .barcode-container {
                                text-align: center;
                                border: 2px solid #000;
                                padding: 20px;
                                background: white;
                            }
                            h3 { margin: 0 0 15px 0; }
                            @media print {
                                body { margin: 0; }
                                .barcode-container { border: none; }
                            }
                        </style>
                    </head>
                    <body>
                        <div class="barcode-container">
                            <h3>الباركود: ${N}</h3>
                            <img src="${s.toDataURL()}" alt="Barcode" />
                        </div>
                    </body>
                </html>
            `),u.document.close(),u.focus(),setTimeout(()=>{u.print(),u.close()},250)}};return N?g.jsx("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${a}`,children:e?g.jsx("div",{className:"text-red-600 text-center p-4",children:g.jsx("div",{className:"text-sm",children:e})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-center mb-4",children:g.jsx("canvas",{ref:l,className:"max-w-full h-auto"})}),i&&g.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[g.jsxs("button",{onClick:r,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"تحميل"]}),g.jsxs("button",{onClick:o,className:"px-3 py-1 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"طباعة"]})]})]})}):g.jsx("div",{className:`bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center ${a}`,children:g.jsxs("div",{className:"text-gray-400",children:[g.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),g.jsx("p",{className:"text-sm",children:"أدخل رقم الباركود لمعاينة الباركود"})]})})};var vt={exports:{}},En=vt.exports,Er;function wn(){return Er||(Er=1,function(N,E){(function(A,h){N.exports=h(h.toString()).default})(En,function(A){return function(h){function v(a){if(c[a])return c[a].exports;var l=c[a]={i:a,l:!1,exports:{}};return h[a].call(l.exports,l,l.exports,v),l.l=!0,l.exports}var c={};return v.m=h,v.c=c,v.i=function(a){return a},v.d=function(a,l,i){v.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:i})},v.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return v.d(l,"a",l),l},v.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},v.p="/",v(v.s=166)}([function(h,v){function c(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}h.exports=c},function(h,v,c){function a(i,t){return this._row=[],this.config=i||{},this.supplements=t,this}var l=c(3);a.prototype._nextUnset=function(i,t){var e;for(t===void 0&&(t=0),e=t;e<i.length;e++)if(!i[e])return e;return i.length},a.prototype._matchPattern=function(i,t,e){var n,r,o,u,s=0,f=0,d=0,p=0;for(e=e||this.SINGLE_CODE_ERROR||1,n=0;n<i.length;n++)d+=i[n],p+=t[n];if(d<p)return Number.MAX_VALUE;for(r=d/p,e*=r,n=0;n<i.length;n++){if(o=i[n],u=t[n]*r,(f=Math.abs(o-u)/u)>e)return Number.MAX_VALUE;s+=f}return s/p},a.prototype._nextSet=function(i,t){var e;for(t=t||0,e=t;e<i.length;e++)if(i[e])return e;return i.length},a.prototype._correctBars=function(i,t,e){for(var n=e.length,r=0;n--;)(r=i[e[n]]*(1-(1-t)/2))>1&&(i[e[n]]=r)},a.prototype._matchTrace=function(i,t){var e,n,r=[],o=this,u=o._nextSet(o._row),s=!o._row[u],f=0,d={error:Number.MAX_VALUE,code:-1,start:0};if(i){for(e=0;e<i.length;e++)r.push(0);for(e=u;e<o._row.length;e++)if(o._row[e]^s)r[f]++;else{if(f===r.length-1)return n=o._matchPattern(r,i),n<t?(d.start=e-u,d.end=e,d.counter=r,d):null;f++,r[f]=1,s=!s}}else for(r.push(0),e=u;e<o._row.length;e++)o._row[e]^s?r[f]++:(f++,r.push(0),r[f]=1,s=!s);return d.start=u,d.end=o._row.length-1,d.counter=r,d},a.prototype.decodePattern=function(i){var t,e=this;return e._row=i,t=e._decode(),t===null?(e._row.reverse(),(t=e._decode())&&(t.direction=a.DIRECTION.REVERSE,t.start=e._row.length-t.start,t.end=e._row.length-t.end)):t.direction=a.DIRECTION.FORWARD,t&&(t.format=e.FORMAT),t},a.prototype._matchRange=function(i,t,e){var n;for(i=i<0?0:i,n=i;n<t;n++)if(this._row[n]!==e)return!1;return!0},a.prototype._fillCounters=function(i,t,e){var n,r=this,o=0,u=[];for(e=e===void 0||e,i=i!==void 0?i:r._nextUnset(r._row),t=t||r._row.length,u[o]=0,n=i;n<t;n++)r._row[n]^e?u[o]++:(o++,u[o]=1,e=!e);return u},a.prototype._toCounters=function(i,t){var e,n=this,r=t.length,o=n._row.length,u=!n._row[i],s=0;for(l.a.init(t,0),e=i;e<o;e++)if(n._row[e]^u)t[s]++;else{if(++s===r)break;t[s]=1,u=!u}return t},Object.defineProperty(a.prototype,"FORMAT",{value:"unknown",writeable:!1}),a.DIRECTION={FORWARD:1,REVERSE:-1},a.Exception={StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"},a.CONFIG_KEYS={},v.a=a},function(h,v){var c=Array.isArray;h.exports=c},function(h,v,c){v.a={init:function(a,l){for(var i=a.length;i--;)a[i]=l},shuffle:function(a){var l,i,t=a.length-1;for(t;t>=0;t--)l=Math.floor(Math.random()*t),i=a[t],a[t]=a[l],a[l]=i;return a},toPointList:function(a){var l,i,t=[],e=[];for(l=0;l<a.length;l++){for(t=[],i=0;i<a[l].length;i++)t[i]=a[l][i];e[l]="["+t.join(",")+"]"}return"["+e.join(`,\r
`)+"]"},threshold:function(a,l,i){var t,e=[];for(t=0;t<a.length;t++)i.apply(a,[a[t]])>=l&&e.push(a[t]);return e},maxIndex:function(a){var l,i=0;for(l=0;l<a.length;l++)a[l]>a[i]&&(i=l);return i},max:function(l){var i,t=0;for(i=0;i<l.length;i++)l[i]>t&&(t=l[i]);return t},sum:function(l){for(var i=l.length,t=0;i--;)t+=l[i];return t}}},function(h,v,c){function a(o,u){o=t()(l(),o),e.a.call(this,o,u)}function l(){var o={};return Object.keys(a.CONFIG_KEYS).forEach(function(u){o[u]=a.CONFIG_KEYS[u].default}),o}var i=c(28),t=c.n(i),e=c(1),n=Object.assign||function(o){for(var u=1;u<arguments.length;u++){var s=arguments[u];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(o[f]=s[f])}return o},r={CODE_L_START:{value:0},CODE_G_START:{value:10},START_PATTERN:{value:[1,1,1]},STOP_PATTERN:{value:[1,1,1]},MIDDLE_PATTERN:{value:[1,1,1,1,1]},EXTENSION_START_PATTERN:{value:[1,1,2]},CODE_PATTERN:{value:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]]},CODE_FREQUENCY:{value:[0,11,13,14,19,25,28,21,22,26]},SINGLE_CODE_ERROR:{value:.7},AVG_CODE_ERROR:{value:.48},FORMAT:{value:"ean_13",writeable:!1}};a.prototype=Object.create(e.a.prototype,r),a.prototype.constructor=a,a.prototype._decodeCode=function(o,u){var s,f,d,p=[0,0,0,0],_=this,y=o,O=!_._row[y],x=0,w={error:Number.MAX_VALUE,code:-1,start:o,end:o};for(u||(u=_.CODE_PATTERN.length),s=y;s<_._row.length;s++)if(_._row[s]^O)p[x]++;else{if(x===p.length-1){for(f=0;f<u;f++)(d=_._matchPattern(p,_.CODE_PATTERN[f]))<w.error&&(w.code=f,w.error=d);return w.end=s,w.error>_.AVG_CODE_ERROR?null:w}x++,p[x]=1,O=!O}return null},a.prototype._findPattern=function(o,u,s,f,d){var p,_,y,O,x=[],w=this,R=0,C={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(u||(u=w._nextSet(w._row)),s===void 0&&(s=!1),f===void 0&&(f=!0),d===void 0&&(d=w.AVG_CODE_ERROR),p=0;p<o.length;p++)x[p]=0;for(p=u;p<w._row.length;p++)if(w._row[p]^s)x[R]++;else{if(R===x.length-1){for(O=0,y=0;y<x.length;y++)O+=x[y];if((_=w._matchPattern(x,o))<d)return C.error=_,C.start=p-O,C.end=p,C;if(!f)return null;for(y=0;y<x.length-2;y++)x[y]=x[y+2];x[x.length-2]=0,x[x.length-1]=0,R--}else R++;x[R]=1,s=!s}return null},a.prototype._findStart=function(){for(var o,u,s=this,f=s._nextSet(s._row);!u;){if(!(u=s._findPattern(s.START_PATTERN,f)))return null;if((o=u.start-(u.end-u.start))>=0&&s._matchRange(o,u.start,0))return u;f=u.end,u=null}},a.prototype._verifyTrailingWhitespace=function(o){var u,s=this;return u=o.end+(o.end-o.start),u<s._row.length&&s._matchRange(o.end,u,0)?o:null},a.prototype._findEnd=function(o,u){var s=this,f=s._findPattern(s.STOP_PATTERN,o,u,!1);return f!==null?s._verifyTrailingWhitespace(f):null},a.prototype._calculateFirstDigit=function(o){var u,s=this;for(u=0;u<s.CODE_FREQUENCY.length;u++)if(o===s.CODE_FREQUENCY[u])return u;return null},a.prototype._decodePayload=function(o,u,s){var f,d,p=this,_=0;for(f=0;f<6;f++){if(!(o=p._decodeCode(o.end)))return null;o.code>=p.CODE_G_START?(o.code=o.code-p.CODE_G_START,_|=1<<5-f):_|=0<<5-f,u.push(o.code),s.push(o)}if((d=p._calculateFirstDigit(_))===null||(u.unshift(d),(o=p._findPattern(p.MIDDLE_PATTERN,o.end,!0,!1))===null))return null;for(s.push(o),f=0;f<6;f++){if(!(o=p._decodeCode(o.end,p.CODE_G_START)))return null;s.push(o),u.push(o.code)}return o},a.prototype._decode=function(){var o,u,s=this,f=[],d=[],p={};if(!(o=s._findStart())||(u={code:o.code,start:o.start,end:o.end},d.push(u),!(u=s._decodePayload(u,f,d)))||!(u=s._findEnd(u.end,!1))||(d.push(u),!s._checksum(f)))return null;if(this.supplements.length>0){var _=this._decodeExtensions(u.end);if(!_)return null;var y=_.decodedCodes[_.decodedCodes.length-1],O={start:y.start+((y.end-y.start)/2|0),end:y.end};if(!s._verifyTrailingWhitespace(O))return null;p={supplement:_,code:f.join("")+_.code}}return n({code:f.join(""),start:o.start,end:u.end,codeset:"",startInfo:o,decodedCodes:d},p)},a.prototype._decodeExtensions=function(o){var u,s,f=this._nextSet(this._row,o),d=this._findPattern(this.EXTENSION_START_PATTERN,f,!1,!1);if(d===null)return null;for(u=0;u<this.supplements.length;u++)if((s=this.supplements[u].decode(this._row,d.end))!==null)return{code:s.code,start:f,startInfo:d,end:s.end,codeset:"",decodedCodes:s.decodedCodes};return null},a.prototype._checksum=function(o){var u,s=0;for(u=o.length-2;u>=0;u-=2)s+=o[u];for(s*=3,u=o.length-1;u>=0;u-=2)s+=o[u];return s%10==0},a.CONFIG_KEYS={supplements:{type:"arrayOf(string)",default:[],description:"Allowed extensions to be decoded (2 and/or 5)"}},v.a=a},function(h,v,c){var a=c(38),l=typeof self=="object"&&self&&self.Object===Object&&self,i=a||l||Function("return this")();h.exports=i},function(h,v){function c(a){return a!=null&&typeof a=="object"}h.exports=c},function(h,v){function c(a){var l=new Float32Array(2);return l[0]=a[0],l[1]=a[1],l}h.exports=c},function(h,v,c){function a(o){return o==null?o===void 0?n:e:r&&r in Object(o)?i(o):t(o)}var l=c(11),i=c(119),t=c(146),e="[object Null]",n="[object Undefined]",r=l?l.toStringTag:void 0;h.exports=a},function(h,v,c){v.a={drawRect:function(a,l,i,t){i.strokeStyle=t.color,i.fillStyle=t.color,i.lineWidth=1,i.beginPath(),i.strokeRect(a.x,a.y,l.x,l.y)},drawPath:function(a,l,i,t){i.strokeStyle=t.color,i.fillStyle=t.color,i.lineWidth=t.lineWidth,i.beginPath(),i.moveTo(a[0][l.x],a[0][l.y]);for(var e=1;e<a.length;e++)i.lineTo(a[e][l.x],a[e][l.y]);i.closePath(),i.stroke()},drawImage:function(a,l,i){var t,e=i.getImageData(0,0,l.x,l.y),n=e.data,r=a.length,o=n.length;if(o/r!=4)return!1;for(;r--;)t=a[r],n[--o]=255,n[--o]=t,n[--o]=t,n[--o]=t;return i.putImageData(e,0,0),!0}}},function(h,v,c){function a(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var s=r[o];this.set(s[0],s[1])}}var l=c(133),i=c(134),t=c(135),e=c(136),n=c(137);a.prototype.clear=l,a.prototype.delete=i,a.prototype.get=t,a.prototype.has=e,a.prototype.set=n,h.exports=a},function(h,v,c){var a=c(5),l=a.Symbol;h.exports=l},function(h,v,c){function a(i,t){for(var e=i.length;e--;)if(l(i[e][0],t))return e;return-1}var l=c(17);h.exports=a},function(h,v,c){function a(n,r){return l(n)?n:i(n,r)?[n]:t(e(n))}var l=c(2),i=c(130),t=c(154),e=c(165);h.exports=a},function(h,v,c){function a(i,t){var e=i.__data__;return l(t)?e[typeof t=="string"?"string":"hash"]:e.map}var l=c(131);h.exports=a},function(h,v){function c(i,t){return!!(t=t??a)&&(typeof i=="number"||l.test(i))&&i>-1&&i%1==0&&i<t}var a=9007199254740991,l=/^(?:0|[1-9]\d*)$/;h.exports=c},function(h,v,c){var a=c(22),l=a(Object,"create");h.exports=l},function(h,v){function c(a,l){return a===l||a!==a&&l!==l}h.exports=c},function(h,v,c){var a=c(96),l=c(6),i=Object.prototype,t=i.hasOwnProperty,e=i.propertyIsEnumerable,n=a(function(){return arguments}())?a:function(r){return l(r)&&t.call(r,"callee")&&!e.call(r,"callee")};h.exports=n},function(h,v,c){function a(j,m){return{x:j,y:m,toVec2:function(){return R.clone([this.x,this.y])},toVec3:function(){return C.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function l(j,m,T){T||(T=j);for(var k=j.data,I=k.length,P=T.data;I--;)P[I]=k[I]<m?1:0}function i(j,m){m||(m=8);for(var T=j.data,k=T.length,I=8-m,P=1<<m,q=new Int32Array(P);k--;)q[T[k]>>I]++;return q}function t(j,m){function T(G,$){var F,b=0;for(F=G;F<=$;F++)b+=P[F];return b}function k(G,$){var F,b=0;for(F=G;F<=$;F++)b+=F*P[F];return b}function I(){var G,$,F,b,V,U,S,D=[0],B=(1<<m)-1;for(P=i(j,m),b=1;b<B;b++)G=T(0,b),$=T(b+1,B),F=G*$,F===0&&(F=1),V=k(0,b)*$,U=k(b+1,B)*G,S=V-U,D[b]=S*S/F;return w.a.maxIndex(D)}m||(m=8);var P,q=8-m;return I()<<q}function e(j,m){var T=t(j);return l(j,T,m),T}function n(j,m,T){function k(F){var b=!1;for(P=0;P<$.length;P++)q=$[P],q.fits(F)&&(q.add(F),b=!0);return b}var I,P,q,G,$=[];for(T||(T="rad"),I=0;I<j.length;I++)G=x.a.createPoint(j[I],I,T),k(G)||$.push(x.a.create(G,m));return $}function r(j,m,T){var k,I,P,q,G=0,$=0,F=[];for(k=0;k<m;k++)F[k]={score:0,item:null};for(k=0;k<j.length;k++)if((I=T.apply(this,[j[k]]))>$)for(P=F[G],P.score=I,P.item=j[k],$=Number.MAX_VALUE,q=0;q<m;q++)F[q].score<$&&($=F[q].score,G=q);return F}function o(j,m,T){for(var k,I=0,P=m.x,q=Math.floor(j.length/4),G=m.x/2,$=0,F=m.x;P<q;){for(k=0;k<G;k++)T[$]=(.299*j[4*I+0]+.587*j[4*I+1]+.114*j[4*I+2]+(.299*j[4*(I+1)+0]+.587*j[4*(I+1)+1]+.114*j[4*(I+1)+2])+(.299*j[4*P+0]+.587*j[4*P+1]+.114*j[4*P+2])+(.299*j[4*(P+1)+0]+.587*j[4*(P+1)+1]+.114*j[4*(P+1)+2]))/4,$++,I+=2,P+=2;I+=F,P+=F}}function u(j,m,T){var k,I=j.length/4|0;if(T&&T.singleChannel===!0)for(k=0;k<I;k++)m[k]=j[4*k+0];else for(k=0;k<I;k++)m[k]=.299*j[4*k+0]+.587*j[4*k+1]+.114*j[4*k+2]}function s(j,m){for(var T=j.data,k=j.size.x,I=m.data,P=0,q=k,G=T.length,$=k/2,F=0;q<G;){for(var b=0;b<$;b++)I[F]=Math.floor((T[P]+T[P+1]+T[q]+T[q+1])/4),F++,P+=2,q+=2;P+=k,q+=k}}function f(j,m){var T=j[0],k=j[1],I=j[2],P=I*k,q=P*(1-Math.abs(T/60%2-1)),G=I-P,$=0,F=0,b=0;return m=m||[0,0,0],T<60?($=P,F=q):T<120?($=q,F=P):T<180?(F=P,b=q):T<240?(F=q,b=P):T<300?($=q,b=P):T<360&&($=P,b=q),m[0]=255*($+G)|0,m[1]=255*(F+G)|0,m[2]=255*(b+G)|0,m}function d(j){var m,T=[],k=[];for(m=1;m<Math.sqrt(j)+1;m++)j%m==0&&(k.push(m),m!==j/m&&T.unshift(Math.floor(j/m)));return k.concat(T)}function p(j,m){for(var T=0,k=0,I=[];T<j.length&&k<m.length;)j[T]===m[k]?(I.push(j[T]),T++,k++):j[T]>m[k]?k++:T++;return I}function _(j,m){function T(S){for(var D=0,B=S[Math.floor(S.length/2)];D<S.length-1&&S[D]<U;)D++;return D>0&&(B=Math.abs(S[D]-U)>Math.abs(S[D-1]-U)?S[D-1]:S[D]),U/B<$[b+1]/$[b]&&U/B>$[b-1]/$[b]?{x:B,y:B}:null}var k,I=d(m.x),P=d(m.y),q=Math.max(m.x,m.y),G=p(I,P),$=[8,10,15,20,32,60,80],F={"x-small":5,small:4,medium:3,large:2,"x-large":1},b=F[j]||F.medium,V=$[b],U=Math.floor(q/V);return k=T(G),k||(k=T(d(q)))||(k=T(d(U*V))),k}function y(j){return{value:parseFloat(j),unit:(j.indexOf("%"),j.length,"%")}}function O(j,m,T){var k={width:j,height:m},I=Object.keys(T).reduce(function(P,q){var G=T[q],$=y(G),F=z[q]($,k);return P[q]=F,P},{});return{sx:I.left,sy:I.top,sw:I.right-I.left,sh:I.bottom-I.top}}var x=c(50),w=c(3);v.b=a,v.f=e,v.g=n,v.h=r,v.c=o,v.d=u,v.i=s,v.a=f,v.e=_,v.j=O;var R={clone:c(7)},C={clone:c(83)},z={top:function(j,m){if(j.unit==="%")return Math.floor(m.height*(j.value/100))},right:function(j,m){if(j.unit==="%")return Math.floor(m.width-m.width*(j.value/100))},bottom:function(j,m){if(j.unit==="%")return Math.floor(m.height-m.height*(j.value/100))},left:function(j,m){if(j.unit==="%")return Math.floor(m.width*(j.value/100))}}},function(h,v,c){function a(n,r,o,u){r?this.data=r:o?(this.data=new o(n.x*n.y),o===Array&&u&&t.a.init(this.data,0)):(this.data=new Uint8Array(n.x*n.y),Uint8Array===Array&&u&&t.a.init(this.data,0)),this.size=n}var l=c(53),i=c(19),t=c(3),e={clone:c(7)};a.prototype.inImageWithBorder=function(n,r){return n.x>=r&&n.y>=r&&n.x<this.size.x-r&&n.y<this.size.y-r},a.sample=function(n,r,o){var u=Math.floor(r),s=Math.floor(o),f=n.size.x,d=s*n.size.x+u,p=n.data[d+0],_=n.data[d+1],y=n.data[d+f],O=n.data[d+f+1],x=p-_;return r-=u,o-=s,Math.floor(r*(o*(x-y+O)-x)+o*(y-p)+p)},a.clearArray=function(n){for(var r=n.length;r--;)n[r]=0},a.prototype.subImage=function(n,r){return new l.a(n,r,this)},a.prototype.subImageAsCopy=function(n,r){var o,u,s=n.size.y,f=n.size.x;for(o=0;o<f;o++)for(u=0;u<s;u++)n.data[u*f+o]=this.data[(r.y+u)*this.size.x+r.x+o]},a.prototype.copyTo=function(n){for(var r=this.data.length,o=this.data,u=n.data;r--;)u[r]=o[r]},a.prototype.get=function(n,r){return this.data[r*this.size.x+n]},a.prototype.getSafe=function(n,r){var o;if(!this.indexMapping){for(this.indexMapping={x:[],y:[]},o=0;o<this.size.x;o++)this.indexMapping.x[o]=o,this.indexMapping.x[o+this.size.x]=o;for(o=0;o<this.size.y;o++)this.indexMapping.y[o]=o,this.indexMapping.y[o+this.size.y]=o}return this.data[this.indexMapping.y[r+this.size.y]*this.size.x+this.indexMapping.x[n+this.size.x]]},a.prototype.set=function(n,r,o){return this.data[r*this.size.x+n]=o,this},a.prototype.zeroBorder=function(){var n,r=this.size.x,o=this.size.y,u=this.data;for(n=0;n<r;n++)u[n]=u[(o-1)*r+n]=0;for(n=1;n<o-1;n++)u[n*r]=u[n*r+(r-1)]=0},a.prototype.invert=function(){for(var n=this.data,r=n.length;r--;)n[r]=n[r]?0:1},a.prototype.convolve=function(n){var r,o,u,s,f=n.length/2|0,d=0;for(o=0;o<this.size.y;o++)for(r=0;r<this.size.x;r++){for(d=0,s=-f;s<=f;s++)for(u=-f;u<=f;u++)d+=n[s+f][u+f]*this.getSafe(r+u,o+s);this.data[o*this.size.x+r]=d}},a.prototype.moments=function(n){var r,o,u,s,f,d,p,_,y,O,x,w,R=this.data,C=this.size.y,z=this.size.x,j=[],m=[],T=Math.PI,k=T/4;if(n<=0)return m;for(f=0;f<n;f++)j[f]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(o=0;o<C;o++)for(s=o*o,r=0;r<z;r++)(u=R[o*z+r])>0&&(d=j[u-1],d.m00+=1,d.m01+=o,d.m10+=r,d.m11+=r*o,d.m02+=s,d.m20+=r*r);for(f=0;f<n;f++)d=j[f],isNaN(d.m00)||d.m00===0||(O=d.m10/d.m00,x=d.m01/d.m00,p=d.m11/d.m00-O*x,_=d.m02/d.m00-x*x,y=d.m20/d.m00-O*O,w=(_-y)/(2*p),w=.5*Math.atan(w)+(p>=0?k:-k)+T,d.theta=(180*w/T+90)%180-90,d.theta<0&&(d.theta+=180),d.rad=w>T?w-T:w,d.vec=e.clone([Math.cos(w),Math.sin(w)]),m.push(d));return m},a.prototype.show=function(n,r){var o,u,s,f,d,p,_;for(r||(r=1),o=n.getContext("2d"),n.width=this.size.x,n.height=this.size.y,u=o.getImageData(0,0,n.width,n.height),s=u.data,f=0,_=0;_<this.size.y;_++)for(p=0;p<this.size.x;p++)d=_*this.size.x+p,f=this.get(p,_)*r,s[4*d+0]=f,s[4*d+1]=f,s[4*d+2]=f,s[4*d+3]=255;o.putImageData(u,0,0)},a.prototype.overlay=function(n,r,o){(!r||r<0||r>360)&&(r=360);for(var u=[0,1,1],s=[0,0,0],f=[255,255,255],d=[0,0,0],p=[],_=n.getContext("2d"),y=_.getImageData(o.x,o.y,this.size.x,this.size.y),O=y.data,x=this.data.length;x--;)u[0]=this.data[x]*r,p=u[0]<=0?f:u[0]>=360?d:c.i(i.a)(u,s),O[4*x+0]=p[0],O[4*x+1]=p[1],O[4*x+2]=p[2],O[4*x+3]=255;_.putImageData(y,o.x,o.y)},v.a=a},function(h,v,c){function a(i,t,e){t=="__proto__"&&l?l(i,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[t]=e}var l=c(37);h.exports=a},function(h,v,c){function a(t,e){var n=i(t,e);return l(n)?n:void 0}var l=c(97),i=c(120);h.exports=a},function(h,v,c){function a(i){if(typeof i=="string"||l(i))return i;var t=i+"";return t=="0"&&1/i==-1/0?"-0":t}var l=c(27);h.exports=a},function(h,v,c){function a(t){return t!=null&&i(t.length)&&!l(t)}var l=c(25),i=c(26);h.exports=a},function(h,v,c){function a(o){if(!i(o))return!1;var u=l(o);return u==e||u==n||u==t||u==r}var l=c(8),i=c(0),t="[object AsyncFunction]",e="[object Function]",n="[object GeneratorFunction]",r="[object Proxy]";h.exports=a},function(h,v){function c(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=a}var a=9007199254740991;h.exports=c},function(h,v,c){function a(e){return typeof e=="symbol"||i(e)&&l(e)==t}var l=c(8),i=c(6),t="[object Symbol]";h.exports=a},function(h,v,c){var a=c(100),l=c(116),i=l(function(t,e,n){a(t,e,n)});h.exports=i},function(h,v){h.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),c.webpackPolyfill=1),c}},function(h,v,c){var a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(l,i){function t(d,p,_,y){var O,x,w;for(O=0;O<7;O++){if(x=d.cy+s[d.dir][0],w=d.cx+s[d.dir][1],r=x*f+w,o[r]===p&&(u[r]===0||u[r]===_))return u[r]=_,d.cy=x,d.cx=w,!0;u[r]===0&&(u[r]=y),d.dir=(d.dir+1)%8}return!1}function e(d,p,_){return{dir:_,x:d,y:p,next:null,prev:null}}function n(d,p,_,y,O){var x,w,R,C=null,z={cx:p,cy:d,dir:0};if(t(z,y,_,O)){C=e(p,d,z.dir),x=C,R=z.dir,w=e(z.cx,z.cy,0),w.prev=x,x.next=w,w.next=null,x=w;do z.dir=(z.dir+6)%8,t(z,y,_,O),R!==z.dir?(x.dir=z.dir,w=e(z.cx,z.cy,0),w.prev=x,x.next=w,w.next=null,x=w):(x.dir=R,x.x=z.cx,x.y=z.cy),R=z.dir;while(z.cx!==p||z.cy!==d);C.prev=x.prev,x.prev.next=C}return C}var r,o=l.data,u=i.data,s=this.searchDirections,f=l.size.x;return{trace:function(d,p,_,y){return t(d,p,_,y)},contourTracing:function(d,p,_,y,O){return n(d,p,_,y,O)}}}};v.a=a},function(h,v,c){function a(){l.a.call(this)}var l=c(1),i=c(3),t={ALPHABETH_STRING:{value:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,46,32,42,36,47,43,37]},CHARACTER_ENCODINGS:{value:[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]},ASTERISK:{value:148},FORMAT:{value:"code_39",writeable:!1}};a.prototype=Object.create(l.a.prototype,t),a.prototype.constructor=a,a.prototype._decode=function(){var e,n,r,o,u=this,s=[0,0,0,0,0,0,0,0,0],f=[],d=u._findStart();if(!d)return null;o=u._nextSet(u._row,d.end);do{if(s=u._toCounters(o,s),(r=u._toPattern(s))<0||(e=u._patternToChar(r))<0)return null;f.push(e),n=o,o+=i.a.sum(s),o=u._nextSet(u._row,o)}while(e!=="*");return f.pop(),f.length&&u._verifyTrailingWhitespace(n,o,s)?{code:f.join(""),start:d.start,end:o,startInfo:d,decodedCodes:f}:null},a.prototype._verifyTrailingWhitespace=function(e,n,r){var o=i.a.sum(r);return 3*(n-e-o)>=o},a.prototype._patternToChar=function(e){var n,r=this;for(n=0;n<r.CHARACTER_ENCODINGS.length;n++)if(r.CHARACTER_ENCODINGS[n]===e)return String.fromCharCode(r.ALPHABET[n]);return-1},a.prototype._findNextWidth=function(e,n){var r,o=Number.MAX_VALUE;for(r=0;r<e.length;r++)e[r]<o&&e[r]>n&&(o=e[r]);return o},a.prototype._toPattern=function(e){for(var n,r,o=e.length,u=0,s=o,f=0,d=this;s>3;){for(u=d._findNextWidth(e,u),s=0,n=0,r=0;r<o;r++)e[r]>u&&(n|=1<<o-1-r,s++,f+=e[r]);if(s===3){for(r=0;r<o&&s>0;r++)if(e[r]>u&&(s--,2*e[r]>=f))return-1;return n}}return-1},a.prototype._findStart=function(){var e,n,r,o=this,u=o._nextSet(o._row),s=u,f=[0,0,0,0,0,0,0,0,0],d=0,p=!1;for(e=u;e<o._row.length;e++)if(o._row[e]^p)f[d]++;else{if(d===f.length-1){if(o._toPattern(f)===o.ASTERISK&&(r=Math.floor(Math.max(0,s-(e-s)/4)),o._matchRange(r,s,0)))return{start:s,end:e};for(s+=f[0]+f[1],n=0;n<7;n++)f[n]=f[n+2];f[7]=0,f[8]=0,d--}else d++;f[d]=1,p=!p}return null},v.a=a},function(h,v){function c(a,l){return a[0]*l[0]+a[1]*l[1]}h.exports=c},function(h,v,c){var a=c(22),l=c(5),i=a(l,"Map");h.exports=i},function(h,v,c){function a(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var s=r[o];this.set(s[0],s[1])}}var l=c(138),i=c(139),t=c(140),e=c(141),n=c(142);a.prototype.clear=l,a.prototype.delete=i,a.prototype.get=t,a.prototype.has=e,a.prototype.set=n,h.exports=a},function(h,v,c){function a(t,e,n){(n===void 0||i(t[e],n))&&(n!==void 0||e in t)||l(t,e,n)}var l=c(21),i=c(17);h.exports=a},function(h,v,c){function a(n,r,o){var u=n[r];e.call(n,r)&&i(u,o)&&(o!==void 0||r in n)||l(n,r,o)}var l=c(21),i=c(17),t=Object.prototype,e=t.hasOwnProperty;h.exports=a},function(h,v,c){var a=c(22),l=function(){try{var i=a(Object,"defineProperty");return i({},"",{}),i}catch{}}();h.exports=l},function(h,v,c){(function(a){var l=typeof a=="object"&&a&&a.Object===Object&&a;h.exports=l}).call(v,c(47))},function(h,v,c){var a=c(147),l=a(Object.getPrototypeOf,Object);h.exports=l},function(h,v){function c(l){var i=l&&l.constructor;return l===(typeof i=="function"&&i.prototype||a)}var a=Object.prototype;h.exports=c},function(h,v,c){function a(t,e,n){return e=i(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,u=i(r.length-e,0),s=Array(u);++o<u;)s[o]=r[e+o];o=-1;for(var f=Array(e+1);++o<e;)f[o]=r[o];return f[e]=n(s),l(t,this,f)}}var l=c(87),i=Math.max;h.exports=a},function(h,v,c){var a=c(106),l=c(148),i=l(a);h.exports=i},function(h,v){function c(a){return a}h.exports=c},function(h,v,c){(function(a){var l=c(5),i=c(163),t=typeof v=="object"&&v&&!v.nodeType&&v,e=t&&typeof a=="object"&&a&&!a.nodeType&&a,n=e&&e.exports===t,r=n?l.Buffer:void 0,o=r?r.isBuffer:void 0,u=o||i;a.exports=u}).call(v,c(29)(h))},function(h,v,c){var a=c(98),l=c(109),i=c(145),t=i&&i.isTypedArray,e=t?l(t):a;h.exports=e},function(h,v,c){function a(e){return t(e)?l(e,!0):i(e)}var l=c(88),i=c(99),t=c(24);h.exports=a},function(h,v){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(c=window)}h.exports=c},function(h,v,c){function a(M){r(M),q=S.a.create(ee.decoder,I)}function l(M){var W;if(ee.inputStream.type==="VideoStream")W=document.createElement("video"),m=Q.a.createVideoStream(W);else if(ee.inputStream.type==="ImageStream")m=Q.a.createImageStream();else if(ee.inputStream.type==="LiveStream"){var X=i();X&&((W=X.querySelector("video"))||(W=document.createElement("video"),X.appendChild(W))),m=Q.a.createLiveStream(W),B.a.request(W,ee.inputStream.constraints).then(function(){m.trigger("canrecord")}).catch(function(K){return M(K)})}m.setAttribute("preload","auto"),m.setInputStream(ee.inputStream),m.addEventListener("canrecord",t.bind(void 0,M))}function i(){var M=ee.inputStream.target;if(M&&M.nodeName&&M.nodeType===1)return M;var W=typeof M=="string"?M:"#interactive.viewport";return document.querySelector(W)}function t(M){U.a.checkImageConstraints(m,ee.locator),n(),T=te.a.create(m,J.dom.image),j(ee.numOfWorkers,function(){ee.numOfWorkers===0&&a(),e(M)})}function e(M){m.play(),M()}function n(){if(typeof document<"u"){var M=i();if(J.dom.image=document.querySelector("canvas.imgBuffer"),J.dom.image||(J.dom.image=document.createElement("canvas"),J.dom.image.className="imgBuffer",M&&ee.inputStream.type==="ImageStream"&&M.appendChild(J.dom.image)),J.ctx.image=J.dom.image.getContext("2d"),J.dom.image.width=m.getCanvasSize().x,J.dom.image.height=m.getCanvasSize().y,J.dom.overlay=document.querySelector("canvas.drawingBuffer"),!J.dom.overlay){J.dom.overlay=document.createElement("canvas"),J.dom.overlay.className="drawingBuffer",M&&M.appendChild(J.dom.overlay);var W=document.createElement("br");W.setAttribute("clear","all"),M&&M.appendChild(W)}J.ctx.overlay=J.dom.overlay.getContext("2d"),J.dom.overlay.width=m.getCanvasSize().x,J.dom.overlay.height=m.getCanvasSize().y}}function r(M){I=M||new V.a({x:m.getWidth(),y:m.getHeight()}),P=[ae.clone([0,0]),ae.clone([0,I.size.y]),ae.clone([I.size.x,I.size.y]),ae.clone([I.size.x,0])],U.a.init(I,ee.locator)}function o(){return ee.locate?U.a.locate():[[ae.clone(P[0]),ae.clone(P[1]),ae.clone(P[2]),ae.clone(P[3])]]}function u(M){function W(ve){for(var xt=ve.length;xt--;)ve[xt][0]+=oe,ve[xt][1]+=ge}function X(ve){ve[0].x+=oe,ve[0].y+=ge,ve[1].x+=oe,ve[1].y+=ge}var K,ce=m.getTopRight(),oe=ce.x,ge=ce.y;if(oe!==0||ge!==0){if(M.barcodes)for(K=0;K<M.barcodes.length;K++)u(M.barcodes[K]);if(M.line&&M.line.length===2&&X(M.line),M.box&&W(M.box),M.boxes&&M.boxes.length>0)for(K=0;K<M.boxes.length;K++)W(M.boxes[K])}}function s(M,W){W&&G&&(M.barcodes?M.barcodes.filter(function(X){return X.codeResult}).forEach(function(X){return s(X,W)}):M.codeResult&&G.addResult(W,m.getCanvasSize(),M.codeResult))}function f(M){return M&&(M.barcodes?M.barcodes.some(function(W){return W.codeResult}):M.codeResult)}function d(M,W){var X=M;M&&de&&(u(M),s(M,W),X=M.barcodes||M),D.a.publish("processed",X),f(M)&&D.a.publish("detected",X)}function p(){var M,W;W=o(),W?(M=q.decodeFromBoundingBoxes(W),M=M||{},M.boxes=W,d(M,I.data)):d()}function _(){var M;if(de){if(ie.length>0){if(!(M=ie.filter(function(W){return!W.busy})[0]))return;T.attachData(M.imageData)}else T.attachData(I.data);T.grab()&&(M?(M.busy=!0,M.worker.postMessage({cmd:"process",imageData:M.imageData},[M.imageData.buffer])):p())}else p()}function y(){var M=null,W=1e3/(ee.frequency||60);k=!1,function X(K){M=M||K,k||(K>=M&&(M+=W,_()),window.requestAnimFrame(X))}(performance.now())}function O(){de&&ee.inputStream.type==="LiveStream"?y():_()}function x(M){var W,X={worker:void 0,imageData:new Uint8Array(m.getWidth()*m.getHeight()),busy:!0};W=C(),X.worker=new Worker(W),X.worker.onmessage=function(K){if(K.data.event==="initialized")return URL.revokeObjectURL(W),X.busy=!1,X.imageData=new Uint8Array(K.data.imageData),M(X);K.data.event==="processed"?(X.imageData=new Uint8Array(K.data.imageData),X.busy=!1,d(K.data.result,X.imageData)):K.data.event},X.worker.postMessage({cmd:"init",size:{x:m.getWidth(),y:m.getHeight()},imageData:X.imageData,config:w(ee)},[X.imageData.buffer])}function w(M){return Z({},M,{inputStream:Z({},M.inputStream,{target:null})})}function R(M){function W(oe){self.postMessage({event:"processed",imageData:ce.data,result:oe},[ce.data.buffer])}function X(){self.postMessage({event:"initialized",imageData:ce.data},[ce.data.buffer])}if(M){var K=M().default;if(!K)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var ce;self.onmessage=function(oe){if(oe.data.cmd==="init"){var ge=oe.data.config;ge.numOfWorkers=0,ce=new K.ImageWrapper({x:oe.data.size.x,y:oe.data.size.y},new Uint8Array(oe.data.imageData)),K.init(ge,X,ce),K.onProcessed(W)}else oe.data.cmd==="process"?(ce.data=new Uint8Array(oe.data.imageData),K.start()):oe.data.cmd==="setReaders"&&K.setReaders(oe.data.readers)}}function C(){var M,W;return A!==void 0&&(W=A),M=new Blob(["("+R.toString()+")("+W+");"],{type:"text/javascript"}),window.URL.createObjectURL(M)}function z(M){q?q.setReaders(M):de&&ie.length>0&&ie.forEach(function(W){W.worker.postMessage({cmd:"setReaders",readers:M})})}function j(M,W){var X=M-ie.length;if(X===0)return W&&W();if(X<0)return ie.slice(X).forEach(function(oe){oe.worker.terminate()}),ie=ie.slice(0,X),W&&W();for(var K=function(oe){ie.push(oe),ie.length>=M&&W&&W()},ce=0;ce<X;ce++)x(K)}Object.defineProperty(v,"__esModule",{value:!0});var m,T,k,I,P,q,G,$=c(28),F=c.n($),b=c(54),V=(c.n(b),c(20)),U=c(64),S=c(57),D=c(51),B=c(59),L=c(9),H=c(49),Y=c(55),Q=c(63),te=c(61),Z=Object.assign||function(M){for(var W=1;W<arguments.length;W++){var X=arguments[W];for(var K in X)Object.prototype.hasOwnProperty.call(X,K)&&(M[K]=X[K])}return M},ae={clone:c(7)},J={ctx:{image:null,overlay:null},dom:{image:null,overlay:null}},ie=[],de=!0,ee={};v.default={init:function(M,W,X){if(ee=F()({},Y.a,M),X)return de=!1,a(X),W();l(W)},start:function(){O()},stop:function(){k=!0,j(0),ee.inputStream.type==="LiveStream"&&(B.a.release(),m.clearEventHandlers())},pause:function(){k=!0},onDetected:function(M){D.a.subscribe("detected",M)},offDetected:function(M){D.a.unsubscribe("detected",M)},onProcessed:function(M){D.a.subscribe("processed",M)},offProcessed:function(M){D.a.unsubscribe("processed",M)},setReaders:function(M){z(M)},registerResultCollector:function(M){M&&typeof M.addResult=="function"&&(G=M)},canvas:J,decodeSingle:function(M,W){var X=this;M=F()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:M.src},numOfWorkers:1,locator:{halfSample:!1}},M),this.init(M,function(){D.a.once("processed",function(K){X.stop(),W.call(null,K)},!0),O()})},ImageWrapper:V.a,ImageDebug:L.a,ResultCollector:H.a,CameraAccess:B.a}},function(h,v,c){function a(t,e){return!!e&&e.some(function(n){return Object.keys(n).every(function(r){return n[r]===t[r]})})}function l(t,e){return typeof e!="function"||e(t)}var i=c(9);v.a={create:function(t){function e(f){return u&&f&&!a(f,t.blacklist)&&l(f,t.filter)}var n=document.createElement("canvas"),r=n.getContext("2d"),o=[],u=t.capacity||20,s=t.capture===!0;return{addResult:function(f,d,p){var _={};e(p)&&(u--,_.codeResult=p,s&&(n.width=d.x,n.height=d.y,i.a.drawImage(f,d,r),_.frame=n.toDataURL()),o.push(_))},getResults:function(){return o}}}}},function(h,v,c){var a={clone:c(7),dot:c(32)};v.a={create:function(l,i){function t(){e(l),n()}function e(s){u[s.id]=s,r.push(s)}function n(){var s,f=0;for(s=0;s<r.length;s++)f+=r[s].rad;o.rad=f/r.length,o.vec=a.clone([Math.cos(o.rad),Math.sin(o.rad)])}var r=[],o={rad:0,vec:a.clone([0,0])},u={};return t(),{add:function(s){u[s.id]||(e(s),n())},fits:function(s){return Math.abs(a.dot(s.point.vec,o.vec))>i},getPoints:function(){return r},getCenter:function(){return o}}},createPoint:function(l,i,t){return{rad:l[t],point:l,id:i}}}},function(h,v,c){v.a=function(){function a(n){return e[n]||(e[n]={subscribers:[]}),e[n]}function l(){e={}}function i(n,r){n.async?setTimeout(function(){n.callback(r)},4):n.callback(r)}function t(n,r,o){var u;if(typeof r=="function")u={callback:r,async:o};else if(u=r,!u.callback)throw"Callback was not specified on options";a(n).subscribers.push(u)}var e={};return{subscribe:function(n,r,o){return t(n,r,o)},publish:function(n,r){var o=a(n),u=o.subscribers;u.filter(function(s){return!!s.once}).forEach(function(s){i(s,r)}),o.subscribers=u.filter(function(s){return!s.once}),o.subscribers.forEach(function(s){i(s,r)})},once:function(n,r,o){t(n,{callback:r,async:o,once:!0})},unsubscribe:function(n,r){var o;n?(o=a(n),o.subscribers=o&&r?o.subscribers.filter(function(u){return u.callback!==r}):[]):l()}}}()},function(h,v,c){function a(){return navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices=="function"?navigator.mediaDevices.enumerateDevices():Promise.reject(new Error("enumerateDevices is not defined"))}function l(i){return navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"?navigator.mediaDevices.getUserMedia(i):Promise.reject(new Error("getUserMedia is not defined"))}v.b=a,v.a=l},function(h,v,c){function a(l,i,t){t||(t={data:null,size:i}),this.data=t.data,this.originalSize=t.size,this.I=t,this.from=l,this.size=i}a.prototype.show=function(l,i){var t,e,n,r,o,u,s;for(i||(i=1),t=l.getContext("2d"),l.width=this.size.x,l.height=this.size.y,e=t.getImageData(0,0,l.width,l.height),n=e.data,r=0,o=0;o<this.size.y;o++)for(u=0;u<this.size.x;u++)s=o*this.size.x+u,r=this.get(u,o)*i,n[4*s+0]=r,n[4*s+1]=r,n[4*s+2]=r,n[4*s+3]=255;e.data=n,t.putImageData(e,0,0)},a.prototype.get=function(l,i){return this.data[(this.from.y+i)*this.originalSize.x+this.from.x+l]},a.prototype.updateData=function(l){this.originalSize=l.size,this.data=l.data},a.prototype.updateFrom=function(l){return this.from=l,this},v.a=a},function(h,v){typeof window<"u"&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1e3/60)}}()),Math.imul=Math.imul||function(c,a){var l=c>>>16&65535,i=65535&c,t=a>>>16&65535,e=65535&a;return i*e+(l*e+i*t<<16>>>0)|0},typeof Object.assign!="function"&&(Object.assign=function(c){if(c===null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(c),l=1;l<arguments.length;l++){var i=arguments[l];if(i!==null)for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(a[t]=i[t])}return a})},function(h,v,c){var a=void 0;a=c(56),v.a=a},function(h,v){h.exports={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}}},function(h,v,c){var a=c(58),l=(c(9),c(69)),i=c(4),t=c(31),e=c(70),n=c(68),r=c(77),o=c(74),u=c(72),s=c(73),f=c(76),d=c(75),p=c(67),_=c(71),y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},O={code_128_reader:l.a,ean_reader:i.a,ean_5_reader:s.a,ean_2_reader:u.a,ean_8_reader:o.a,code_39_reader:t.a,code_39_vin_reader:e.a,codabar_reader:n.a,upc_reader:r.a,upc_e_reader:f.a,i2of5_reader:d.a,"2of5_reader":p.a,code_93_reader:_.a};v.a={create:function(x,w){function R(){x.readers.forEach(function(P){var q,G={},$=[];(P===void 0?"undefined":y(P))==="object"?(q=P.format,G=P.config):typeof P=="string"&&(q=P),G.supplements&&($=G.supplements.map(function(F){return new O[F]})),I.push(new O[q](G,$))})}function C(P,q,G){function $(F){var b={y:F*Math.sin(q),x:F*Math.cos(q)};P[0].y-=b.y,P[0].x-=b.x,P[1].y+=b.y,P[1].x+=b.x}for($(G);G>1&&(!w.inImageWithBorder(P[0],0)||!w.inImageWithBorder(P[1],0));)G-=Math.ceil(G/2),$(-G);return P}function z(P){return[{x:(P[1][0]-P[0][0])/2+P[0][0],y:(P[1][1]-P[0][1])/2+P[0][1]},{x:(P[3][0]-P[2][0])/2+P[2][0],y:(P[3][1]-P[2][1])/2+P[2][1]}]}function j(P){var q,G=null,$=a.a.getBarcodeLine(w,P[0],P[1]);for(a.a.toBinaryLine($),q=0;q<I.length&&G===null;q++)G=I[q].decodePattern($.line);return G===null?null:{codeResult:G,barcodeLine:$}}function m(P,q,G){var $,F,b,V=Math.sqrt(Math.pow(P[1][0]-P[0][0],2)+Math.pow(P[1][1]-P[0][1],2)),U=16,S=null,D=Math.sin(G),B=Math.cos(G);for($=1;$<U&&S===null;$++)F=V/U*$*($%2==0?-1:1),b={y:F*D,x:F*B},q[0].y+=b.x,q[0].x-=b.y,q[1].y+=b.x,q[1].x-=b.y,S=j(q);return S}function T(P){return Math.sqrt(Math.pow(Math.abs(P[1].y-P[0].y),2)+Math.pow(Math.abs(P[1].x-P[0].x),2))}function k(P){var q,G,$,F;return q=z(P),F=T(q),G=Math.atan2(q[1].y-q[0].y,q[1].x-q[0].x),(q=C(q,G,Math.floor(.1*F)))===null?null:($=j(q),$===null&&($=m(P,q,G)),$===null?null:{codeResult:$.codeResult,line:q,angle:G,pattern:$.barcodeLine.line,threshold:$.barcodeLine.threshold})}var I=[];return R(),{decodeFromBoundingBox:function(P){return k(P)},decodeFromBoundingBoxes:function(P){var q,G,$=[],F=x.multiple;for(q=0;q<P.length;q++){var b=P[q];if(G=k(b)||{},G.box=b,F)$.push(G);else if(G.codeResult)return G}if(F)return{barcodes:$}},setReaders:function(P){x.readers=P,I.length=0,R()}}}}},function(h,v,c){var a=(c(20),{}),l={DIR:{UP:1,DOWN:-1}};a.getBarcodeLine=function(i,t,e){function n(k,I){_=z[I*j+k],m=_<m?_:m,T=_>T?_:T,C.push(_)}var r,o,u,s,f,d,p,_,y=0|t.x,O=0|t.y,x=0|e.x,w=0|e.y,R=Math.abs(w-O)>Math.abs(x-y),C=[],z=i.data,j=i.size.x,m=255,T=0;for(R&&(d=y,y=O,O=d,d=x,x=w,w=d),y>x&&(d=y,y=x,x=d,d=O,O=w,w=d),r=x-y,o=Math.abs(w-O),u=r/2|0,f=O,s=O<w?1:-1,p=y;p<x;p++)R?n(f,p):n(p,f),(u-=o)<0&&(f+=s,u+=r);return{line:C,min:m,max:T}},a.toBinaryLine=function(i){var t,e,n,r,o,u,s=i.min,f=i.max,d=i.line,p=s+(f-s)/2,_=[],y=(f-s)/12,O=-y;for(n=d[0]>p?l.DIR.UP:l.DIR.DOWN,_.push({pos:0,val:d[0]}),o=0;o<d.length-2;o++)t=d[o+1]-d[o],e=d[o+2]-d[o+1],r=t+e<O&&d[o+1]<1.5*p?l.DIR.DOWN:t+e>y&&d[o+1]>.5*p?l.DIR.UP:n,n!==r&&(_.push({pos:o,val:d[o]}),n=r);for(_.push({pos:d.length,val:d[d.length-1]}),u=_[0].pos;u<_[1].pos;u++)d[u]=d[u]>p?0:1;for(o=1;o<_.length-1;o++)for(y=_[o+1].val>_[o].val?_[o].val+(_[o+1].val-_[o].val)/3*2|0:_[o+1].val+(_[o].val-_[o+1].val)/3|0,u=_[o].pos;u<_[o+1].pos;u++)d[u]=d[u]>y?0:1;return{line:d,threshold:y}},a.debug={printFrequency:function(i,t){var e,n=t.getContext("2d");for(t.width=i.length,t.height=256,n.beginPath(),n.strokeStyle="blue",e=0;e<i.length;e++)n.moveTo(e,255),n.lineTo(e,255-i[e]);n.stroke(),n.closePath()},printPattern:function(i,t){var e,n=t.getContext("2d");for(t.width=i.length,n.fillColor="black",e=0;e<i.length;e++)i[e]===1&&n.fillRect(e,0,1,100)}},v.a=a},function(h,v,c){function a(f){return new Promise(function(d,p){function _(){y>0?f.videoWidth>10&&f.videoHeight>10?d():window.setTimeout(_,500):p("Unable to play video stream. Is webcam working?"),y--}var y=10;_()})}function l(f,d){return c.i(s.a)(d).then(function(p){return new Promise(function(_){r=p,f.setAttribute("autoplay",!0),f.setAttribute("muted",!0),f.setAttribute("playsinline",!0),f.srcObject=p,f.addEventListener("loadedmetadata",function(){f.play(),_()})})}).then(a.bind(null,f))}function i(f){var d=u()(f,["width","height","facingMode","aspectRatio","deviceId"]);return f.minAspectRatio!==void 0&&f.minAspectRatio>0&&(d.aspectRatio=f.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),f.facing!==void 0&&(d.facingMode=f.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),d}function t(f){var d={audio:!1,video:i(f)};return d.video.deviceId&&d.video.facingMode&&delete d.video.facingMode,Promise.resolve(d)}function e(){return c.i(s.b)().then(function(f){return f.filter(function(d){return d.kind==="videoinput"})})}function n(){if(r){var f=r.getVideoTracks();if(f&&f.length)return f[0]}}var r,o=c(162),u=c.n(o),s=c(52);v.a={request:function(f,d){return t(d).then(l.bind(null,f))},release:function(){var f=r&&r.getVideoTracks();f&&f.length&&f[0].stop(),r=null},enumerateVideoDevices:e,getActiveStreamLabel:function(){var f=n();return f?f.label:""},getActiveTrack:n}},function(h,v,c){function a(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return/^blob\:/i.test(f)?i(f).then(l).then(function(p){return t(p,d)}):Promise.resolve(null)}function l(f){return new Promise(function(d){var p=new FileReader;p.onload=function(_){return d(_.target.result)},p.readAsArrayBuffer(f)})}function i(f){return new Promise(function(d,p){var _=new XMLHttpRequest;_.open("GET",f,!0),_.responseType="blob",_.onreadystatechange=function(){_.readyState!==XMLHttpRequest.DONE||_.status!==200&&_.status!==0||d(this.response)},_.onerror=p,_.send()})}function t(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,p=new DataView(f),_=f.byteLength,y=d.reduce(function(x,w){var R=Object.keys(u).filter(function(C){return u[C]===w})[0];return R&&(x[R]=w),x},{}),O=2;if(p.getUint8(0)!==255||p.getUint8(1)!==216)return!1;for(;O<_;){if(p.getUint8(O)!==255)return!1;if(p.getUint8(O+1)===225)return e(p,O+4,y);O+=2+p.getUint16(O+2)}}function e(f,d,p){if(o(f,d,4)!=="Exif")return!1;var _=d+6,y=void 0;if(f.getUint16(_)===18761)y=!1;else{if(f.getUint16(_)!==19789)return!1;y=!0}if(f.getUint16(_+2,!y)!==42)return!1;var O=f.getUint32(_+4,!y);return!(O<8)&&n(f,_,_+O,p,y)}function n(f,d,p,_,y){for(var O=f.getUint16(p,!y),x={},w=0;w<O;w++){var R=p+12*w+2,C=_[f.getUint16(R,!y)];C&&(x[C]=r(f,R,d,p,y))}return x}function r(f,d,p,_,y){var O=f.getUint16(d+2,!y),x=f.getUint32(d+4,!y);switch(O){case 3:if(x===1)return f.getUint16(d+8,!y)}}function o(f,d,p){for(var _="",y=d;y<d+p;y++)_+=String.fromCharCode(f.getUint8(y));return _}v.a=a;var u={274:"orientation"},s=Object.keys(u).map(function(f){return u[f]})},function(h,v,c){function a(e,n){e.width!==n.x&&(e.width=n.x),e.height!==n.y&&(e.height=n.y)}var l=c(19),i=Math.PI/180,t={};t.create=function(e,n){var r,o={},u=e.getConfig(),s=(c.i(l.b)(e.getRealWidth(),e.getRealHeight()),e.getCanvasSize()),f=c.i(l.b)(e.getWidth(),e.getHeight()),d=e.getTopRight(),p=d.x,_=d.y,y=null,O=null;return r=n||document.createElement("canvas"),r.width=s.x,r.height=s.y,y=r.getContext("2d"),O=new Uint8Array(f.x*f.y),o.attachData=function(x){O=x},o.getData=function(){return O},o.grab=function(){var x,w=u.halfSample,R=e.getFrame(),C=R,z=0;if(C){if(a(r,s),u.type==="ImageStream"&&(C=R.img,R.tags&&R.tags.orientation))switch(R.tags.orientation){case 6:z=90*i;break;case 8:z=-90*i}return z!==0?(y.translate(s.x/2,s.y/2),y.rotate(z),y.drawImage(C,-s.y/2,-s.x/2,s.y,s.x),y.rotate(-z),y.translate(-s.x/2,-s.y/2)):y.drawImage(C,0,0,s.x,s.y),x=y.getImageData(p,_,f.x,f.y).data,w?c.i(l.c)(x,f,O):c.i(l.d)(x,O,u),!0}return!1},o.getSize=function(){return f},o},v.a=t},function(h,v,c){function a(t,e){t.onload=function(){e.loaded(this)}}var l=c(60),i={};i.load=function(t,e,n,r,o){var u,s,f,d=new Array(r),p=new Array(d.length);if(o===!1)d[0]=t;else for(u=0;u<d.length;u++)f=n+u,d[u]=t+"image-"+("00"+f).slice(-3)+".jpg";for(p.notLoaded=[],p.addImage=function(_){p.notLoaded.push(_)},p.loaded=function(_){for(var y=p.notLoaded,O=0;O<y.length;O++)if(y[O]===_){y.splice(O,1);for(var x=0;x<d.length;x++){var w=d[x].substr(d[x].lastIndexOf("/"));if(_.src.lastIndexOf(w)!==-1){p[x]={img:_};break}}break}y.length===0&&(o===!1?c.i(l.a)(t,["orientation"]).then(function(R){p[0].tags=R,e(p)}).catch(function(R){console.log(R),e(p)}):e(p))},u=0;u<d.length;u++)s=new Image,p.addImage(s),a(s,p),s.src=d[u]},v.a=i},function(h,v,c){var a=c(62),l={};l.createVideoStream=function(i){function t(){var p=i.videoWidth,_=i.videoHeight;e=o.size?p/_>1?o.size:Math.floor(p/_*o.size):p,n=o.size?p/_>1?Math.floor(_/p*o.size):o.size:_,d.x=e,d.y=n}var e,n,r={},o=null,u=["canrecord","ended"],s={},f={x:0,y:0},d={x:0,y:0};return r.getRealWidth=function(){return i.videoWidth},r.getRealHeight=function(){return i.videoHeight},r.getWidth=function(){return e},r.getHeight=function(){return n},r.setWidth=function(p){e=p},r.setHeight=function(p){n=p},r.setInputStream=function(p){o=p,i.src=p.src!==void 0?p.src:""},r.ended=function(){return i.ended},r.getConfig=function(){return o},r.setAttribute=function(p,_){i.setAttribute(p,_)},r.pause=function(){i.pause()},r.play=function(){i.play()},r.setCurrentTime=function(p){o.type!=="LiveStream"&&(i.currentTime=p)},r.addEventListener=function(p,_,y){u.indexOf(p)!==-1?(s[p]||(s[p]=[]),s[p].push(_)):i.addEventListener(p,_,y)},r.clearEventHandlers=function(){u.forEach(function(p){var _=s[p];_&&_.length>0&&_.forEach(function(y){i.removeEventListener(p,y)})})},r.trigger=function(p,_){var y,O=s[p];if(p==="canrecord"&&t(),O&&O.length>0)for(y=0;y<O.length;y++)O[y].apply(r,_)},r.setTopRight=function(p){f.x=p.x,f.y=p.y},r.getTopRight=function(){return f},r.setCanvasSize=function(p){d.x=p.x,d.y=p.y},r.getCanvasSize=function(){return d},r.getFrame=function(){return i},r},l.createLiveStream=function(i){i.setAttribute("autoplay",!0);var t=l.createVideoStream(i);return t.ended=function(){return!1},t},l.createImageStream=function(){function i(){p=!1,a.a.load(x,function(m){if(_=m,m[0].tags&&m[0].tags.orientation)switch(m[0].tags.orientation){case 6:case 8:u=m[0].img.height,s=m[0].img.width;break;default:u=m[0].img.width,s=m[0].img.height}else u=m[0].img.width,s=m[0].img.height;e=o.size?u/s>1?o.size:Math.floor(u/s*o.size):u,n=o.size?u/s>1?Math.floor(s/u*o.size):o.size:s,j.x=e,j.y=n,p=!0,f=0,setTimeout(function(){t("canrecord",[])},0)},O,y,o.sequence)}function t(m,T){var k,I=C[m];if(I&&I.length>0)for(k=0;k<I.length;k++)I[k].apply(r,T)}var e,n,r={},o=null,u=0,s=0,f=0,d=!0,p=!1,_=null,y=0,O=1,x=null,w=!1,R=["canrecord","ended"],C={},z={x:0,y:0},j={x:0,y:0};return r.trigger=t,r.getWidth=function(){return e},r.getHeight=function(){return n},r.setWidth=function(m){e=m},r.setHeight=function(m){n=m},r.getRealWidth=function(){return u},r.getRealHeight=function(){return s},r.setInputStream=function(m){o=m,m.sequence===!1?(x=m.src,y=1):(x=m.src,y=m.length),i()},r.ended=function(){return w},r.setAttribute=function(){},r.getConfig=function(){return o},r.pause=function(){d=!0},r.play=function(){d=!1},r.setCurrentTime=function(m){f=m},r.addEventListener=function(m,T){R.indexOf(m)!==-1&&(C[m]||(C[m]=[]),C[m].push(T))},r.setTopRight=function(m){z.x=m.x,z.y=m.y},r.getTopRight=function(){return z},r.setCanvasSize=function(m){j.x=m.x,j.y=m.y},r.getCanvasSize=function(){return j},r.getFrame=function(){var m;return p?(d||(m=_[f],f<y-1?f++:setTimeout(function(){w=!0,t("ended",[])},0)),m):null},r},v.a=l},function(h,v,c){(function(a){function l(){var S;_=p.halfSample?new k.a({x:m.size.x/2|0,y:m.size.y/2|0}):m,j=c.i(I.e)(p.patchSize,_.size),U.x=_.size.x/j.x|0,U.y=_.size.y/j.y|0,z=new k.a(_.size,void 0,Uint8Array,!1),x=new k.a(j,void 0,Array,!0),S=new ArrayBuffer(65536),O=new k.a(j,new Uint8Array(S,0,j.x*j.y)),y=new k.a(j,new Uint8Array(S,j.x*j.y*3,j.x*j.y),void 0,!0),T=c.i($.a)(typeof window<"u"?window:typeof self<"u"?self:a,{size:j.x},S),C=new k.a({x:_.size.x/O.size.x|0,y:_.size.y/O.size.y|0},void 0,Array,!0),w=new k.a(C.size,void 0,void 0,!0),R=new k.a(C.size,void 0,Int32Array,!0)}function i(){p.useWorker||typeof document>"u"||(V.dom.binary=document.createElement("canvas"),V.dom.binary.className="binaryBuffer",V.ctx.binary=V.dom.binary.getContext("2d"),V.dom.binary.width=z.size.x,V.dom.binary.height=z.size.y)}function t(S){var D,B,L,H,Y,Q,te,Z=z.size.x,ae=z.size.y,J=-z.size.x,ie=-z.size.y;for(D=0,B=0;B<S.length;B++)H=S[B],D+=H.rad;for(D/=S.length,D=(180*D/Math.PI+90)%180-90,D<0&&(D+=180),D=(180-D)*Math.PI/180,Y=b.copy(b.create(),[Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D)]),B=0;B<S.length;B++)for(H=S[B],L=0;L<4;L++)F.transformMat2(H.box[L],H.box[L],Y);for(B=0;B<S.length;B++)for(H=S[B],L=0;L<4;L++)H.box[L][0]<Z&&(Z=H.box[L][0]),H.box[L][0]>J&&(J=H.box[L][0]),H.box[L][1]<ae&&(ae=H.box[L][1]),H.box[L][1]>ie&&(ie=H.box[L][1]);for(Q=[[Z,ae],[J,ae],[J,ie],[Z,ie]],te=p.halfSample?2:1,Y=b.invert(Y,Y),L=0;L<4;L++)F.transformMat2(Q[L],Q[L],Y);for(L=0;L<4;L++)F.scale(Q[L],Q[L],te);return Q}function e(){c.i(I.f)(_,z),z.zeroBorder()}function n(){var S,D,B,L,H,Y,Q,te=[];for(S=0;S<U.x;S++)for(D=0;D<U.y;D++)B=O.size.x*S,L=O.size.y*D,s(B,L),y.zeroBorder(),P.a.init(x.data,0),Y=q.a.create(y,x),Q=Y.rasterize(0),H=x.moments(Q.count),te=te.concat(f(H,[S,D],B,L));return te}function r(S){var D,B,L=[];for(D=0;D<S;D++)L.push(0);for(B=R.data.length;B--;)R.data[B]>0&&L[R.data[B]-1]++;return L=L.map(function(H,Y){return{val:H,label:Y+1}}),L.sort(function(H,Y){return Y.val-H.val}),L.filter(function(H){return H.val>=5})}function o(S,D){var B,L,H,Y,Q=[],te=[];for(B=0;B<S.length;B++){for(L=R.data.length,Q.length=0;L--;)R.data[L]===S[B].label&&(H=C.data[L],Q.push(H));Y=t(Q),Y&&te.push(Y)}return te}function u(S){var D=c.i(I.g)(S,.9),B=c.i(I.h)(D,1,function(Q){return Q.getPoints().length}),L=[],H=[];if(B.length===1){L=B[0].item.getPoints();for(var Y=0;Y<L.length;Y++)H.push(L[Y].point)}return H}function s(S,D){z.subImageAsCopy(O,c.i(I.b)(S,D)),T.skeletonize()}function f(S,D,B,L){var H,Y,Q,te,Z=[],ae=[],J=Math.ceil(j.x/3);if(S.length>=2){for(H=0;H<S.length;H++)S[H].m00>J&&Z.push(S[H]);if(Z.length>=2){for(Q=u(Z),Y=0,H=0;H<Q.length;H++)Y+=Q[H].rad;Q.length>1&&Q.length>=Z.length/4*3&&Q.length>S.length/4&&(Y/=Q.length,te={index:D[1]*U.x+D[0],pos:{x:B,y:L},box:[F.clone([B,L]),F.clone([B+O.size.x,L]),F.clone([B+O.size.x,L+O.size.y]),F.clone([B,L+O.size.y])],moments:Q,rad:Y,vec:F.clone([Math.cos(Y),Math.sin(Y)])},ae.push(te))}}return ae}function d(S){function D(){var Z;for(Z=0;Z<R.data.length;Z++)if(R.data[Z]===0&&w.data[Z]===1)return Z;return R.length}function B(Z){var ae,J,ie,de,ee,M={x:Z%R.size.x,y:Z/R.size.x|0};if(Z<R.data.length)for(ie=C.data[Z],R.data[Z]=Y,ee=0;ee<G.a.searchDirections.length;ee++)J=M.y+G.a.searchDirections[ee][0],ae=M.x+G.a.searchDirections[ee][1],de=J*R.size.x+ae,w.data[de]!==0?R.data[de]===0&&Math.abs(F.dot(C.data[de].vec,ie.vec))>Q&&B(de):R.data[de]=Number.MAX_VALUE}var L,H,Y=0,Q=.95,te=0;for(P.a.init(w.data,0),P.a.init(R.data,0),P.a.init(C.data,null),L=0;L<S.length;L++)H=S[L],C.data[H.index]=H,w.data[H.index]=1;for(w.zeroBorder();(te=D())<R.data.length;)Y++,B(te);return Y}var p,_,y,O,x,w,R,C,z,j,m,T,k=c(20),I=c(19),P=c(3),q=(c(9),c(65)),G=c(30),$=c(66),F={clone:c(7),dot:c(32),scale:c(81),transformMat2:c(82)},b={copy:c(78),create:c(79),invert:c(80)},V={ctx:{binary:null},dom:{binary:null}},U={x:0,y:0};v.a={init:function(S,D){p=D,m=S,l(),i()},locate:function(){var S,D;if(p.halfSample&&c.i(I.i)(m,_),e(),S=n(),S.length<U.x*U.y*.05)return null;var B=d(S);return B<1?null:(D=r(B),D.length===0?null:o(D))},checkImageConstraints:function(S,D){var B,L,H,Y=S.getWidth(),Q=S.getHeight(),te=D.halfSample?.5:1;if(S.getConfig().area&&(H=c.i(I.j)(Y,Q,S.getConfig().area),S.setTopRight({x:H.sx,y:H.sy}),S.setCanvasSize({x:Y,y:Q}),Y=H.sw,Q=H.sh),L={x:Math.floor(Y*te),y:Math.floor(Q*te)},B=c.i(I.e)(D.patchSize,L),S.setWidth(Math.floor(Math.floor(L.x/B.x)*(1/te)*B.x)),S.setHeight(Math.floor(Math.floor(L.y/B.y)*(1/te)*B.y)),S.getWidth()%B.x==0&&S.getHeight()%B.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width ("+Y+" )and height ("+Q+") must a multiple of "+B.x)}}}).call(v,c(47))},function(h,v,c){var a=c(30),l={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(i,t){var e=i.data,n=t.data,r=i.size.x,o=i.size.y,u=a.a.create(i,t);return{rasterize:function(s){var f,d,p,_,y,O,x,w,R,C,z,j,m=[],T=0;for(j=0;j<400;j++)m[j]=0;for(m[0]=e[0],R=null,O=1;O<o-1;O++)for(_=0,d=m[0],y=1;y<r-1;y++)if(z=O*r+y,n[z]===0)if((f=e[z])!==d){if(_===0)p=T+1,m[p]=f,d=f,(x=u.contourTracing(O,y,p,f,l.DIR.OUTSIDE_EDGE))!==null&&(T++,_=p,w=l.createContour2D(),w.dir=l.CONTOUR_DIR.CW_DIR,w.index=_,w.firstVertex=x,w.nextpeer=R,w.insideContours=null,R!==null&&(R.prevpeer=w),R=w);else if((x=u.contourTracing(O,y,l.DIR.INSIDE_EDGE,f,_))!==null){for(w=l.createContour2D(),w.firstVertex=x,w.insideContours=null,w.dir=s===0?l.CONTOUR_DIR.CCW_DIR:l.CONTOUR_DIR.CW_DIR,w.index=s,C=R;C!==null&&C.index!==_;)C=C.nextpeer;C!==null&&(w.nextpeer=C.insideContours,C.insideContours!==null&&(C.insideContours.prevpeer=w),C.insideContours=w)}}else n[z]=_;else n[z]===l.DIR.OUTSIDE_EDGE||n[z]===l.DIR.INSIDE_EDGE?(_=0,d=n[z]===l.DIR.INSIDE_EDGE?e[z]:m[0]):(_=n[z],d=m[_]);for(C=R;C!==null;)C.index=s,C=C.nextpeer;return{cc:R,count:T}},debug:{drawContour:function(s,f){var d,p,_,y=s.getContext("2d"),O=f;for(y.strokeStyle="red",y.fillStyle="red",y.lineWidth=1,d=O!==null?O.insideContours:null;O!==null;){switch(d!==null?(p=d,d=d.nextpeer):(p=O,O=O.nextpeer,d=O!==null?O.insideContours:null),p.dir){case l.CONTOUR_DIR.CW_DIR:y.strokeStyle="red";break;case l.CONTOUR_DIR.CCW_DIR:y.strokeStyle="blue";break;case l.CONTOUR_DIR.UNKNOWN_DIR:y.strokeStyle="green"}_=p.firstVertex,y.beginPath(),y.moveTo(_.x,_.y);do _=_.next,y.lineTo(_.x,_.y);while(_!==p.firstVertex);y.stroke()}}}}}};v.a=l},function(h,v,c){function a(l,i,t){var e=new l.Uint8Array(t),n=i.size|0,r=l.Math.imul;function o(x,w){x=x|0,w=w|0;var R=0,C=0,z=0,j=0,m=0,T=0,k=0,I=0;for(R=1;(R|0)<(n-1|0);R=R+1|0)for(I=I+n|0,C=1;(C|0)<(n-1|0);C=C+1|0)j=I-n|0,m=I+n|0,T=C-1|0,k=C+1|0,z=(e[x+j+T|0]|0)+(e[x+j+k|0]|0)+(e[x+I+C|0]|0)+(e[x+m+T|0]|0)+(e[x+m+k|0]|0)|0,(z|0)==5?e[w+I+C|0]=1:e[w+I+C|0]=0}function u(x,w,R){x=x|0,w=w|0,R=R|0;var C=0;for(C=r(n,n)|0;(C|0)>0;)C=C-1|0,e[R+C|0]=(e[x+C|0]|0)-(e[w+C|0]|0)|0}function s(x,w,R){x=x|0,w=w|0,R=R|0;var C=0;for(C=r(n,n)|0;(C|0)>0;)C=C-1|0,e[R+C|0]=e[x+C|0]|0|(e[w+C|0]|0)|0}function f(x){x=x|0;var w=0,R=0;for(R=r(n,n)|0;(R|0)>0;)R=R-1|0,w=(w|0)+(e[x+R|0]|0)|0;return w|0}function d(x,w){x=x|0,w=w|0;var R=0;for(R=r(n,n)|0;(R|0)>0;)R=R-1|0,e[x+R|0]=w}function p(x,w){x=x|0,w=w|0;var R=0,C=0,z=0,j=0,m=0,T=0,k=0,I=0;for(R=1;(R|0)<(n-1|0);R=R+1|0)for(I=I+n|0,C=1;(C|0)<(n-1|0);C=C+1|0)j=I-n|0,m=I+n|0,T=C-1|0,k=C+1|0,z=(e[x+j+T|0]|0)+(e[x+j+k|0]|0)+(e[x+I+C|0]|0)+(e[x+m+T|0]|0)+(e[x+m+k|0]|0)|0,(z|0)>0?e[w+I+C|0]=1:e[w+I+C|0]=0}function _(x,w){x=x|0,w=w|0;var R=0;for(R=r(n,n)|0;(R|0)>0;)R=R-1|0,e[w+R|0]=e[x+R|0]|0}function y(x){x=x|0;var w=0,R=0;for(w=0;(w|0)<(n-1|0);w=w+1|0)e[x+w|0]=0,e[x+R|0]=0,R=R+n-1|0,e[x+R|0]=0,R=R+1|0;for(w=0;(w|0)<(n|0);w=w+1|0)e[x+R|0]=0,R=R+1|0}function O(){var x=0,w=0,R=0,C=0,z=0,j=0;w=r(n,n)|0,R=w+w|0,C=R+w|0,d(C,0),y(x);do o(x,w),p(w,R),u(x,R,R),s(C,R,C),_(w,x),z=f(x)|0,j=(z|0)==0|0;while(!j)}return{skeletonize:O}}v.a=a},function(h,v,c){function a(r){l.a.call(this,r),this.barSpaceRatio=[1,1]}var l=c(1),i=1,t=3,e={START_PATTERN:{value:[t,i,t,i,i,i]},STOP_PATTERN:{value:[t,i,i,i,t]},CODE_PATTERN:{value:[[i,i,t,t,i],[t,i,i,i,t],[i,t,i,i,t],[t,t,i,i,i],[i,i,t,i,t],[t,i,t,i,i],[i,t,t,i,i],[i,i,i,t,t],[t,i,i,t,i],[i,t,i,t,i]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.3,writable:!0},FORMAT:{value:"2of5"}},n=e.START_PATTERN.value.reduce(function(r,o){return r+o},0);a.prototype=Object.create(l.a.prototype,e),a.prototype.constructor=a,a.prototype._findPattern=function(r,o,u,s){var f,d,p,_,y=[],O=this,x=0,w={error:Number.MAX_VALUE,code:-1,start:0,end:0},R=O.AVG_CODE_ERROR;for(u=u||!1,s=s||!1,o||(o=O._nextSet(O._row)),f=0;f<r.length;f++)y[f]=0;for(f=o;f<O._row.length;f++)if(O._row[f]^u)y[x]++;else{if(x===y.length-1){for(_=0,p=0;p<y.length;p++)_+=y[p];if((d=O._matchPattern(y,r))<R)return w.error=d,w.start=f-_,w.end=f,w;if(!s)return null;for(p=0;p<y.length-2;p++)y[p]=y[p+2];y[y.length-2]=0,y[y.length-1]=0,x--}else x++;y[x]=1,u=!u}return null},a.prototype._findStart=function(){for(var r,o,u=this,s=u._nextSet(u._row),f=1;!o;){if(!(o=u._findPattern(u.START_PATTERN,s,!1,!0)))return null;if(f=Math.floor((o.end-o.start)/n),(r=o.start-5*f)>=0&&u._matchRange(r,o.start,0))return o;s=o.end,o=null}},a.prototype._verifyTrailingWhitespace=function(r){var o,u=this;return o=r.end+(r.end-r.start)/2,o<u._row.length&&u._matchRange(r.end,o,0)?r:null},a.prototype._findEnd=function(){var r,o,u,s=this;return s._row.reverse(),u=s._nextSet(s._row),r=s._findPattern(s.STOP_PATTERN,u,!1,!0),s._row.reverse(),r===null?null:(o=r.start,r.start=s._row.length-r.end,r.end=s._row.length-o,r!==null?s._verifyTrailingWhitespace(r):null)},a.prototype._decodeCode=function(r){var o,u,s,f=this,d=0,p=f.AVG_CODE_ERROR,_={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(o=0;o<r.length;o++)d+=r[o];for(s=0;s<f.CODE_PATTERN.length;s++)(u=f._matchPattern(r,f.CODE_PATTERN[s]))<_.error&&(_.code=s,_.error=u);if(_.error<p)return _},a.prototype._decodePayload=function(r,o,u){for(var s,f,d=this,p=0,_=r.length,y=[0,0,0,0,0];p<_;){for(s=0;s<5;s++)y[s]=r[p]*this.barSpaceRatio[0],p+=2;if(!(f=d._decodeCode(y)))return null;o.push(f.code+""),u.push(f)}return f},a.prototype._verifyCounterLength=function(r){return r.length%10==0},a.prototype._decode=function(){var r,o,u,s=this,f=[],d=[];return(r=s._findStart())?(d.push(r),(o=s._findEnd())?(u=s._fillCounters(r.end,o.start,!1),s._verifyCounterLength(u)&&s._decodePayload(u,f,d)?f.length<5?null:(d.push(o),{code:f.join(""),start:r.start,end:o.end,startInfo:r,decodedCodes:d}):null):null):null},v.a=a},function(h,v,c){function a(){l.a.call(this),this._counters=[]}var l=c(1),i={ALPHABETH_STRING:{value:"0123456789-$:/.+ABCD"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68]},CHARACTER_ENCODINGS:{value:[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14]},START_END:{value:[26,41,11,14]},MIN_ENCODED_CHARS:{value:4},MAX_ACCEPTABLE:{value:2},PADDING:{value:1.5},FORMAT:{value:"codabar",writeable:!1}};a.prototype=Object.create(l.a.prototype,i),a.prototype.constructor=a,a.prototype._decode=function(){var t,e,n,r,o,u=this,s=[];if(this._counters=u._fillCounters(),!(t=u._findStart()))return null;r=t.startCounter;do{if((n=u._toPattern(r))<0||(e=u._patternToChar(n))<0)return null;if(s.push(e),r+=8,s.length>1&&u._isStartEnd(n))break}while(r<u._counters.length);return s.length-2<u.MIN_ENCODED_CHARS||!u._isStartEnd(n)?null:u._verifyWhitespace(t.startCounter,r-8)&&u._validateResult(s,t.startCounter)?(r=r>u._counters.length?u._counters.length:r,o=t.start+u._sumCounters(t.startCounter,r-8),{code:s.join(""),start:t.start,end:o,startInfo:t,decodedCodes:s}):null},a.prototype._verifyWhitespace=function(t,e){return(t-1<=0||this._counters[t-1]>=this._calculatePatternLength(t)/2)&&(e+8>=this._counters.length||this._counters[e+7]>=this._calculatePatternLength(e)/2)},a.prototype._calculatePatternLength=function(t){var e,n=0;for(e=t;e<t+7;e++)n+=this._counters[e];return n},a.prototype._thresholdResultPattern=function(t,e){var n,r,o,u,s,f=this,d={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},p=e;for(o=0;o<t.length;o++){for(s=f._charToPattern(t[o]),u=6;u>=0;u--)n=(1&u)==2?d.bar:d.space,r=(1&s)==1?n.wide:n.narrow,r.size+=f._counters[p+u],r.counts++,s>>=1;p+=8}return["space","bar"].forEach(function(_){var y=d[_];y.wide.min=Math.floor((y.narrow.size/y.narrow.counts+y.wide.size/y.wide.counts)/2),y.narrow.max=Math.ceil(y.wide.min),y.wide.max=Math.ceil((y.wide.size*f.MAX_ACCEPTABLE+f.PADDING)/y.wide.counts)}),d},a.prototype._charToPattern=function(t){var e,n=this,r=t.charCodeAt(0);for(e=0;e<n.ALPHABET.length;e++)if(n.ALPHABET[e]===r)return n.CHARACTER_ENCODINGS[e];return 0},a.prototype._validateResult=function(t,e){var n,r,o,u,s,f,d=this,p=d._thresholdResultPattern(t,e),_=e;for(n=0;n<t.length;n++){for(f=d._charToPattern(t[n]),r=6;r>=0;r--){if(o=(1&r)==0?p.bar:p.space,u=(1&f)==1?o.wide:o.narrow,(s=d._counters[_+r])<u.min||s>u.max)return!1;f>>=1}_+=8}return!0},a.prototype._patternToChar=function(t){var e,n=this;for(e=0;e<n.CHARACTER_ENCODINGS.length;e++)if(n.CHARACTER_ENCODINGS[e]===t)return String.fromCharCode(n.ALPHABET[e]);return-1},a.prototype._computeAlternatingThreshold=function(t,e){var n,r,o=Number.MAX_VALUE,u=0;for(n=t;n<e;n+=2)r=this._counters[n],r>u&&(u=r),r<o&&(o=r);return(o+u)/2|0},a.prototype._toPattern=function(t){var e,n,r,o,u=7,s=t+u,f=1<<u-1,d=0;if(s>this._counters.length)return-1;for(e=this._computeAlternatingThreshold(t,s),n=this._computeAlternatingThreshold(t+1,s),r=0;r<u;r++)o=(1&r)==0?e:n,this._counters[t+r]>o&&(d|=f),f>>=1;return d},a.prototype._isStartEnd=function(t){var e;for(e=0;e<this.START_END.length;e++)if(this.START_END[e]===t)return!0;return!1},a.prototype._sumCounters=function(t,e){var n,r=0;for(n=t;n<e;n++)r+=this._counters[n];return r},a.prototype._findStart=function(){var t,e,n,r=this,o=r._nextUnset(r._row);for(t=1;t<this._counters.length;t++)if((e=r._toPattern(t))!==-1&&r._isStartEnd(e))return o+=r._sumCounters(0,t),n=o+r._sumCounters(t,t+8),{start:o,end:n,startCounter:t,endCounter:t+8}},v.a=a},function(h,v,c){function a(){i.a.call(this)}function l(e,n,r){for(var o=r.length,u=0,s=0;o--;)s+=e[r[o]],u+=n[r[o]];return s/u}var i=c(1),t={CODE_SHIFT:{value:98},CODE_C:{value:99},CODE_B:{value:100},CODE_A:{value:101},START_CODE_A:{value:103},START_CODE_B:{value:104},START_CODE_C:{value:105},STOP_CODE:{value:106},CODE_PATTERN:{value:[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]},SINGLE_CODE_ERROR:{value:.64},AVG_CODE_ERROR:{value:.3},FORMAT:{value:"code_128",writeable:!1},MODULE_INDICES:{value:{bar:[0,2,4],space:[1,3,5]}}};a.prototype=Object.create(i.a.prototype,t),a.prototype.constructor=a,a.prototype._decodeCode=function(e,n){var r,o,u,s=[0,0,0,0,0,0],f=this,d=e,p=!f._row[d],_=0,y={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}};for(r=d;r<f._row.length;r++)if(f._row[r]^p)s[_]++;else{if(_===s.length-1){for(n&&f._correct(s,n),o=0;o<f.CODE_PATTERN.length;o++)(u=f._matchPattern(s,f.CODE_PATTERN[o]))<y.error&&(y.code=o,y.error=u);return y.end=r,y.code===-1||y.error>f.AVG_CODE_ERROR?null:(f.CODE_PATTERN[y.code]&&(y.correction.bar=l(f.CODE_PATTERN[y.code],s,this.MODULE_INDICES.bar),y.correction.space=l(f.CODE_PATTERN[y.code],s,this.MODULE_INDICES.space)),y)}_++,s[_]=1,p=!p}return null},a.prototype._correct=function(e,n){this._correctBars(e,n.bar,this.MODULE_INDICES.bar),this._correctBars(e,n.space,this.MODULE_INDICES.space)},a.prototype._findStart=function(){var e,n,r,o,u,s=[0,0,0,0,0,0],f=this,d=f._nextSet(f._row),p=!1,_=0,y={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}};for(e=d;e<f._row.length;e++)if(f._row[e]^p)s[_]++;else{if(_===s.length-1){for(u=0,o=0;o<s.length;o++)u+=s[o];for(n=f.START_CODE_A;n<=f.START_CODE_C;n++)(r=f._matchPattern(s,f.CODE_PATTERN[n]))<y.error&&(y.code=n,y.error=r);if(y.error<f.AVG_CODE_ERROR)return y.start=e-u,y.end=e,y.correction.bar=l(f.CODE_PATTERN[y.code],s,this.MODULE_INDICES.bar),y.correction.space=l(f.CODE_PATTERN[y.code],s,this.MODULE_INDICES.space),y;for(o=0;o<4;o++)s[o]=s[o+2];s[4]=0,s[5]=0,_--}else _++;s[_]=1,p=!p}return null},a.prototype._decode=function(){var e,n,r=this,o=r._findStart(),u=null,s=!1,f=[],d=0,p=0,_=[],y=[],O=!1,x=!0;if(o===null)return null;switch(u={code:o.code,start:o.start,end:o.end,correction:{bar:o.correction.bar,space:o.correction.space}},y.push(u),p=u.code,u.code){case r.START_CODE_A:e=r.CODE_A;break;case r.START_CODE_B:e=r.CODE_B;break;case r.START_CODE_C:e=r.CODE_C;break;default:return null}for(;!s;){if(n=O,O=!1,(u=r._decodeCode(u.end,u.correction))!==null)switch(u.code!==r.STOP_CODE&&(x=!0),u.code!==r.STOP_CODE&&(_.push(u.code),d++,p+=d*u.code),y.push(u),e){case r.CODE_A:if(u.code<64)f.push(String.fromCharCode(32+u.code));else if(u.code<96)f.push(String.fromCharCode(u.code-64));else switch(u.code!==r.STOP_CODE&&(x=!1),u.code){case r.CODE_SHIFT:O=!0,e=r.CODE_B;break;case r.CODE_B:e=r.CODE_B;break;case r.CODE_C:e=r.CODE_C;break;case r.STOP_CODE:s=!0}break;case r.CODE_B:if(u.code<96)f.push(String.fromCharCode(32+u.code));else switch(u.code!==r.STOP_CODE&&(x=!1),u.code){case r.CODE_SHIFT:O=!0,e=r.CODE_A;break;case r.CODE_A:e=r.CODE_A;break;case r.CODE_C:e=r.CODE_C;break;case r.STOP_CODE:s=!0}break;case r.CODE_C:if(u.code<100)f.push(u.code<10?"0"+u.code:u.code);else switch(u.code!==r.STOP_CODE&&(x=!1),u.code){case r.CODE_A:e=r.CODE_A;break;case r.CODE_B:e=r.CODE_B;break;case r.STOP_CODE:s=!0}}else s=!0;n&&(e=e===r.CODE_A?r.CODE_B:r.CODE_A)}return u===null?null:(u.end=r._nextUnset(r._row,u.end),r._verifyTrailingWhitespace(u)?(p-=d*_[_.length-1])%103!==_[_.length-1]?null:f.length?(x&&f.splice(f.length-1,1),{code:f.join(""),start:o.start,end:u.end,codeset:e,startInfo:o,decodedCodes:y,endInfo:u}):null:null)},i.a.prototype._verifyTrailingWhitespace=function(e){var n,r=this;return n=e.end+(e.end-e.start)/2,n<r._row.length&&r._matchRange(e.end,n,0)?e:null},v.a=a},function(h,v,c){function a(){l.a.call(this)}var l=c(31),i={IOQ:/[IOQ]/g,AZ09:/[A-Z0-9]{17}/};a.prototype=Object.create(l.a.prototype),a.prototype.constructor=a,a.prototype._decode=function(){var t=l.a.prototype._decode.apply(this);if(!t)return null;var e=t.code;return e?(e=e.replace(i.IOQ,""),e.match(i.AZ09)&&this._checkChecksum(e)?(t.code=e,t):null):null},a.prototype._checkChecksum=function(t){return!!t},v.a=a},function(h,v,c){function a(){l.a.call(this)}var l=c(1),i=c(3),t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e={ALPHABETH_STRING:{value:t},ALPHABET:{value:t.split("").map(function(n){return n.charCodeAt(0)})},CHARACTER_ENCODINGS:{value:[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]},ASTERISK:{value:350},FORMAT:{value:"code_93",writeable:!1}};a.prototype=Object.create(l.a.prototype,e),a.prototype.constructor=a,a.prototype._decode=function(){var n,r,o,u,s=this,f=[0,0,0,0,0,0],d=[],p=s._findStart();if(!p)return null;u=s._nextSet(s._row,p.end);do{if(f=s._toCounters(u,f),(o=s._toPattern(f))<0||(n=s._patternToChar(o))<0)return null;d.push(n),r=u,u+=i.a.sum(f),u=s._nextSet(s._row,u)}while(n!=="*");return d.pop(),d.length&&s._verifyEnd(r,u,f)&&s._verifyChecksums(d)?(d=d.slice(0,d.length-2),(d=s._decodeExtended(d))===null?null:{code:d.join(""),start:p.start,end:u,startInfo:p,decodedCodes:d}):null},a.prototype._verifyEnd=function(n,r){return!(n===r||!this._row[r])},a.prototype._patternToChar=function(n){var r,o=this;for(r=0;r<o.CHARACTER_ENCODINGS.length;r++)if(o.CHARACTER_ENCODINGS[r]===n)return String.fromCharCode(o.ALPHABET[r]);return-1},a.prototype._toPattern=function(n){for(var r=n.length,o=0,u=0,s=0;s<r;s++)u+=n[s];for(var f=0;f<r;f++){var d=Math.round(9*n[f]/u);if(d<1||d>4)return-1;if((1&f)==0)for(var p=0;p<d;p++)o=o<<1|1;else o<<=d}return o},a.prototype._findStart=function(){var n,r,o,u=this,s=u._nextSet(u._row),f=s,d=[0,0,0,0,0,0],p=0,_=!1;for(n=s;n<u._row.length;n++)if(u._row[n]^_)d[p]++;else{if(p===d.length-1){if(u._toPattern(d)===u.ASTERISK&&(o=Math.floor(Math.max(0,f-(n-f)/4)),u._matchRange(o,f,0)))return{start:f,end:n};for(f+=d[0]+d[1],r=0;r<4;r++)d[r]=d[r+2];d[4]=0,d[5]=0,p--}else p++;d[p]=1,_=!_}return null},a.prototype._decodeExtended=function(n){for(var r=n.length,o=[],u=0;u<r;u++){var s=n[u];if(s>="a"&&s<="d"){if(u>r-2)return null;var f=n[++u],d=f.charCodeAt(0),p=void 0;switch(s){case"a":if(!(f>="A"&&f<="Z"))return null;p=String.fromCharCode(d-64);break;case"b":if(f>="A"&&f<="E")p=String.fromCharCode(d-38);else if(f>="F"&&f<="J")p=String.fromCharCode(d-11);else if(f>="K"&&f<="O")p=String.fromCharCode(d+16);else if(f>="P"&&f<="S")p=String.fromCharCode(d+43);else{if(!(f>="T"&&f<="Z"))return null;p=""}break;case"c":if(f>="A"&&f<="O")p=String.fromCharCode(d-32);else{if(f!=="Z")return null;p=":"}break;case"d":if(!(f>="A"&&f<="Z"))return null;p=String.fromCharCode(d+32)}o.push(p)}else o.push(s)}return o},a.prototype._verifyChecksums=function(n){return this._matchCheckChar(n,n.length-2,20)&&this._matchCheckChar(n,n.length-1,15)},a.prototype._matchCheckChar=function(n,r,o){var u=this,s=n.slice(0,r),f=s.length,d=s.reduce(function(p,_,y){return p+((y*-1+(f-1))%o+1)*u.ALPHABET.indexOf(_.charCodeAt(0))},0);return this.ALPHABET[d%47]===n[r].charCodeAt(0)},v.a=a},function(h,v,c){function a(){l.a.call(this)}var l=c(4),i={FORMAT:{value:"ean_2",writeable:!1}};a.prototype=Object.create(l.a.prototype,i),a.prototype.constructor=a,a.prototype.decode=function(t,e){this._row=t;var n,r=0,o=0,u=e,s=this._row.length,f=[],d=[];for(o=0;o<2&&u<s;o++){if(!(n=this._decodeCode(u)))return null;d.push(n),f.push(n.code%10),n.code>=this.CODE_G_START&&(r|=1<<1-o),o!=1&&(u=this._nextSet(this._row,n.end),u=this._nextUnset(this._row,u))}return f.length!=2||parseInt(f.join(""))%4!==r?null:{code:f.join(""),decodedCodes:d,end:n.end}},v.a=a},function(h,v,c){function a(){t.a.call(this)}function l(r){var o;for(o=0;o<10;o++)if(r===n[o])return o;return null}function i(r){var o,u=r.length,s=0;for(o=u-2;o>=0;o-=2)s+=r[o];for(s*=3,o=u-1;o>=0;o-=2)s+=r[o];return(s*=3)%10}var t=c(4),e={FORMAT:{value:"ean_5",writeable:!1}},n=[24,20,18,17,12,6,3,10,9,5];a.prototype=Object.create(t.a.prototype,e),a.prototype.constructor=a,a.prototype.decode=function(r,o){this._row=r;var u,s=0,f=0,d=o,p=this._row.length,_=[],y=[];for(f=0;f<5&&d<p;f++){if(!(u=this._decodeCode(d)))return null;y.push(u),_.push(u.code%10),u.code>=this.CODE_G_START&&(s|=1<<4-f),f!=4&&(d=this._nextSet(this._row,u.end),d=this._nextUnset(this._row,d))}return _.length!=5||i(_)!==l(s)?null:{code:_.join(""),decodedCodes:y,end:u.end}},v.a=a},function(h,v,c){function a(t,e){l.a.call(this,t,e)}var l=c(4),i={FORMAT:{value:"ean_8",writeable:!1}};a.prototype=Object.create(l.a.prototype,i),a.prototype.constructor=a,a.prototype._decodePayload=function(t,e,n){var r,o=this;for(r=0;r<4;r++){if(!(t=o._decodeCode(t.end,o.CODE_G_START)))return null;e.push(t.code),n.push(t)}if((t=o._findPattern(o.MIDDLE_PATTERN,t.end,!0,!1))===null)return null;for(n.push(t),r=0;r<4;r++){if(!(t=o._decodeCode(t.end,o.CODE_G_START)))return null;n.push(t),e.push(t.code)}return t},v.a=a},function(h,v,c){function a(u){u=t()(l(),u),e.a.call(this,u),this.barSpaceRatio=[1,1],u.normalizeBarSpaceWidth&&(this.SINGLE_CODE_ERROR=.38,this.AVG_CODE_ERROR=.09)}function l(){var u={};return Object.keys(a.CONFIG_KEYS).forEach(function(s){u[s]=a.CONFIG_KEYS[s].default}),u}var i=c(28),t=c.n(i),e=c(1),n=1,r=3,o={START_PATTERN:{value:[n,n,n,n]},STOP_PATTERN:{value:[n,n,r]},CODE_PATTERN:{value:[[n,n,r,r,n],[r,n,n,n,r],[n,r,n,n,r],[r,r,n,n,n],[n,n,r,n,r],[r,n,r,n,n],[n,r,r,n,n],[n,n,n,r,r],[r,n,n,r,n],[n,r,n,r,n]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.38,writable:!0},MAX_CORRECTION_FACTOR:{value:5},FORMAT:{value:"i2of5"}};a.prototype=Object.create(e.a.prototype,o),a.prototype.constructor=a,a.prototype._matchPattern=function(u,s){if(this.config.normalizeBarSpaceWidth){var f,d=[0,0],p=[0,0],_=[0,0],y=this.MAX_CORRECTION_FACTOR,O=1/y;for(f=0;f<u.length;f++)d[f%2]+=u[f],p[f%2]+=s[f];for(_[0]=p[0]/d[0],_[1]=p[1]/d[1],_[0]=Math.max(Math.min(_[0],y),O),_[1]=Math.max(Math.min(_[1],y),O),this.barSpaceRatio=_,f=0;f<u.length;f++)u[f]*=this.barSpaceRatio[f%2]}return e.a.prototype._matchPattern.call(this,u,s)},a.prototype._findPattern=function(u,s,f,d){var p,_,y,O,x=[],w=this,R=0,C={error:Number.MAX_VALUE,code:-1,start:0,end:0},z=w.AVG_CODE_ERROR;for(f=f||!1,d=d||!1,s||(s=w._nextSet(w._row)),p=0;p<u.length;p++)x[p]=0;for(p=s;p<w._row.length;p++)if(w._row[p]^f)x[R]++;else{if(R===x.length-1){for(O=0,y=0;y<x.length;y++)O+=x[y];if((_=w._matchPattern(x,u))<z)return C.error=_,C.start=p-O,C.end=p,C;if(!d)return null;for(y=0;y<x.length-2;y++)x[y]=x[y+2];x[x.length-2]=0,x[x.length-1]=0,R--}else R++;x[R]=1,f=!f}return null},a.prototype._findStart=function(){for(var u,s,f=this,d=f._nextSet(f._row),p=1;!s;){if(!(s=f._findPattern(f.START_PATTERN,d,!1,!0)))return null;if(p=Math.floor((s.end-s.start)/4),(u=s.start-10*p)>=0&&f._matchRange(u,s.start,0))return s;d=s.end,s=null}},a.prototype._verifyTrailingWhitespace=function(u){var s,f=this;return s=u.end+(u.end-u.start)/2,s<f._row.length&&f._matchRange(u.end,s,0)?u:null},a.prototype._findEnd=function(){var u,s,f=this;return f._row.reverse(),u=f._findPattern(f.STOP_PATTERN),f._row.reverse(),u===null?null:(s=u.start,u.start=f._row.length-u.end,u.end=f._row.length-s,u!==null?f._verifyTrailingWhitespace(u):null)},a.prototype._decodePair=function(u){var s,f,d=[],p=this;for(s=0;s<u.length;s++){if(!(f=p._decodeCode(u[s])))return null;d.push(f)}return d},a.prototype._decodeCode=function(u){var s,f,d,p=this,_=0,y=p.AVG_CODE_ERROR,O={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(s=0;s<u.length;s++)_+=u[s];for(d=0;d<p.CODE_PATTERN.length;d++)(f=p._matchPattern(u,p.CODE_PATTERN[d]))<O.error&&(O.code=d,O.error=f);if(O.error<y)return O},a.prototype._decodePayload=function(u,s,f){for(var d,p,_=this,y=0,O=u.length,x=[[0,0,0,0,0],[0,0,0,0,0]];y<O;){for(d=0;d<5;d++)x[0][d]=u[y]*this.barSpaceRatio[0],x[1][d]=u[y+1]*this.barSpaceRatio[1],y+=2;if(!(p=_._decodePair(x)))return null;for(d=0;d<p.length;d++)s.push(p[d].code+""),f.push(p[d])}return p},a.prototype._verifyCounterLength=function(u){return u.length%10==0},a.prototype._decode=function(){var u,s,f,d=this,p=[],_=[];return(u=d._findStart())?(_.push(u),(s=d._findEnd())?(f=d._fillCounters(u.end,s.start,!1),d._verifyCounterLength(f)&&d._decodePayload(f,p,_)?p.length%2!=0||p.length<6?null:(_.push(s),{code:p.join(""),start:u.start,end:s.end,startInfo:u,decodedCodes:_}):null):null):null},a.CONFIG_KEYS={normalizeBarSpaceWidth:{type:"boolean",default:!1,description:"If true, the reader tries to normalize thewidth-difference between bars and spaces"}},v.a=a},function(h,v,c){function a(t,e){l.a.call(this,t,e)}var l=c(4),i={CODE_FREQUENCY:{value:[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]},STOP_PATTERN:{value:[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]},FORMAT:{value:"upc_e",writeable:!1}};a.prototype=Object.create(l.a.prototype,i),a.prototype.constructor=a,a.prototype._decodePayload=function(t,e,n){var r,o=this,u=0;for(r=0;r<6;r++){if(!(t=o._decodeCode(t.end)))return null;t.code>=o.CODE_G_START&&(t.code=t.code-o.CODE_G_START,u|=1<<5-r),e.push(t.code),n.push(t)}return o._determineParity(u,e)?t:null},a.prototype._determineParity=function(t,e){var n,r;for(r=0;r<this.CODE_FREQUENCY.length;r++)for(n=0;n<this.CODE_FREQUENCY[r].length;n++)if(t===this.CODE_FREQUENCY[r][n])return e.unshift(r),e.push(n),!0;return!1},a.prototype._convertToUPCA=function(t){var e=[t[0]],n=t[t.length-2];return e=n<=2?e.concat(t.slice(1,3)).concat([n,0,0,0,0]).concat(t.slice(3,6)):n===3?e.concat(t.slice(1,4)).concat([0,0,0,0,0]).concat(t.slice(4,6)):n===4?e.concat(t.slice(1,5)).concat([0,0,0,0,0,t[5]]):e.concat(t.slice(1,6)).concat([0,0,0,0,n]),e.push(t[t.length-1]),e},a.prototype._checksum=function(t){return l.a.prototype._checksum.call(this,this._convertToUPCA(t))},a.prototype._findEnd=function(t,e){return e=!0,l.a.prototype._findEnd.call(this,t,e)},a.prototype._verifyTrailingWhitespace=function(t){var e,n=this;if((e=t.end+(t.end-t.start)/2)<n._row.length&&n._matchRange(t.end,e,0))return t},v.a=a},function(h,v,c){function a(t,e){l.a.call(this,t,e)}var l=c(4),i={FORMAT:{value:"upc_a",writeable:!1}};a.prototype=Object.create(l.a.prototype,i),a.prototype.constructor=a,a.prototype._decode=function(){var t=l.a.prototype._decode.call(this);return t&&t.code&&t.code.length===13&&t.code.charAt(0)==="0"?(t.code=t.code.substring(1),t):null},v.a=a},function(h,v){function c(a,l){return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a}h.exports=c},function(h,v){function c(){var a=new Float32Array(4);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a}h.exports=c},function(h,v){function c(a,l){var i=l[0],t=l[1],e=l[2],n=l[3],r=i*n-e*t;return r?(r=1/r,a[0]=n*r,a[1]=-t*r,a[2]=-e*r,a[3]=i*r,a):null}h.exports=c},function(h,v){function c(a,l,i){return a[0]=l[0]*i,a[1]=l[1]*i,a}h.exports=c},function(h,v){function c(a,l,i){var t=l[0],e=l[1];return a[0]=i[0]*t+i[2]*e,a[1]=i[1]*t+i[3]*e,a}h.exports=c},function(h,v){function c(a){var l=new Float32Array(3);return l[0]=a[0],l[1]=a[1],l[2]=a[2],l}h.exports=c},function(h,v,c){function a(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var s=r[o];this.set(s[0],s[1])}}var l=c(122),i=c(123),t=c(124),e=c(125),n=c(126);a.prototype.clear=l,a.prototype.delete=i,a.prototype.get=t,a.prototype.has=e,a.prototype.set=n,h.exports=a},function(h,v,c){function a(o){var u=this.__data__=new l(o);this.size=u.size}var l=c(10),i=c(149),t=c(150),e=c(151),n=c(152),r=c(153);a.prototype.clear=i,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=r,h.exports=a},function(h,v,c){var a=c(5),l=a.Uint8Array;h.exports=l},function(h,v){function c(a,l,i){switch(i.length){case 0:return a.call(l);case 1:return a.call(l,i[0]);case 2:return a.call(l,i[0],i[1]);case 3:return a.call(l,i[0],i[1],i[2])}return a.apply(l,i)}h.exports=c},function(h,v,c){function a(s,f){var d=t(s),p=!d&&i(s),_=!d&&!p&&e(s),y=!d&&!p&&!_&&r(s),O=d||p||_||y,x=O?l(s.length,String):[],w=x.length;for(var R in s)!f&&!u.call(s,R)||O&&(R=="length"||_&&(R=="offset"||R=="parent")||y&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||n(R,w))||x.push(R);return x}var l=c(107),i=c(18),t=c(2),e=c(44),n=c(15),r=c(45),o=Object.prototype,u=o.hasOwnProperty;h.exports=a},function(h,v){function c(a,l){for(var i=-1,t=a==null?0:a.length,e=Array(t);++i<t;)e[i]=l(a[i],i,a);return e}h.exports=c},function(h,v){function c(a,l){for(var i=-1,t=l.length,e=a.length;++i<t;)a[e+i]=l[i];return a}h.exports=c},function(h,v,c){var a=c(0),l=Object.create,i=function(){function t(){}return function(e){if(!a(e))return{};if(l)return l(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();h.exports=i},function(h,v,c){function a(t,e,n,r,o){var u=-1,s=t.length;for(n||(n=i),o||(o=[]);++u<s;){var f=t[u];e>0&&n(f)?e>1?a(f,e-1,n,r,o):l(o,f):r||(o[o.length]=f)}return o}var l=c(90),i=c(128);h.exports=a},function(h,v,c){var a=c(117),l=a();h.exports=l},function(h,v,c){function a(t,e){e=l(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[i(e[n++])];return n&&n==r?t:void 0}var l=c(13),i=c(23);h.exports=a},function(h,v){function c(a,l){return a!=null&&l in Object(a)}h.exports=c},function(h,v,c){function a(e){return i(e)&&l(e)==t}var l=c(8),i=c(6),t="[object Arguments]";h.exports=a},function(h,v,c){function a(p){return!(!t(p)||i(p))&&(l(p)?d:r).test(e(p))}var l=c(25),i=c(132),t=c(0),e=c(155),n=/[\\^$.*+?()[\]{}|]/g,r=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,s=o.toString,f=u.hasOwnProperty,d=RegExp("^"+s.call(f).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");h.exports=a},function(h,v,c){function a(n){return t(n)&&i(n.length)&&!!e[l(n)]}var l=c(8),i=c(26),t=c(6),e={};e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0,e["[object Arguments]"]=e["[object Array]"]=e["[object ArrayBuffer]"]=e["[object Boolean]"]=e["[object DataView]"]=e["[object Date]"]=e["[object Error]"]=e["[object Function]"]=e["[object Map]"]=e["[object Number]"]=e["[object Object]"]=e["[object RegExp]"]=e["[object Set]"]=e["[object String]"]=e["[object WeakMap]"]=!1,h.exports=a},function(h,v,c){function a(r){if(!l(r))return t(r);var o=i(r),u=[];for(var s in r)(s!="constructor"||!o&&n.call(r,s))&&u.push(s);return u}var l=c(0),i=c(40),t=c(144),e=Object.prototype,n=e.hasOwnProperty;h.exports=a},function(h,v,c){function a(o,u,s,f,d){o!==u&&t(u,function(p,_){if(n(p))d||(d=new l),e(o,u,_,s,a,f,d);else{var y=f?f(o[_],p,_+"",o,u,d):void 0;y===void 0&&(y=p),i(o,_,y)}},r)}var l=c(85),i=c(35),t=c(93),e=c(101),n=c(0),r=c(46);h.exports=a},function(h,v,c){function a(O,x,w,R,C,z,j){var m=O[w],T=x[w],k=j.get(T);if(k)return void l(O,w,k);var I=z?z(m,T,w+"",O,x,j):void 0,P=I===void 0;if(P){var q=o(T),G=!q&&s(T),$=!q&&!G&&_(T);I=T,q||G||$?o(m)?I=m:u(m)?I=e(m):G?(P=!1,I=i(T,!0)):$?(P=!1,I=t(T,!0)):I=[]:p(T)||r(T)?(I=m,r(m)?I=y(m):(!d(m)||R&&f(m))&&(I=n(T))):P=!1}P&&(j.set(T,I),C(I,T,R,z,j),j.delete(T)),l(O,w,I)}var l=c(35),i=c(111),t=c(112),e=c(113),n=c(127),r=c(18),o=c(2),u=c(159),s=c(44),f=c(25),d=c(0),p=c(160),_=c(45),y=c(164);h.exports=a},function(h,v,c){function a(t,e){return l(t,e,function(n,r){return i(t,r)})}var l=c(103),i=c(158);h.exports=a},function(h,v,c){function a(e,n,r){for(var o=-1,u=n.length,s={};++o<u;){var f=n[o],d=l(e,f);r(d,f)&&i(s,t(f,e),d)}return s}var l=c(94),i=c(105),t=c(13);h.exports=a},function(h,v,c){function a(e,n){return t(i(e,n,l),e+"")}var l=c(43),i=c(41),t=c(42);h.exports=a},function(h,v,c){function a(r,o,u,s){if(!e(r))return r;o=i(o,r);for(var f=-1,d=o.length,p=d-1,_=r;_!=null&&++f<d;){var y=n(o[f]),O=u;if(f!=p){var x=_[y];O=s?s(x,y,_):void 0,O===void 0&&(O=e(x)?x:t(o[f+1])?[]:{})}l(_,y,O),_=_[y]}return r}var l=c(36),i=c(13),t=c(15),e=c(0),n=c(23);h.exports=a},function(h,v,c){var a=c(156),l=c(37),i=c(43),t=l?function(e,n){return l(e,"toString",{configurable:!0,enumerable:!1,value:a(n),writable:!0})}:i;h.exports=t},function(h,v){function c(a,l){for(var i=-1,t=Array(a);++i<a;)t[i]=l(i);return t}h.exports=c},function(h,v,c){function a(o){if(typeof o=="string")return o;if(t(o))return i(o,a)+"";if(e(o))return r?r.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}var l=c(11),i=c(89),t=c(2),e=c(27),n=l?l.prototype:void 0,r=n?n.toString:void 0;h.exports=a},function(h,v){function c(a){return function(l){return a(l)}}h.exports=c},function(h,v,c){function a(i){var t=new i.constructor(i.byteLength);return new l(t).set(new l(i)),t}var l=c(86);h.exports=a},function(h,v,c){(function(a){function l(u,s){if(s)return u.slice();var f=u.length,d=o?o(f):new u.constructor(f);return u.copy(d),d}var i=c(5),t=typeof v=="object"&&v&&!v.nodeType&&v,e=t&&typeof a=="object"&&a&&!a.nodeType&&a,n=e&&e.exports===t,r=n?i.Buffer:void 0,o=r?r.allocUnsafe:void 0;a.exports=l}).call(v,c(29)(h))},function(h,v,c){function a(i,t){var e=t?l(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var l=c(110);h.exports=a},function(h,v){function c(a,l){var i=-1,t=a.length;for(l||(l=Array(t));++i<t;)l[i]=a[i];return l}h.exports=c},function(h,v,c){function a(t,e,n,r){var o=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var f=e[u],d=r?r(n[f],t[f],f,n,t):void 0;d===void 0&&(d=t[f]),o?i(n,f,d):l(n,f,d)}return n}var l=c(36),i=c(21);h.exports=a},function(h,v,c){var a=c(5),l=a["__core-js_shared__"];h.exports=l},function(h,v,c){function a(t){return l(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(u=t.length>3&&typeof u=="function"?(o--,u):void 0,s&&i(n[0],n[1],s)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var f=n[r];f&&t(e,f,r,u)}return e})}var l=c(104),i=c(129);h.exports=a},function(h,v){function c(a){return function(l,i,t){for(var e=-1,n=Object(l),r=t(l),o=r.length;o--;){var u=r[a?o:++e];if(i(n[u],u,n)===!1)break}return l}}h.exports=c},function(h,v,c){function a(e){return t(i(e,void 0,l),e+"")}var l=c(157),i=c(41),t=c(42);h.exports=a},function(h,v,c){function a(r){var o=t.call(r,n),u=r[n];try{r[n]=void 0;var s=!0}catch{}var f=e.call(r);return s&&(o?r[n]=u:delete r[n]),f}var l=c(11),i=Object.prototype,t=i.hasOwnProperty,e=i.toString,n=l?l.toStringTag:void 0;h.exports=a},function(h,v){function c(a,l){return a?.[l]}h.exports=c},function(h,v,c){function a(o,u,s){u=l(u,o);for(var f=-1,d=u.length,p=!1;++f<d;){var _=r(u[f]);if(!(p=o!=null&&s(o,_)))break;o=o[_]}return p||++f!=d?p:!!(d=o==null?0:o.length)&&n(d)&&e(_,d)&&(t(o)||i(o))}var l=c(13),i=c(18),t=c(2),e=c(15),n=c(26),r=c(23);h.exports=a},function(h,v,c){function a(){this.__data__=l?l(null):{},this.size=0}var l=c(16);h.exports=a},function(h,v){function c(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}h.exports=c},function(h,v,c){function a(n){var r=this.__data__;if(l){var o=r[n];return o===i?void 0:o}return e.call(r,n)?r[n]:void 0}var l=c(16),i="__lodash_hash_undefined__",t=Object.prototype,e=t.hasOwnProperty;h.exports=a},function(h,v,c){function a(e){var n=this.__data__;return l?n[e]!==void 0:t.call(n,e)}var l=c(16),i=Object.prototype,t=i.hasOwnProperty;h.exports=a},function(h,v,c){function a(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=l&&e===void 0?i:e,this}var l=c(16),i="__lodash_hash_undefined__";h.exports=a},function(h,v,c){function a(e){return typeof e.constructor!="function"||t(e)?{}:l(i(e))}var l=c(91),i=c(39),t=c(40);h.exports=a},function(h,v,c){function a(n){return t(n)||i(n)||!!(e&&n&&n[e])}var l=c(11),i=c(18),t=c(2),e=l?l.isConcatSpreadable:void 0;h.exports=a},function(h,v,c){function a(n,r,o){if(!e(o))return!1;var u=typeof r;return!!(u=="number"?i(o)&&t(r,o.length):u=="string"&&r in o)&&l(o[r],n)}var l=c(17),i=c(24),t=c(15),e=c(0);h.exports=a},function(h,v,c){function a(n,r){if(l(n))return!1;var o=typeof n;return!(o!="number"&&o!="symbol"&&o!="boolean"&&n!=null&&!i(n))||e.test(n)||!t.test(n)||r!=null&&n in Object(r)}var l=c(2),i=c(27),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;h.exports=a},function(h,v){function c(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}h.exports=c},function(h,v,c){function a(t){return!!i&&i in t}var l=c(115),i=function(){var t=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();h.exports=a},function(h,v){function c(){this.__data__=[],this.size=0}h.exports=c},function(h,v,c){function a(e){var n=this.__data__,r=l(n,e);return!(r<0)&&(r==n.length-1?n.pop():t.call(n,r,1),--this.size,!0)}var l=c(12),i=Array.prototype,t=i.splice;h.exports=a},function(h,v,c){function a(i){var t=this.__data__,e=l(t,i);return e<0?void 0:t[e][1]}var l=c(12);h.exports=a},function(h,v,c){function a(i){return l(this.__data__,i)>-1}var l=c(12);h.exports=a},function(h,v,c){function a(i,t){var e=this.__data__,n=l(e,i);return n<0?(++this.size,e.push([i,t])):e[n][1]=t,this}var l=c(12);h.exports=a},function(h,v,c){function a(){this.size=0,this.__data__={hash:new l,map:new(t||i),string:new l}}var l=c(84),i=c(10),t=c(33);h.exports=a},function(h,v,c){function a(i){var t=l(this,i).delete(i);return this.size-=t?1:0,t}var l=c(14);h.exports=a},function(h,v,c){function a(i){return l(this,i).get(i)}var l=c(14);h.exports=a},function(h,v,c){function a(i){return l(this,i).has(i)}var l=c(14);h.exports=a},function(h,v,c){function a(i,t){var e=l(this,i),n=e.size;return e.set(i,t),this.size+=e.size==n?0:1,this}var l=c(14);h.exports=a},function(h,v,c){function a(t){var e=l(t,function(r){return n.size===i&&n.clear(),r}),n=e.cache;return e}var l=c(161),i=500;h.exports=a},function(h,v){function c(a){var l=[];if(a!=null)for(var i in Object(a))l.push(i);return l}h.exports=c},function(h,v,c){(function(a){var l=c(38),i=typeof v=="object"&&v&&!v.nodeType&&v,t=i&&typeof a=="object"&&a&&!a.nodeType&&a,e=t&&t.exports===i,n=e&&l.process,r=function(){try{return n&&n.binding&&n.binding("util")}catch{}}();a.exports=r}).call(v,c(29)(h))},function(h,v){function c(i){return l.call(i)}var a=Object.prototype,l=a.toString;h.exports=c},function(h,v){function c(a,l){return function(i){return a(l(i))}}h.exports=c},function(h,v){function c(t){var e=0,n=0;return function(){var r=i(),o=l-(r-n);if(n=r,o>0){if(++e>=a)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var a=800,l=16,i=Date.now;h.exports=c},function(h,v,c){function a(){this.__data__=new l,this.size=0}var l=c(10);h.exports=a},function(h,v){function c(a){var l=this.__data__,i=l.delete(a);return this.size=l.size,i}h.exports=c},function(h,v){function c(a){return this.__data__.get(a)}h.exports=c},function(h,v){function c(a){return this.__data__.has(a)}h.exports=c},function(h,v,c){function a(n,r){var o=this.__data__;if(o instanceof l){var u=o.__data__;if(!i||u.length<e-1)return u.push([n,r]),this.size=++o.size,this;o=this.__data__=new t(u)}return o.set(n,r),this.size=o.size,this}var l=c(10),i=c(33),t=c(34),e=200;h.exports=a},function(h,v,c){var a=c(143),l=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,e=a(function(n){var r=[];return l.test(n)&&r.push(""),n.replace(i,function(o,u,s,f){r.push(s?f.replace(t,"$1"):u||o)}),r});h.exports=e},function(h,v){function c(i){if(i!=null){try{return l.call(i)}catch{}try{return i+""}catch{}}return""}var a=Function.prototype,l=a.toString;h.exports=c},function(h,v){function c(a){return function(){return a}}h.exports=c},function(h,v,c){function a(i){return i!=null&&i.length?l(i,1):[]}var l=c(92);h.exports=a},function(h,v,c){function a(t,e){return t!=null&&i(t,e,l)}var l=c(95),i=c(121);h.exports=a},function(h,v,c){function a(t){return i(t)&&l(t)}var l=c(24),i=c(6);h.exports=a},function(h,v,c){function a(f){if(!t(f)||l(f)!=e)return!1;var d=i(f);if(d===null)return!0;var p=u.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==s}var l=c(8),i=c(39),t=c(6),e="[object Object]",n=Function.prototype,r=Object.prototype,o=n.toString,u=r.hasOwnProperty,s=o.call(Object);h.exports=a},function(h,v,c){function a(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var s=t.apply(this,r);return n.cache=u.set(o,s)||u,s};return n.cache=new(a.Cache||l),n}var l=c(34),i="Expected a function";a.Cache=l,h.exports=a},function(h,v,c){var a=c(102),l=c(118),i=l(function(t,e){return t==null?{}:a(t,e)});h.exports=i},function(h,v){function c(){return!1}h.exports=c},function(h,v,c){function a(t){return l(t,i(t))}var l=c(114),i=c(46);h.exports=a},function(h,v,c){function a(i){return i==null?"":l(i)}var l=c(108);h.exports=a},function(h,v,c){h.exports=c(48)}])})}(vt)),vt.exports}var On=wn();const Ce=Or(On),Sn=({onDetected:N,onError:E,isActive:A=!1,className:h=""})=>{const v=ne.useRef(null),[c,a]=ne.useState(!1),[l,i]=ne.useState(null),[t,e]=ne.useState(!0);ne.useEffect(()=>(A&&t?n():r(),()=>{r()}),[A,t]);const n=async()=>{try{if((await navigator.mediaDevices.enumerateDevices()).filter(f=>f.kind==="videoinput").length===0){e(!1),i("لا توجد كاميرا متاحة على هذا الجهاز");return}i(null),a(!0),Ce.init({inputStream:{name:"Live",type:"LiveStream",target:v.current,constraints:{width:640,height:480,facingMode:"environment"}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,frequency:10,decoder:{readers:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader"]},locate:!0},f=>{if(f){console.error("خطأ في تشغيل الماسح:",f),i("فشل في تشغيل الماسح: "+f.message),a(!1),E&&E(f);return}console.log("تم تشغيل ماسح الباركود بنجاح"),Ce.start()}),Ce.onDetected(f=>{const d=f.codeResult.code;console.log("تم اكتشاف باركود:",d),N&&N(d),r()})}catch(u){console.error("خطأ في الوصول للكاميرا:",u),i("فشل في الوصول للكاميرا: "+u.message),a(!1),E&&E(u)}},r=()=>{c&&(Ce.stop(),a(!1))},o=u=>{const s=u.target.files[0];if(!s)return;const f=new FileReader;f.onload=d=>{const p=new Image;p.onload=()=>{const _=document.createElement("canvas"),y=_.getContext("2d");_.width=p.width,_.height=p.height,y.drawImage(p,0,0),Ce.decodeSingle({decoder:{readers:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","upc_reader"]},locate:!0,src:d.target.result},O=>{O&&O.codeResult?(console.log("تم قراءة الباركود من الصورة:",O.codeResult.code),N&&N(O.codeResult.code)):i("لم يتم العثور على باركود في الصورة")})},p.src=d.target.result},f.readAsDataURL(s),u.target.value=""};return t?g.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${h}`,children:[l&&g.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:g.jsx("div",{className:"text-red-700 text-sm",children:l})}),g.jsxs("div",{className:"text-center",children:[A?g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:v,className:"relative bg-black rounded-lg overflow-hidden mb-4",style:{minHeight:"300px"},children:c&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"bg-black bg-opacity-50 text-white p-2 rounded",children:"جاري البحث عن باركود..."})})}),g.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"وجه الكاميرا نحو الباركود واتركها ثابتة"})]}):g.jsxs("div",{className:"py-8",children:[g.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),g.jsx("p",{className:"text-gray-500 text-sm",children:"اضغط على زر المسح لبدء قراءة الباركود"})]}),g.jsx("div",{className:"flex justify-center gap-2",children:g.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer",children:[g.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"رفع صورة",g.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]})})]})]}):g.jsx("div",{className:`bg-yellow-50 border border-yellow-200 rounded-lg p-4 ${h}`,children:g.jsxs("div",{className:"text-center",children:[g.jsx("svg",{className:"mx-auto h-12 w-12 text-yellow-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),g.jsx("h3",{className:"text-lg font-medium text-yellow-900 mb-2",children:"لا توجد كاميرا متاحة"}),g.jsx("p",{className:"text-yellow-700 text-sm mb-4",children:"يمكنك رفع صورة تحتوي على باركود بدلاً من ذلك"}),g.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 cursor-pointer",children:[g.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"رفع صورة باركود",g.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden"})]})]})})},wr=({value:N,onChange:E,showGenerator:A=!0,showScanner:h=!0,generateAutomatic:v=!0,className:c="",label:a="الباركود"})=>{const[l,i]=ne.useState("generate"),[t,e]=ne.useState(!1),[n,r]=ne.useState(N||""),o=()=>{const p=Date.now().toString(),_=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),y=`${p.slice(-8)}${_}`;r(y),E&&E(y)},u=p=>{const _=p.target.value;r(_),E&&E(_)},s=p=>{r(p),E&&E(p),e(!1),i("generate");const _=document.createElement("div");_.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",_.textContent=`تم قراءة الباركود: ${p}`,document.body.appendChild(_),setTimeout(()=>{document.body.removeChild(_)},3e3)},d=[{id:"generate",label:"توليد",icon:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),show:A},{id:"scan",label:"مسح",icon:g.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),show:h}].filter(p=>p.show);return g.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg ${c}`,children:[g.jsxs("div",{className:"p-4 border-b border-gray-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),v&&g.jsxs("button",{onClick:o,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded-md hover:bg-indigo-700 flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"توليد تلقائي"]})]}),g.jsx("div",{className:"mb-4",children:g.jsx("input",{type:"text",value:n,onChange:u,placeholder:"أدخل رقم الباركود أو استخدم المسح",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),d.length>1&&g.jsx("div",{className:"flex space-x-1 space-x-reverse bg-gray-100 p-1 rounded-lg",children:d.map(p=>g.jsxs("button",{onClick:()=>{i(p.id),p.id==="scan"?e(!0):e(!1)},className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ${l===p.id?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[p.icon,p.label]},p.id))})]}),g.jsxs("div",{className:"p-4",children:[l==="generate"&&A&&g.jsx(bn,{value:n,className:"w-full"}),l==="scan"&&h&&g.jsx(Sn,{isActive:t,onDetected:s,onError:p=>{console.error("خطأ في قراءة الباركود:",p)},className:"w-full"})]})]})};function An({products:N,suppliers:E,categories:A,productCategories:h}){const[v,c]=ne.useState(""),[a,l]=ne.useState(""),[i,t]=ne.useState(""),[e,n]=ne.useState(""),[r,o]=ne.useState("all"),[u,s]=ne.useState("all"),[f,d]=ne.useState({}),[p,_]=ne.useState(0),[y,O]=ne.useState({}),[x,w]=ne.useState(!1),R=b=>({id:b,name_ar:"",name_en:"",description:"",supplier_id:"",category_id:"",barcode:"",barcode_type:"auto",cost_price:"0",purchase_price:"",selling_price:"",wholesale_price:"",stock_quantity:"0",min_stock_level:"1",expiry_date:"",image:null,is_active:!0,isNew:!0}),C=()=>{w(!0)},z=()=>{const b=`new_${Date.now()}_${p}`,V=R(b);d(U=>({...U,[b]:V})),_(U=>U+1),w(!1)},j=(b,V,U)=>{d(S=>{const D=S[b]||{};return{...S,[b]:{...D,[V]:U}}})},m=(b,V)=>{if(V){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(V.type)){alert("نوع الملف غير مدعوم. يرجى اختيار صورة من نوع: JPEG, PNG, GIF, أو WebP");return}if(V.size>5*1024*1024){alert("حجم الملف كبير جداً. الحد الأقصى هو 5 ميجابايت");return}console.log("معلومات الملف:",{name:V.name,type:V.type,size:V.size,lastModified:new Date(V.lastModified)}),j(b,"image",V);const S=new FileReader;S.onload=D=>{j(b,"imagePreview",D.target.result)},S.readAsDataURL(V)}},T=async b=>{const V=f[b];O(S=>({...S,[b]:!0}));const U=new FormData;if(Object.keys(V).forEach(S=>{S!=="isNew"&&S!=="imagePreview"&&V[S]!==null&&V[S]!==void 0&&V[S]!==""&&(S==="image"?V[S]instanceof File&&(U.append(S,V[S]),console.log("إرسال صورة جديدة:",V[S].name)):S==="is_active"?U.append(S,V[S]?"1":"0"):U.append(S,V[S]))}),!U.get("name_ar")){alert("اسم المنتج بالعربية مطلوب"),O(S=>{const D={...S};return delete D[b],D});return}if(!U.get("supplier_id")){alert("المورد مطلوب"),O(S=>{const D={...S};return delete D[b],D});return}if(!U.get("purchase_price")||!U.get("selling_price")){alert("سعر الشراء وسعر البيع مطلوبان"),O(S=>{const D={...S};return delete D[b],D});return}console.log("محتويات FormData:");for(let[S,D]of U.entries())D instanceof File?console.log(`${S}:`,{name:D.name,size:D.size,type:D.type}):console.log(`${S}:`,D);try{V.isNew?(U.append("_method","POST"),mt.post(route("admin.products.store"),U,{forceFormData:!0,onSuccess:()=>{d(S=>{const D={...S};return delete D[b],D}),O(S=>{const D={...S};return delete D[b],D})},onError:S=>{console.error("خطأ في الحفظ:",S),alert("حدث خطأ أثناء الحفظ. يرجى التحقق من البيانات."),O(D=>{const B={...D};return delete B[b],B})}})):(U.append("_method","PUT"),mt.post(route("admin.products.update",V.id),U,{forceFormData:!0,onSuccess:()=>{d(S=>{const D={...S};return delete D[b],D}),O(S=>{const D={...S};return delete D[b],D})},onError:S=>{console.error("خطأ في التحديث:",S),alert("حدث خطأ أثناء التحديث. يرجى التحقق من البيانات."),O(D=>{const B={...D};return delete B[b],B})}}))}catch(S){console.error("خطأ في حفظ البيانات:",S),alert("حدث خطأ أثناء الحفظ. يرجى المحاولة مرة أخرى."),O(D=>{const B={...D};return delete B[b],B})}},k=b=>{d(V=>{const U={...V};return delete U[b],U})},I=b=>{d(V=>({...V,[b.id]:{...b,category_id:b.category_id||"",image:null,imagePreview:b.image?`/storage/${b.image}`:null,isNew:!1}}))},P=b=>{confirm("هل أنت متأكد من حذف هذا المنتج؟")&&mt.delete(route("admin.products.destroy",b.id))},G=[...N.filter(b=>{const V=!v||b.name_ar.toLowerCase().includes(v.toLowerCase())||b.name_en?.toLowerCase().includes(v.toLowerCase())||b.barcode?.includes(v),U=!a||b.supplier_id==a,S=!i||b.supplier?.category?.id==i,D=!e||b.category?.id==e,B=r==="all"||r==="active"&&b.is_active||r==="inactive"&&!b.is_active,L=u==="all"||u==="in_stock"&&(b.stock_quantity||0)>0||u==="low_stock"&&(b.stock_quantity||0)<=(b.min_stock_level||0)&&(b.stock_quantity||0)>0||u==="out_of_stock"&&(b.stock_quantity||0)===0;return V&&U&&S&&D&&B&&L}),...Object.values(f).filter(b=>b.isNew)],$=b=>new Intl.NumberFormat("ar-IQ",{style:"currency",currency:"IQD",minimumFractionDigits:0,maximumFractionDigits:0}).format(b||0),F=({rowId:b,field:V,value:U,type:S="text",options:D=[]})=>{const B=f[b];if(!B){if(S==="image")return g.jsx("div",{className:"flex items-center justify-center w-12 h-12",children:U?g.jsx("img",{src:`/storage/${U}`,alt:"صورة المنتج",className:"w-full h-full object-cover rounded border",onError:L=>{L.target.style.display="none"}}):g.jsx("div",{className:"w-full h-full bg-gray-100 rounded border flex items-center justify-center",children:g.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})});if(S==="select"&&D.length>0){const L=D.find(H=>H.id==U);return g.jsx("span",{className:"text-xs truncate block max-w-full",title:L?.name_ar||"-",children:L?.name_ar||"-"})}return S==="price"?g.jsx("span",{className:"text-xs font-medium text-green-600 truncate block",title:$(U),children:$(U)}):S==="boolean"?g.jsx("span",{className:`inline-flex px-1 py-0.5 text-xs font-medium rounded-full whitespace-nowrap ${U?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U?"نشط":"غير نشط"}):g.jsx("span",{className:"text-xs truncate block max-w-full",title:U||"-",children:U||"-"})}return S==="image"?g.jsxs("div",{className:"w-full",children:[g.jsx("input",{type:"file",accept:"image/*",onChange:L=>{const H=L.target.files[0];H&&m(b,H)},className:"w-full px-1 py-0.5 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500"}),B.imagePreview&&g.jsx("div",{className:"mt-1 w-12 h-12",children:g.jsx("img",{src:B.imagePreview,alt:"معاينة",className:"w-full h-full object-cover rounded border"})})]}):S==="select"?g.jsxs("select",{value:B[V]||"",onChange:L=>j(b,V,L.target.value),onKeyDown:L=>{if(L.key==="Enter"){L.preventDefault();const H=L.target.closest("tr").querySelector("input:not([readonly]), select:not([readonly])");H&&H!==L.target&&H.focus()}L.key==="Escape"&&k(b)},className:"w-full px-1 py-0.5 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[g.jsx("option",{value:"",children:"اختر..."}),D.map(L=>g.jsx("option",{value:L.id,children:L.name_ar},L.id))]}):S==="boolean"?g.jsxs("select",{value:B[V]?"true":"false",onChange:L=>j(b,V,L.target.value==="true"),onKeyDown:L=>{if(L.key==="Enter"){L.preventDefault();const H=L.target.closest("tr").querySelector("input:not([readonly]), select:not([readonly])");H&&H!==L.target&&H.focus()}L.key==="Escape"&&k(b)},className:"w-full px-1 py-0.5 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[g.jsx("option",{value:"true",children:"نشط"}),g.jsx("option",{value:"false",children:"غير نشط"})]}):S==="barcode"?g.jsx("div",{className:"w-full",children:g.jsx(wr,{value:B[V]||"",onChange:L=>j(b,V,L),showGenerator:!0,showScanner:!0,generateAutomatic:!0,className:"border-0 p-0",label:""})}):g.jsx("input",{type:S==="price"||S==="number"?"number":S==="date"?"date":"text",step:S==="price"?"0.01":void 0,value:B[V]||"",onChange:L=>j(b,V,L.target.value),onFocus:L=>{setTimeout(()=>L.target.select(),0)},onKeyDown:L=>{if(L.key==="Enter"){L.preventDefault();const H=L.target.closest("tr").querySelector("input:not([readonly]), select:not([readonly])");H&&H!==L.target&&H.focus()}L.key==="Escape"&&k(b)},className:"w-full px-1 py-0.5 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:S==="date"?"YYYY-MM-DD":"",autoComplete:"off"})};return g.jsxs(Mr,{children:[x&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[g.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200 bg-blue-50",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"إضافة منتج جديد"}),g.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]})}),g.jsx("div",{className:"p-4 sm:p-6",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 border-b pb-2",children:"المعلومات الأساسية"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم المنتج (عربي) *"}),g.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"أدخل اسم المنتج بالعربية"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم المنتج (إنجليزي)"}),g.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Product Name (English)"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف"}),g.jsx("textarea",{rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"وصف المنتج (اختياري)"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"صورة المنتج"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 sm:p-6 text-center hover:border-blue-400 transition-colors",children:[g.jsx("svg",{className:"mx-auto h-8 sm:h-12 w-8 sm:w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:g.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),g.jsx("div",{className:"mt-2",children:g.jsxs("label",{className:"cursor-pointer",children:[g.jsx("span",{className:"mt-2 block text-xs sm:text-sm font-medium text-gray-900",children:"اضغط لرفع صورة أو اسحب الصورة هنا"}),g.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})}),g.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG, GIF حتى 5MB"})]})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 border-b pb-2",children:"التفاصيل والأسعار"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المورد *"}),g.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[g.jsx("option",{value:"",children:"اختر المورد"}),E.map(b=>g.jsx("option",{value:b.id,children:b.name_ar},b.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"فئة المنتج"}),g.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[g.jsx("option",{value:"",children:"اختر الفئة"}),h.map(b=>g.jsx("option",{value:b.id,children:b.name_ar},b.id))]})]})]}),g.jsx("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:g.jsx(wr,{value:"",onChange:()=>{},showGenerator:!0,showScanner:!0,generateAutomatic:!0,label:"نظام الباركود المتقدم"})}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"سعر الشراء *"}),g.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"0.00"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"سعر البيع *"}),g.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"0.00"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"سعر الجملة"}),g.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"0.00"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"كمية المخزون"}),g.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"0",defaultValue:"0"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحد الأدنى"}),g.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"1",defaultValue:"1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تاريخ الصلاحية"}),g.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"حالة المنتج"}),g.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[g.jsx("option",{value:"true",children:"نشط"}),g.jsx("option",{value:"false",children:"غير نشط"})]})]})]})]})}),g.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50 flex flex-col sm:flex-row justify-end gap-3",children:[g.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"إلغاء"}),g.jsxs("button",{onClick:z,className:"px-4 sm:px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة المنتج"]})]})]})}),g.jsxs("div",{className:"hidden lg:flex flex-col h-screen bg-gray-50",children:[g.jsxs("div",{className:"bg-white shadow-sm border-b border-gray-200 flex-shrink-0",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"إدارة المنتجات"}),g.jsx("p",{className:"text-gray-600 mt-1",children:"إدارة وتنظيم المنتجات مثل الاكسل"})]}),g.jsxs("button",{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة صف جديد"]})]})}),g.jsx("div",{className:"px-6 py-3 bg-gray-50",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[g.jsx("div",{children:g.jsx("input",{type:"text",placeholder:"البحث...",value:v,onChange:b=>c(b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500"})}),g.jsx("div",{children:g.jsxs("select",{value:a,onChange:b=>l(b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"جميع الموردين"}),E.map(b=>g.jsx("option",{value:b.id,children:b.name_ar},b.id))]})}),g.jsx("div",{children:g.jsxs("select",{value:e,onChange:b=>n(b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"جميع الفئات"}),h.map(b=>g.jsx("option",{value:b.id,children:b.name_ar},b.id))]})}),g.jsx("div",{children:g.jsxs("select",{value:r,onChange:b=>o(b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500",children:[g.jsx("option",{value:"all",children:"جميع الحالات"}),g.jsx("option",{value:"active",children:"نشط"}),g.jsx("option",{value:"inactive",children:"غير نشط"})]})}),g.jsx("div",{children:g.jsxs("select",{value:u,onChange:b=>s(b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500",children:[g.jsx("option",{value:"all",children:"جميع المخزونات"}),g.jsx("option",{value:"in_stock",children:"متوفر"}),g.jsx("option",{value:"low_stock",children:"منخفض"}),g.jsx("option",{value:"out_of_stock",children:"نفذ"})]})}),g.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:["المجموع: ",G.length]})]})})]}),g.jsx("div",{className:"flex-1 bg-white overflow-hidden",children:g.jsx("div",{className:"h-full overflow-auto",children:g.jsxs("table",{className:"w-full table-fixed border-collapse",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-12",children:"#"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-16",children:"الصورة"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-40",children:"اسم المنتج (عربي)"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-36",children:"اسم المنتج (إنجليزي)"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-28",children:"المورد"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-24",children:"الفئة"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-28",children:"الباركود"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-28",children:"سعر الشراء"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-28",children:"سعر البيع"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-28",children:"سعر الجملة"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-16",children:"المخزون"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-16",children:"الحد الأدنى"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase border-r border-gray-200 w-12",children:"الحالة"}),g.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase w-20",children:"الإجراءات"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map((b,V)=>{const U=f[b.id],S=b.id;return g.jsxs("tr",{className:`hover:bg-gray-50 ${U?"bg-blue-50 border-l-2 border-blue-400":""}`,children:[g.jsx("td",{className:"px-2 py-1 text-xs text-gray-500 border-r border-gray-200",children:V+1}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"image",value:b.image,type:"image"})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"name_ar",value:b.name_ar})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"name_en",value:b.name_en})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"supplier_id",value:b.supplier_id,type:"select",options:E})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"category_id",value:b.category_id,type:"select",options:h})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"barcode",value:b.barcode,type:"barcode"})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"purchase_price",value:b.purchase_price,type:"price"})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"selling_price",value:b.selling_price,type:"price"})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"wholesale_price",value:b.wholesale_price,type:"price"})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"stock_quantity",value:b.stock_quantity,type:"number"})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"min_stock_level",value:b.min_stock_level,type:"number"})}),g.jsx("td",{className:"px-2 py-1 border-r border-gray-200",children:g.jsx(F,{rowId:S,field:"is_active",value:b.is_active,type:"boolean"})}),g.jsx("td",{className:"px-2 py-1",children:g.jsx("div",{className:"flex items-center gap-1",children:U?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>T(S),disabled:y[S],className:"bg-green-600 hover:bg-green-700 disabled:bg-green-300 text-white p-1 rounded text-xs w-6 h-6 flex items-center justify-center",title:"حفظ",children:y[S]?g.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):"✓"}),g.jsx("button",{onClick:()=>k(S),disabled:y[S],className:"bg-gray-600 hover:bg-gray-700 disabled:bg-gray-300 text-white p-1 rounded text-xs w-6 h-6 flex items-center justify-center",title:"إلغاء",children:"✕"})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>I(b),className:"bg-blue-600 hover:bg-blue-700 text-white p-1 rounded text-xs w-6 h-6 flex items-center justify-center",title:"تعديل",children:"✏️"}),!b.isNew&&g.jsx("button",{onClick:()=>P(b),className:"bg-red-600 hover:bg-red-700 text-white p-1 rounded text-xs w-6 h-6 flex items-center justify-center",title:"حذف",children:"🗑️"})]})})})]},S)})})]})})}),G.length===0&&g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[g.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا توجد منتجات"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"لم يتم العثور على أي منتجات. ابدأ بإضافة منتج جديد."}),g.jsx("button",{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"إضافة المنتج الأول"})]})]}),g.jsxs("div",{className:"lg:hidden min-h-screen bg-gray-50",children:[g.jsxs("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:[g.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:g.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"إدارة المنتجات"}),g.jsx("p",{className:"text-sm text-gray-600",children:"إدارة وتنظيم المنتجات"})]}),g.jsxs("button",{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة منتج"]})]})}),g.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsx("input",{type:"text",placeholder:"البحث...",value:v,onChange:b=>c(b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500"}),g.jsxs("select",{value:a,onChange:b=>l(b.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"جميع الموردين"}),E.map(b=>g.jsx("option",{value:b.id,children:b.name_ar},b.id))]})]}),g.jsxs("div",{className:"text-xs text-gray-600 mt-2 text-center",children:["المجموع: ",G.length," منتج"]})]})]}),g.jsxs("div",{className:"p-4 space-y-4",children:[G.map((b,V)=>{const U=f[b.id],S=b.id;return g.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${U?"ring-2 ring-blue-400 border-blue-400":""}`,children:[g.jsxs("div",{className:"flex items-start justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden border border-gray-200 flex-shrink-0",children:b.image?g.jsx("img",{src:`/storage/${b.image}`,alt:"صورة المنتج",className:"w-full h-full object-cover",onError:D=>{D.target.style.display="none"}}):g.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:g.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:U?g.jsx("input",{type:"text",value:U.name_ar||"",onChange:D=>j(S,"name_ar",D.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"اسم المنتج (عربي)"}):b.name_ar||"غير محدد"}),g.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["رقم ",V+1," • ",b.barcode||"بدون باركود"]})]})]}),g.jsx("div",{className:"flex items-center gap-1",children:U?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>T(S),disabled:y[S],className:"bg-green-600 hover:bg-green-700 disabled:bg-green-300 text-white p-2 rounded text-xs",title:"حفظ",children:y[S]?g.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):"✓"}),g.jsx("button",{onClick:()=>k(S),disabled:y[S],className:"bg-gray-600 hover:bg-gray-700 disabled:bg-gray-300 text-white p-2 rounded text-xs",title:"إلغاء",children:"✕"})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>I(b),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded text-xs",title:"تعديل",children:"✏️"}),!b.isNew&&g.jsx("button",{onClick:()=>P(b),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded text-xs",title:"حذف",children:"🗑️"})]})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"الاسم الإنجليزي"}),U?g.jsx("input",{type:"text",value:U.name_en||"",onChange:D=>j(S,"name_en",D.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"Product Name (English)"}):g.jsx("div",{className:"text-sm text-gray-600",children:b.name_en||"-"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"المورد"}),U?g.jsxs("select",{value:U.supplier_id||"",onChange:D=>j(S,"supplier_id",D.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"اختر المورد"}),E.map(D=>g.jsx("option",{value:D.id,children:D.name_ar},D.id))]}):g.jsx("div",{className:"text-sm text-gray-600",children:E.find(D=>D.id==b.supplier_id)?.name_ar||"-"})]})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"سعر الشراء"}),U?g.jsx("input",{type:"number",value:U.purchase_price||"",onChange:D=>j(S,"purchase_price",D.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"}):g.jsx("div",{className:"text-sm font-medium text-green-600",children:$(b.purchase_price)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"سعر البيع"}),U?g.jsx("input",{type:"number",value:U.selling_price||"",onChange:D=>j(S,"selling_price",D.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"}):g.jsx("div",{className:"text-sm font-medium text-green-600",children:$(b.selling_price)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"المخزون"}),U?g.jsx("input",{type:"number",value:U.stock_quantity||"",onChange:D=>j(S,"stock_quantity",D.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"}):g.jsx("div",{className:"text-sm text-gray-600",children:b.stock_quantity||"0"})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"الحالة"}),U?g.jsxs("select",{value:U.is_active?"true":"false",onChange:D=>j(S,"is_active",D.target.value==="true"),className:"px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",children:[g.jsx("option",{value:"true",children:"نشط"}),g.jsx("option",{value:"false",children:"غير نشط"})]}):g.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${b.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.is_active?"نشط":"غير نشط"})]}),U&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"تغيير الصورة"}),g.jsx("input",{type:"file",accept:"image/*",onChange:D=>{const B=D.target.files[0];B&&m(S,B)},className:"text-xs border border-gray-300 rounded p-1"})]})]})]})]},S)}),G.length===0&&g.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[g.jsx("div",{className:"text-gray-400 text-4xl mb-3",children:"📦"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا توجد منتجات"}),g.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"لم يتم العثور على أي منتجات. ابدأ بإضافة منتج جديد."}),g.jsx("button",{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"إضافة المنتج الأول"})]})]})]})]})}export{An as default};
