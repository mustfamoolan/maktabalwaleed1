import{r as o,j as e,H as p,L as l,a as u}from"./app-CdaPExbl.js";import{R as g}from"./RepresentativeLayout-Cqxscbgb.js";import{f as i,g as j,a as y,b,h as v,i as N,j as f}from"./index-B527Q6ox.js";/* empty css            */function C({representative_user:w,customers:t=[],total:n=0,filters:c={}}){const[a,d]=o.useState(c.search||""),x=s=>{s.preventDefault(),u.get("/representatives/customers",{search:a})},r=s=>new Intl.NumberFormat("ar-IQ",{style:"currency",currency:"IQD"}).format(s),m=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=s=>{switch(s){case"active":return"نشط";case"inactive":return"غير نشط";case"suspended":return"معلق";default:return s}};return e.jsxs(g,{children:[e.jsx(p,{title:"العملاء - المندوبين"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"عملائي"}),e.jsxs("p",{className:"text-gray-600",children:["إدارة قائمة عملائك والتواصل معهم (",n," عميل)"]})]}),e.jsxs(l,{href:"/representatives/customers/create",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(i,{className:"ml-2"}),"إضافة عميل جديد"]})]}),e.jsxs("form",{onSubmit:x,className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(j,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"البحث في العملاء (الاسم، الهاتف، المحافظة...)",value:a,onChange:s=>d(s.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"بحث"})]})]}),t&&t.length>0?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العميل"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الموقع"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الفواتير"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المديونية"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((s,k)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full w-10 h-10 flex items-center justify-center text-blue-600 font-medium ml-3",children:s.customer_name?.charAt(0)||"ع"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.customer_name}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(y,{className:"ml-1"}),s.phone]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[e.jsx(b,{className:"ml-1 text-gray-400"}),s.governorate,", ",s.city]}),s.nearest_landmark&&e.jsx("div",{className:"text-sm text-gray-500",children:s.nearest_landmark})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{children:["مكتملة: ",s.completed_invoices]}),e.jsxs("div",{className:"text-gray-500",children:["ملغية: ",s.cancelled_invoices]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-red-600",children:r(s.total_debt)}),e.jsxs("div",{className:"text-gray-500",children:["مدفوع: ",r(s.total_paid)]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(s.status)}`,children:h(s.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx(v,{})}),e.jsx("button",{className:"text-yellow-600 hover:text-yellow-900",children:e.jsx(N,{})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(f,{})})]})})]},s.id))})]})})}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا يوجد عملاء بعد"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"ابدأ بإضافة أول عميل لك لتتمكن من إدارة مبيعاتك"}),e.jsxs(l,{href:"/representatives/customers/create",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(i,{className:"ml-2"}),"إضافة عميل جديد"]})]})})]})]})}export{C as default};
