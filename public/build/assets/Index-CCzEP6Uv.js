import{r as m,u as v,j as e,H as N}from"./app-DLu82VbL.js";import{A as y}from"./AdminLayout-TR3F2rdb.js";/* empty css            */function C({categories:i}){const[x,n]=m.useState(!1),[l,o]=m.useState(null),{data:a,setData:t,post:u,put:h,delete:p,processing:c,errors:r,reset:d}=v({name_ar:"",name_en:"",description:"",commission_rate:0,color_code:"#007bff",sort_order:0,is_active:!0}),g=s=>{s.preventDefault(),l?h(route("admin.supplier-categories.update",l.id),{onSuccess:()=>{d(),o(null),n(!1)}}):u(route("admin.supplier-categories.store"),{onSuccess:()=>{d(),n(!1)}})},b=s=>{t({name_ar:s.name_ar,name_en:s.name_en||"",description:s.description||"",commission_rate:s.commission_rate,color_code:s.color_code,sort_order:s.sort_order,is_active:s.is_active}),o(s),n(!0)},j=s=>{confirm("هل أنت متأكد من حذف هذه الفئة؟")&&p(route("admin.supplier-categories.destroy",s.id))},f=()=>{d(),o(null),n(!1)};return e.jsxs(y,{children:[e.jsx(N,{title:"إدارة فئات الموردين"}),e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"فئات الموردين"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"إدارة وتصنيف الموردين حسب النوع والتخصص"})]}),e.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة فئة جديدة"]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[x&&e.jsxs("div",{className:"bg-white shadow-sm rounded-xl border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l?"تعديل فئة المورد":"إضافة فئة مورد جديدة"})]})}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الاسم بالعربية *"}),e.jsx("input",{type:"text",value:a.name_ar,onChange:s=>t("name_ar",s.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"أدخل اسم الفئة بالعربية",required:!0}),r.name_ar&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name_ar})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الاسم بالإنجليزية"}),e.jsx("input",{type:"text",value:a.name_en,onChange:s=>t("name_en",s.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter category name in English"}),r.name_en&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name_en})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نسبة العمولة (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:a.commission_rate,onChange:s=>t("commission_rate",s.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0.00"}),r.commission_rate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.commission_rate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"لون الفئة"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",value:a.color_code,onChange:s=>t("color_code",s.target.value),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),e.jsx("input",{type:"text",value:a.color_code,onChange:s=>t("color_code",s.target.value),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"#007bff"})]}),r.color_code&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.color_code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ترتيب العرض"}),e.jsx("input",{type:"number",min:"0",value:a.sort_order,onChange:s=>t("sort_order",s.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0"}),r.sort_order&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.sort_order})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center h-12",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:s=>t("is_active",s.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200"}),e.jsx("label",{htmlFor:"is_active",className:"mr-3 text-sm font-medium text-gray-700",children:"فئة نشطة"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف"}),e.jsx("textarea",{value:a.description,onChange:s=>t("description",s.target.value),rows:"4",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"وصف الفئة ونوع الموردين التابعين لها..."}),r.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description})]}),e.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:f,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-all duration-200 font-medium",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري الحفظ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),l?"تحديث الفئة":"حفظ الفئة"]})})]})]})]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-xl border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14-4H9m6 8H9m8 4H9m-6-8h.01M3 16h.01M3 20h.01"})})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"قائمة الفئات"})]}),e.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:[i.length," فئة"]})]})}),i.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الفئة"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"نسبة العمولة"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"عدد الموردين"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الترتيب"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg mr-4 border border-gray-200",style:{backgroundColor:s.color_code}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name_ar}),s.name_en&&e.jsx("div",{className:"text-sm text-gray-500",children:s.name_en}),s.description&&e.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-xs truncate",children:s.description})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[s.commission_rate,"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.suppliers?.length||0," مورد"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["#",s.sort_order]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.is_active?"نشطة":"غير نشطة"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3 space-x-reverse",children:[e.jsxs("button",{onClick:()=>b(s),className:"text-blue-600 hover:text-blue-900 transition-colors flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"تعديل"]}),e.jsxs("button",{onClick:()=>j(s),className:"text-red-600 hover:text-red-900 transition-colors flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"حذف"]})]})})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14-4H9m6 8H9m8 4H9m-6-8h.01M3 16h.01M3 20h.01"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا توجد فئات موردين"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"ابدأ بإضافة أول فئة لتصنيف الموردين"}),e.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md flex items-center gap-2 mx-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة أول فئة"]})]})]})]})]})}export{C as default};
